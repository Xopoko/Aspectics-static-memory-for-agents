{
  "sections": [
    {
      "id": "section-architecture",
      "slug": "architecture",
      "title": "Teams Slash Teams",
      "entries": [
        {
          "id": "aspect-command-service",
          "sectionId": "section-architecture",
          "slug": "command-service",
          "name": "CommandService integrates slash commands",
          "description": "CommandService.create runs all ICommandLoaders in parallel, collects SlashCommands, renames conflicting extension commands, and provides an immutable list for the UI.",
          "tags": [
            "cli",
            "slash-commands",
            "tools",
            "extensions"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/CommandService.ts",
              "sha256": "38345f3b78dfbff1ddc357b5c20a6353bc00eceb7857ed09cfc56251e68c3471"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.76
        },
        {
          "id": "aspect-builtin-command-loader",
          "sectionId": "section-architecture",
          "slug": "builtin-command-loader",
          "name": "BuiltinCommandLoader and slash command configuration",
          "description": "BuiltinCommandLoader collects core commands (chat, tools, permissions, etc.), takes into account config (model router, folder trust, dev modes) and returns only available SlashCommands.",
          "tags": [
            "cli",
            "slash-commands",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/BuiltinCommandLoader.ts",
              "sha256": "e7675d2b5c6223c018fb4391b4f146d5b8bd77d08598659f0b29b50421a72edc"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-file-command-loader",
          "slug": "file-command-loader",
          "name": "FileCommandLoader loads TOML commands",
          "description": "FileCommandLoader scans user, project and extension directories, given folderTrust, parses TOML via zod, normalizes names, adds processors for @-file, shell injection and arguments, and returns SlashCommand without deduplication.",
          "tags": [
            "cli",
            "slash-commands",
            "extensions",
            "ui"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/FileCommandLoader.ts",
              "sha256": "4b170de83a16a298f911c42022457f22484b50f00d3a362bcd8de06306c65aec"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-slash-command-contract",
          "slug": "slash-command-contract",
          "name": "SlashCommand and CommandContext Contract",
          "description": "types.ts defines a single contract for slash commands: CommandContext combines invocation, core services (Config, Logger, Git) and UI handlers, and SlashCommandActionReturn lists dialogs, submit_prompt, history restoration, shell confirmations and tool launches - due to this, handlers return strongly typed actions for the Ink UI and execution circuit.",
          "tags": [
            "cli",
            "slash-commands"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/types.ts",
              "sha256": "f36ec0dcf3e893483c1fdf398c02d45eff4ba0be10547c956d5e2a342fb95b4a"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-command-loader-interface",
          "slug": "command-loader-interface",
          "name": "ICommandLoader extends slash command sources",
          "description": "services/types.ts anchors the ICommandLoader interface with a single loadCommands(signal) method, which allows the CommandService to accept any command providers (file-based, inline, remote) and handle cancellation via AbortSignal without being hardwired into the implementation.",
          "tags": [
            "cli",
            "slash-commands",
            "extensions"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/types.ts",
              "sha256": "ffb76fd13ac61d7763b0301e89175c5266a23d5977f909b3d1445860f3c77915"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-custom-command-security-pipeline",
          "slug": "custom-command-security-pipeline",
          "name": "Pipeline of custom commands protects execution",
          "description": "FileCommandLoader assembles processors in a fixed order: first AtFile for safe @{path} substitution, then ShellProcessor for checking allowlist and assertions, then DefaultArgumentProcessor adds a raw invocation. Any cancellation in the ShellProcessor is thrown as a ConfirmationRequiredError and turned into confirm_shell_commands, so the UI can request confirmation before sending the prompt.",
          "tags": [
            "cli",
            "slash-commands",
            "security"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/FileCommandLoader.ts",
              "sha256": "4b170de83a16a298f911c42022457f22484b50f00d3a362bcd8de06306c65aec"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-shell-injection-processor",
          "slug": "shell-injection-processor",
          "name": "ShellProcessor checks for shell injections",
          "description": "ShellProcessor replaces {{args}} taking into account the context, checks each !{...} command through checkCommandPermissions and ApprovalMode, increases the requirements to confirmation if the command is not in the allowlist, but is skipped if YOLO. Execution is delegated to ShellExecutionService with a theme from themeManager, the results and errors enrich the final prompt or abort the command.",
          "tags": [
            "cli",
            "slash-commands",
            "security",
            "sandbox"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/shellProcessor.ts",
              "sha256": "e8d03e64481181117ba22bbaf8828c27ad49f3dc69dcf06f6452aad9ae37b5cb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-at-file-injection",
          "slug": "at-file-injection",
          "name": "AtFileProcessor pulls files into prompts",
          "description": "AtFileProcessor looks for @{...} in custom commands, reads files via readPathFromWorkspace taking into account .gitignore/.geminiignore, displays INFO/ERROR messages in the UI when omitted, and leaves a placeholder if reading fails, maintaining transparency for the user.",
          "tags": [
            "cli",
            "slash-commands",
            "filesystem"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/atFileProcessor.ts",
              "sha256": "3f9f1741ae61ef4361c55912a5b1d4a0c53552ad4c3eca39dd84b60253480969"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-prompt-injection-parser",
          "slug": "prompt-injection-parser",
          "name": "extractInjections parses nested blocks",
          "description": "injectionParser.extractInjections traverses the string character-by-character, keeps a brace count, and supports nested blocks, returning exact insertion ranges for !{}/@{ } and throwing an error if a closing brace is not found - this blocks crooked patterns until execution.",
          "tags": [
            "cli",
            "slash-commands"
          ],
          "importance": 0.45,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/injectionParser.ts",
              "sha256": "d6a5fff7ab40e8c77fe891c5c7d86bc10caf7c8486c085f4ee0f41c50fa7362b"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-default-argument-processor",
          "slug": "default-argument-processor",
          "name": "DefaultArgumentProcessor substitutes the original command",
          "description": "DefaultArgumentProcessor is connected last in the pipeline, checks for the presence of invocation.args and, if {{args}} were not used, simply appends the original raw command to the last text part of the prompt, allowing the model to see the full input without custom parsing.",
          "tags": [
            "cli",
            "slash-commands"
          ],
          "importance": 0.35,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/argumentProcessor.ts",
              "sha256": "675867cb2bd19f599fca2d1cb7306f0bf7e262ba6996f3aaf4dd0a737948a299"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-architecture"
        },
        {
          "id": "aspect-command-loader-resilience",
          "slug": "command-loader-resilience",
          "name": "CommandService ignores bootloader errors",
          "description": "CommandService.create uses Promise.allSettled, logs the reason for loader failure via console.debug and continues with successful results, returning Object.freeze of the list so that one failed source does not break slash commands.",
          "tags": [
            "cli",
            "slash-commands",
            "execution"
          ],
          "importance": 0.56,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/CommandService.ts",
              "sha256": "38345f3b78dfbff1ddc357b5c20a6353bc00eceb7857ed09cfc56251e68c3471"
            }
          ],
          "sectionId": "section-architecture",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-slash-command-processor-hook",
          "sectionId": "section-architecture",
          "slug": "slash-command-processor-hook",
          "name": "useSlashCommandProcessor controls the slash lifecycle",
          "description": "The useSlashCommandProcessor hook creates a GitService and Logger, loads commands from McpPromptLoader/BuiltinCommandLoader/FileCommandLoader via CommandService, builds a CommandContext with UI callbacks and statistics, logs events via makeSlashCommandEvent and recursively reassigns confirm_shell and confirm_action, managing all interactive slash orbit.",
          "tags": [
            "cli",
            "slash-commands",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/slashCommandProcessor.ts",
              "sha256": "671bfa8957e4aba2dc76777fda777c5f9935264df406d4d4c9e0eb1221ed4df1"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.76
        },
        {
          "id": "aspect-shell-command-processor",
          "sectionId": "section-architecture",
          "slug": "shell-command-processor",
          "name": "useShellCommandProcessor orchestrates shell tool",
          "description": "useShellCommandProcessor wraps commands in { ...; pwd>tmp }, runs ShellExecutionService.execute with themeManager, monitors PIDs and binary streams, updates pending tool_group and upon completion adds the result to history and GeminiClient, ensuring a consistent shell experience in the interactive.",
          "tags": [
            "cli",
            "shell",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/shellCommandProcessor.ts",
              "sha256": "93b05c4464fa881438c8669f6acec4fc9aea15722f673682df5278dea5263266"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.7
        },
        {
          "id": "aspect-at-command-reader",
          "sectionId": "section-architecture",
          "slug": "at-command-reader",
          "name": "handleAtCommand prepares @path for reading",
          "description": "handleAtCommand parses the input into text/@ parts, filters paths through workspaceContext and the respectGitIgnore/respectGeminiIgnore options, complements the /** directories, calls the glob tool if necessary and collects \"Content from @...\" blocks from read_many_files, adding errors and ignores to the history.",
          "tags": [
            "cli",
            "slash-commands",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/atCommandProcessor.ts",
              "sha256": "b86af24fd78d4a911eb76684e668ae0925329d2f9d4d9c76f071020f0c9632f9"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.64
        },
        {
          "id": "aspect-prompt-processor-contract",
          "sectionId": "section-architecture",
          "slug": "prompt-processor-contract",
          "name": "IPromptProcessor describes the substitution pipeline",
          "description": "types.ts defines IPromptProcessor.process(prompt, context), a common PromptPipelineContent and constants {{args}}, !{ and @{, so that FileCommandLoader and ShellProcessor assemble a compatible transformation pipeline without a rigid connection between modules.",
          "tags": [
            "cli",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/types.ts",
              "sha256": "440a4245be6f119e2171c9fba315e1b5e96b946aab1c421b4e89c6f1d8048d59"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.58
        },
        {
          "id": "aspect-slash-completion-fzf",
          "sectionId": "section-architecture",
          "slug": "slash-completion-fzf",
          "name": "useSlashCompletion builds FZF hints",
          "description": "useSlashCompletion parses input via useCommandParser, caches AsyncFzf levels, distinguishes between subcommands and argument completion (completion(context)), highlights perfect matches and returns Suggestion[], so autocompletion of slash commands remains fast even with a large set of commands.",
          "tags": [
            "cli",
            "slash-commands",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useSlashCompletion.ts",
              "sha256": "a88e2fc012c5ad9b93f1783a4afde5c7edac829ad5803f03b64e84f648e4c939"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.6
        },
        {
          "id": "aspect-slash-command-parser",
          "slug": "slash-command-parser",
          "name": "parseSlashCommand builds the canonical command path",
          "description": "parseSlashCommand goes through the name and alias of the slash commands, collects the canonicalPath, returns the arguments, and leaves commandToExecute undefined if there are no matches.",
          "tags": [
            "cli",
            "ui"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/commands.ts",
              "sha256": "6e3346627aef5c81d10b5f60481e0cbff260d088f00992e92c0a254635ab74f7"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-architecture"
        }
      ]
    },
    {
      "id": "section-workspace",
      "slug": "workspace",
      "title": "Configuration Workspace context",
      "entries": [
        {
          "id": "aspect-workspace-structure",
          "slug": "workspace-structure",
          "name": "Workspace monorepo and CLI bundle",
          "description": "Critical: the root package.json declares npm workspaces for packages/*, fixes Node >=20, binds the gemini binary to bundle/gemini.js and manages generation (generate, build, bundle) and sandbox through scripts, so any build/CLI script must go through a single workspace.",
          "tags": [
            "workspace",
            "cli",
            "build"
          ],
          "importance": 0.84,
          "sources": [
            {
              "path": "projects/GeminiCLI/package.json",
              "sha256": "5dbf20f71844cffb9ab8350f975a0222eb480bb57e594b7ca2dde87caff9c551"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-workspace"
        },
        {
          "id": "aspect-workspace-context",
          "slug": "workspace-context",
          "name": "WorkspaceContext with multiple roots",
          "description": "The WorkspaceContext in core/utils/workspaceContext.ts keeps track of a set of directories, normalizes paths via realpath, checks that paths belong to working roots, and notifies subscribers when directories change, which is critical for multi-root projects and access security.",
          "tags": [
            "workspace",
            "filesystem",
            "core"
          ],
          "importance": 0.76,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/workspaceContext.ts",
              "sha256": "446d45f70034e2882cb091c357e92da1c90edbac5155a97e2aa987b70f416686"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-workspace"
        },
        {
          "id": "aspect-workspace-tsconfig",
          "sectionId": "section-workspace",
          "slug": "workspace-tsconfig",
          "name": "Strict basic tsconfig",
          "description": "tsconfig.json includes a strict TypeScript profile (strict, noImplicit*, noUnusedLocals), includes composite and incremental assembly, NodeNext module resolution, JSX=react-jsx and lib=ES2023, setting uniform compilation rules for all workspace packages.",
          "tags": [
            "workspace",
            "config"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/tsconfig.json",
              "sha256": "fa2544019e914993b9a7757489f3b58c8575edd435ac3f05314ae98ea0dbe974"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-workspace-eslint-config",
          "sectionId": "section-workspace",
          "slug": "workspace-eslint-config",
          "name": "Flat ESLint config for monorepa",
          "description": "eslint.config.js collects a flat config: connects @eslint/js, typescript-eslint, React hooks, license header, import and vitest plugins, introduces general rules (import/no-internal-modules, prohibition of require, licenses) and separate sets for scripts and tests, which guarantees a single lint for the monorep.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/eslint.config.js",
              "sha256": "753bdaf839afac9a20424a20729a3b99d3e4e359a5415c6e40494575d970f83b"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.66
        },
        {
          "id": "aspect-workspace-makefile-wrapper",
          "sectionId": "section-workspace",
          "slug": "workspace-makefile",
          "name": "Makefile wraps npm scripts",
          "description": "The Makefile proxies key npm scripts (install, build, test, lint, format, preflight), adds run-npx to test a published package and create-alias for a local alias, allowing developers and CIs to call standard commands without remembering npm run.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/Makefile",
              "sha256": "97e31436653f56893e101299df6054a306cdd46224e53401ae97dbea8049b386"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        },
        {
          "id": "aspect-workspace-clean-script",
          "sectionId": "section-workspace",
          "slug": "workspace-clean-script",
          "name": "The clean script resets workspace artifacts",
          "description": "scripts/clean.js removes node_modules, bundle and generated directories, recursively clears dist in all workspaces and removes node_modules/vsix from vscode-ide-companion, providing a clean environment before building.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/clean.js",
              "sha256": "b2e87b01aba7ed65e0a24548883154112cefaee1801fec2132e95bfb3a8869bb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-workspace-cli-alias",
          "sectionId": "section-workspace",
          "slug": "workspace-cli-alias",
          "name": "create_alias.sh adds alias gemini",
          "description": "scripts/create_alias.sh determines the shell used (bash/zsh), checks the existence of alias gemini and, upon confirmation, adds alias gemini='node .../scripts/start.js' to the user's rc file, simplifying local launch of the CLI.",
          "tags": [
            "workspace",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/create_alias.sh",
              "sha256": "1bc89bb9323cbd86aa726f4b582c05274ff788072f61494c965eee3fbd6871e0"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.35
        },
        {
          "id": "aspect-workspace-start-script",
          "sectionId": "section-workspace",
          "slug": "workspace-start-script",
          "name": "start.js starts the CLI with build verification",
          "description": "scripts/start.js calls check-build-status before starting the CLI, reads version from package.json for CLI_VERSION, defines a sandbox command, adds --inspect-brk to DEBUG and spawns packages/cli with DEV=true, ensuring a single dev launch.",
          "tags": [
            "workspace",
            "startup",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/start.js",
              "sha256": "ad4ac578600551dad148478d75c8d5c63fdc1713c491ffecb836351f09d6469c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.68
        },
        {
          "id": "aspect-workspace-precommit-hook",
          "sectionId": "section-workspace",
          "slug": "workspace-precommit",
          "name": "pre-commit.js runs lint-staged",
          "description": "scripts/pre-commit.js via git rev-parse finds the root of the repository and executes the lint-staged API, ending on execution status, which makes the husky hook independent of the shell and guarantees a formatting run before commit.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/pre-commit.js",
              "sha256": "5231b2698e2fc3a2898f714e5e469229d7e4780bd47e70deb4f141eb76cfeda0"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.45
        },
        {
          "id": "aspect-workspace-deflake",
          "sectionId": "section-workspace",
          "slug": "workspace-deflake",
          "name": "deflake.js overrides flaky commands",
          "description": "scripts/deflake.js accepts --command and --runs, parses arguments neatly, runs the process in a loop, counts failed runs, and returns an error code, helping to reproduce and localize flaky tests.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/deflake.js",
              "sha256": "ef29e0e11d739e009941b8bd075a8679c71e6dea6d4e2c1a230457fc929356fc"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.4
        },
        {
          "id": "aspect-workspace-esbuild",
          "sectionId": "section-workspace",
          "slug": "workspace-esbuild",
          "name": "esbuild.config.js CLI bundle and a2a-server",
          "description": "esbuild.config.js bundle bundle/gemini.js and a2a-server: connects wasmLoader for built-in .wasm, exports node-pty packages to external, injects CLI_VERSION, aliases patches and writes metafile to DEV, and logs a2a build failure without interrupting the CLI pipeline.",
          "tags": [
            "workspace",
            "build"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/esbuild.config.js",
              "sha256": "ca2a1409d63e3ec85b15552e48bcad99126df42f13682b526eb0cabf20e3799a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-workspace-lint-staged",
          "sectionId": "section-workspace",
          "slug": "workspace-lint-staged",
          "name": "Setting lint-staged in package.json",
          "description": "package.json specifies lint-staged: staged JS/TS is passed through prettier and eslint --fix, and JSON/Markdown is formatted by prettier, ensuring consistent styling even across partial commits.",
          "tags": [
            "workspace",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/package.json",
              "sha256": "5dbf20f71844cffb9ab8350f975a0222eb480bb57e594b7ca2dde87caff9c551"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-workspace-auth-scripts",
          "sectionId": "section-workspace",
          "slug": "workspace-auth-scripts",
          "name": "auth scripts configure npm and docker synchronously",
          "description": "package.json contains the auth:npm (google-artifactregistry-auth) and auth:docker (gcloud configure-docker) scripts, combining them into npm run auth to configure private npm and container registries before publishing.",
          "tags": [
            "workspace",
            "auth"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/package.json",
              "sha256": "5dbf20f71844cffb9ab8350f975a0222eb480bb57e594b7ca2dde87caff9c551"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        }
      ]
    },
    {
      "id": "section-startup",
      "slug": "startup",
      "title": "Execution Start and end",
      "entries": [
        {
          "id": "aspect-cli-entrypoint",
          "slug": "cli-entrypoint",
          "name": "Main entrypoint gemini",
          "description": "index.ts exports a shebang binary, loads main from src/gemini.js and intercepts FatalError: in color output it wraps the message, sets exitCode and ends the process, and for unexpected errors it prints a stacktrace and crashes with code 1.",
          "tags": [
            "cli",
            "core",
            "execution",
            "startup"
          ],
          "importance": 0.78,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/index.ts",
              "sha256": "952f1d1e90763a81560b98e275265a7d6be5df8d50b05844dd3ed24cdb83e140"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-startup"
        },
        {
          "id": "aspect-interactive-bootstrap",
          "slug": "interactive-bootstrap",
          "name": "Launching interactive Ink UI",
          "description": "Critical: gemini.tsx prepares the environment before Ink-render - disables the terminal wrapper, configures sandbox/startup warnings, runs initializeApp, theme and update check, validates auth, registers cleanup, which determines the life cycle of the interactive mode.",
          "tags": [
            "cli",
            "ui",
            "execution",
            "startup"
          ],
          "importance": 0.81,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-startup"
        },
        {
          "id": "aspect-initialize-app",
          "sectionId": "section-startup",
          "slug": "initialize-app",
          "name": "Initializing the CLI before rendering the UI",
          "description": "initializeApp performs performInitialAuth, validateTheme, resolves shouldOpenAuthDialog and in IDE mode connects IdeClient, so all preparation of the environment is completed before the UI is rendered.",
          "tags": [
            "cli",
            "auth",
            "settings",
            "startup"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/core/initializer.ts",
              "sha256": "cd5854335c42965d93f663662b5fb4c66ba82416b44ee64ab5582fb330a6509f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.78
        },
        {
          "id": "aspect-session-retention-cleanup",
          "sectionId": "section-startup",
          "slug": "session-retention-cleanup",
          "name": "Clearing sessions at start",
          "description": "cleanupExpiredSessions validates retention settings, rereads temp/chats, deletes damaged and expired sessions, taking into account maxAge/maxCount and without interrupting the CLI launch.",
          "tags": [
            "cli",
            "memory",
            "startup"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sessionCleanup.ts",
              "sha256": "ea85a611caf95f507e8cfbe7271d1dd3ab5b984a746d41f774ea9188cb16ca64"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.68
        },
        {
          "id": "aspect-cli-relaunch-loop",
          "sectionId": "section-startup",
          "slug": "cli-relaunch-loop",
          "name": "Restarting a process with relaunch exit code",
          "description": "relaunchOnExitCode spins the runner until the exit code changes, and relaunchAppInChildProcess collects node arguments, marks GEMINI_CLI_NO_RELAUNCH and carefully manages stdin during restarts.",
          "tags": [
            "cli",
            "execution",
            "startup"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/relaunch.ts",
              "sha256": "81f48ad68f6877107920c85d12f453857bab49af8fc051cce48772f4d6e621c2"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.62
        },
        {
          "id": "aspect-cleanup-registry",
          "sectionId": "section-startup",
          "slug": "cleanup-registry",
          "name": "Cleanup framework runExitCleanup",
          "description": "cleanup.ts registers shutdown functions, runExitCleanup executes them with error suppression, and cleanupCheckpoints clears temp/checkpoints so sessions don't leak between restarts.",
          "tags": [
            "cli",
            "execution",
            "startup"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/cleanup.ts",
              "sha256": "d13acfccab12576159481d09146a368a2105ea6e45186434d9e3c61e1e4820d6"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.6
        },
        {
          "id": "aspect-startup-warnings-reader",
          "slug": "startup-warnings-reader",
          "name": "getStartupWarnings reads a temporary warnings file",
          "description": "startupWarnings.ts checks temp/gemini-cli-warnings.txt, returns warning lines and tries to delete the file, and for other errors adds getErrorMessage to the output.",
          "tags": [
            "cli",
            "security",
            "startup"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/startupWarnings.ts",
              "sha256": "5efabb07b4f0cc1a03eee89b3f43b22dfaf2d0438cd30eb10d4b8e04131c4ab4"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-startup"
        },
        {
          "id": "aspect-unhandled-rejection-handler",
          "slug": "unhandled-rejection-handler",
          "name": "Unhandled rejection opens debug console",
          "description": "setupUnhandledRejectionHandler in gemini.tsx signs process.on('unhandledRejection'), logs the error via AppEvent.LogError and emits AppEvent.OpenDebugConsole once so that the interactive UI immediately opens the debug panel for hidden failures.",
          "tags": [
            "startup",
            "observability",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.72,
          "sectionId": "section-startup",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-auto-memory-scaling",
          "slug": "auto-memory-scaling",
          "name": "Auto-restart with increased heap",
          "description": "getNodeMemoryArgs calculates the target heap as 50% of the total memory and, with advanced.autoConfigureMemory enabled, adds --max-old-space-size before relaunchAppInChildProcess or sandbox start so that the child process gets a larger limit without manual configuration.",
          "tags": [
            "startup",
            "execution",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.63,
          "sectionId": "section-startup",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-dns-resolution-order",
          "slug": "dns-resolution-order",
          "name": "dnsResolutionOrder from settings controls the network",
          "description": "validateDnsResolutionOrder only accepts ipv4first/verbatim, warns about invalid values, and immediately passes the choice to dns.setDefaultResultOrder so that all subsequent requests follow the user's expectations.",
          "tags": [
            "startup",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.57,
          "sectionId": "section-startup",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-environment-context",
          "sectionId": "section-startup",
          "slug": "environment-context",
          "name": "getEnvironmentContext prepares the starting context",
          "description": "getEnvironmentContext describes the date, platform and working directories via getFolderStructure, adds Part with this text and, with fullContext enabled, calls read_many_files with a timeout of 30 seconds, adding a full dump or error message so that the chat starts with the current environment.",
          "tags": [
            "startup",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/environmentContext.ts",
              "sha256": "dd948b217b99add0ff09878f0d5c180340b65ca0c897aee38d57d6ec82db119c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.66
        },
        {
          "id": "aspect-ink-is-in-ci-patch",
          "sectionId": "section-startup",
          "slug": "ink-is-in-ci-patch",
          "name": "The is-in-ci patch keeps Ink out of CI mode",
          "description": "patches/is-in-ci.ts overrides the is-in-ci package to `const isInCi = false`, documents Issue #1563 and emphasizes that Ink is only used in the interactive thread; thanks to this, the CLI does not disable rendering even when the CI variables are set.",
          "tags": [
            "cli",
            "startup",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/patches/is-in-ci.ts",
              "sha256": "dd4851fba39d16ea883e94d9374bca8535c0e560f70795ebe8a7652640c472c8"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.4
        },
        {
          "id": "aspect-package-json-loader",
          "sectionId": "section-startup",
          "slug": "package-json-loader",
          "name": "getPackageJson lazily reads package.json CLI",
          "description": "utils/package.ts via readPackageUp determines package.json relative to the current module, caches the result and returns an extended type with config.sandboxImageUri, which allows version and sandbox checks to reference the same source without repeated disk accesses.",
          "tags": [
            "cli",
            "startup",
            "build"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/package.ts",
              "sha256": "b585831b09dc01b18af017b5177de793c755f083b17385e308bf705ebad80147"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.44
        }
      ]
    },
    {
      "id": "section-terminal-startup",
      "slug": "terminal-startup",
      "title": "Version - Terminal",
      "entries": [
        {
          "id": "aspect-interactive-raw-mode",
          "slug": "interactive-raw-mode",
          "name": "Interactive converts stdin to raw and rolls back on signals",
          "description": "If Config is interactive and stdin TTY, the process sets rawMode, and SIGTERM/SIGINT restores the previous state; This way Ink doesn't catch extra characters and controls the keyboard correctly.",
          "tags": [
            "startup",
            "cli",
            "ui",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.6,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-kitty-keyboard-protocol",
          "slug": "kitty-keyboard-protocol",
          "name": "Kitty keyboard protocol is enabled at startup",
          "description": "detectAndEnableKittyProtocol converts stdin to raw, sends requests [?u and [c, waits for an extended response up to 1 second, if successful, activates [>1u and registers disableProtocol on exit/SIGTERM.",
          "tags": [
            "startup",
            "ui",
            "ink",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/kittyProtocolDetector.ts",
              "sha256": "b5da8aa1e5add2e10365aa49f17f5fc569dde6edb25d7e055331a0503f6bad5a"
            }
          ],
          "importance": 0.45,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-window-title-management",
          "slug": "window-title-management",
          "name": "Setting and resetting the window title",
          "description": "setWindowTitle applies computeWindowTitle (takes CLI_TITLE into account and clears control characters) and sends ESC sequences to update the title, and resets it to empty on exit.",
          "tags": [
            "startup",
            "ui",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/windowTitle.ts",
              "sha256": "3ed02c0a6f413384e73df40237749db63aa1351d74c99e3c8727d3ce17f26c61"
            }
          ],
          "importance": 0.42,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-prompt-interactive-tty-guard",
          "slug": "prompt-interactive-tty-guard",
          "name": "--prompt-interactive is not allowed without TTY",
          "description": "The main run checks that with the --prompt-interactive flag, stdin is a TTY; otherwise it displays a clear error and terminates the process, preventing crashes during pipelines.",
          "tags": [
            "startup",
            "noninteractive",
            "cli",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.56,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-stdin-read-limiter",
          "slug": "stdin-read-limiter",
          "name": "readStdin limits size and timeout",
          "description": "readStdin enables utf8, stops waiting after 500 ms if nothing has arrived, truncates the stream after 8 MB with a warning, and carefully removes end/error listeners so that non-interactive scripts do not hang.",
          "tags": [
            "startup",
            "noninteractive",
            "cli",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/readStdin.ts",
              "sha256": "1cfcd029424f482f2748e619368417e5dc0efc0a62cca139e81a78a432745bed"
            }
          ],
          "importance": 0.53,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-console-patcher-startup",
          "slug": "console-patcher-startup",
          "name": "ConsolePatcher stabilizes output at startup",
          "description": "main creates a ConsolePatcher with stderr mirroring and logs cleanup; ConsolePatcher itself replaces log/warn/error/debug/info, formats util.format and in debug mode duplicates the output, which protects Ink UI from traveling logs.",
          "tags": [
            "startup",
            "observability",
            "cli",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/ConsolePatcher.ts",
              "sha256": "610044bf14df35683e6ce940370f9ce8c7915b96d4042c71912dee8bb7f819ac"
            }
          ],
          "importance": 0.62,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-user-theme-loading",
          "slug": "user-theme-loading",
          "name": "Custom themes are connected before Ink",
          "description": "themeManager.loadCustomThemes loads custom themes from settings, and setActiveTheme attempts to activate the selected theme and warns if the theme is not found, leaving further checking to the UI hook.",
          "tags": [
            "startup",
            "ui",
            "settings",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.54,
          "sectionId": "section-terminal-startup",
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-terminal-bracketed-paste",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-bracketed-paste",
          "name": "useBracketedPaste controls bracketed paste",
          "description": "useBracketedPaste sends ESC[?2004h when mounted, and when unmounted or exit/SIGINT/SIGTERM ensures ESC[?2004l, preserving the terminal's paste mode.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useBracketedPaste.ts",
              "sha256": "bf07e2fe2150e183686c1ed139cfa709727ea6e2128158e3e7322f40f895a08f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.49
        },
        {
          "id": "aspect-terminal-keypress-raw-mode",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-keypress-raw-mode",
          "name": "KeypressProvider provides raw stdin mode",
          "description": "KeypressProvider enables setRawMode(true) if necessary, for Node < 20 or PASTE_WORKAROUND redirects input through PassThrough+readline.emitKeypressEvents and restores the original mode after processing.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/KeypressContext.tsx",
              "sha256": "232ba13804aa78649153c12afb7692d9c5eeae136d9469d85fb5296300561178"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-terminal-keypress-drag-paste",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-keypress-drag-paste",
          "name": "KeypressProvider handles paste and drag-and-drop",
          "description": "handleKeypress buffers bracketed paste, collects drag/drop sequences in dragBufferRef, maps alt characters and monitors the \\+Enter pair with the BACKSLASH_ENTER_DETECTION_WINDOW_MS timer.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/KeypressContext.tsx",
              "sha256": "232ba13804aa78649153c12afb7692d9c5eeae136d9469d85fb5296300561178"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.57
        },
        {
          "id": "aspect-terminal-keypress-kitty",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-keypress-kitty",
          "name": "KeypressProvider parses Kitty Protocol",
          "description": "In kitty mode, KeypressProvider accumulates CSI prefixes, parses them with parseKittyPrefix, logs KittySequenceOverflowEvent when MAX_KITTY_SEQUENCE_LENGTH is exceeded, and corrects Ctrl+C sequences.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/KeypressContext.tsx",
              "sha256": "232ba13804aa78649153c12afb7692d9c5eeae136d9469d85fb5296300561178"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.56
        },
        {
          "id": "aspect-terminal-setup-detection",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-setup-detection",
          "name": "detectTerminal distinguishes between VS Code, Cursor and Windsurf",
          "description": "Terminal looks at TERM_PROGRAM and Cursor/Windsurf service variables, then if necessary calls ps -o comm= -p $PPID to identify VS Code forks by parent name and return \"cursor\"/\"windsurf\"/\"vscode\" or null, which allows terminalSetup to select the correct configuration.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/terminalSetup.ts",
              "sha256": "cf432dbd0636867bd9a8fb096657c9c3bad1ee2c85066a4290732dbdb71beedf"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.41
        },
        {
          "id": "aspect-terminal-setup-config",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-setup-config",
          "name": "configureVSCodeStyle adds Shift/Ctrl+Enter to keybindings",
          "description": "configureVSCodeStyle calculates the user directory for Code/Cursor/Windsurf, creates keybindings.json if necessary, backs it up, removes line comments, checks existing shift+enter/ctrl+enter binds and, if there are no conflicts, inserts workbench.action.terminal.sendSequence commands with the text \"\\\\r\\\\n\", marking the result requiresRestart.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/terminalSetup.ts",
              "sha256": "cf432dbd0636867bd9a8fb096657c9c3bad1ee2c85066a4290732dbdb71beedf"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-terminal-setup-backup",
          "sectionId": "section-terminal-startup",
          "slug": "terminal-setup-backup",
          "name": "terminalSetup insures keybindings via backupFile",
          "description": "Before recording, terminalSetup copies the original keybindings.json with the suffix backup.<timestamp>, uses stripJsonComments to clean up VS Code comments, and if the JSON is invalid, returns a hint to fix the file manually, maintaining the safety of changing the configuration.",
          "tags": [
            "cli",
            "startup",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/terminalSetup.ts",
              "sha256": "cf432dbd0636867bd9a8fb096657c9c3bad1ee2c85066a4290732dbdb71beedf"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.38
        },
        {
          "id": "aspect-pty-loader",
          "sectionId": "section-terminal-startup",
          "slug": "pty-loader",
          "name": "getPty loads node-pty options",
          "description": "getPty asynchronously attempts to import @lydell/node-pty, if unsuccessful, falls back to node-pty and returns the name of the selected package; if both imports fail, returns null, allowing ShellTool to gracefully disable PTY scripts.",
          "tags": [
            "core",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/getPty.ts",
              "sha256": "dc2b69d31a0cef5b78a0164a282551541c6d917a4e16ac8e279957412ab6b15f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.45
        }
      ]
    },
    {
      "id": "section-cli-commands",
      "slug": "cli-commands",
      "title": "Commands Basic CLI",
      "entries": [
        {
          "id": "aspect-memory-command",
          "slug": "memory-command",
          "name": "/memory controls user memory",
          "description": "memoryCommand combines show/add/refresh/list: show prints cached memory and GEMINI.md counter, add returns save_memory tool with facts, refresh reloads memory via loadHierarchicalGeminiMemory and updates config/UI, list displays paths of monitored files.",
          "tags": [
            "cli",
            "cli-command",
            "memory"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/memoryCommand.ts",
              "sha256": "e3440d33c8d665ee546f91e689a49048360077e032ac34b4abc79bdfd0ccf21b"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-directory-command",
          "slug": "directory-command",
          "name": "/directory manages workspace directories",
          "description": "directoryCommand.add expands ~ and %USERPROFILE%, denies the restrictive sandbox, adds paths to the WorkspaceContext, reloads memory if necessary via loadServerHierarchicalMemory, and notifies GeminiClient.addDirectoryContext; show displays the current list of directories.",
          "tags": [
            "cli",
            "cli-command",
            "workspace"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/directoryCommand.tsx",
              "sha256": "45c39af3a0262f421b230db7dc68b4558565603a6ba4dc4fc9f1d2e8d5e3da4c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-compress-command",
          "slug": "compress-command",
          "name": "/compress starts history compression",
          "description": "compressCommand does not allow parallel requests (ui.pendingItem), displays HistoryItemCompression with a pending status, calls GeminiClient.tryCompressChat with a unique promptId and replaces the entry with summary tokens or displays an error and clears pending.",
          "tags": [
            "cli",
            "cli-command",
            "memory"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/compressCommand.ts",
              "sha256": "bd8d1b8f2c3c01703dc8026cb3691a0937289b304ee2876474f34832247dc791"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-restore-command",
          "slug": "restore-command",
          "name": "/restore reuses saved tool calls",
          "description": "restoreCommand is available only when checkpointing is enabled: without an argument it shows available JSON checkpoints, with an argument it loads the saved history/clientHistory, calls GitService.restoreProjectFromSnapshot and returns a tool call for re-execution.",
          "tags": [
            "cli",
            "cli-command",
            "execution"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/restoreCommand.ts",
              "sha256": "d3c71016c7a36677e14eeed87d5dc479e302c0eb9fccfbbe357158f0486f8d60"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-tools-command",
          "slug": "tools-command",
          "name": "/tools lists available Gemini tools",
          "description": "toolsCommand gets ToolRegistry from Config, filters MCP tools (checking serverName) and outputs HistoryItemToolsList; the desc/descriptions argument includes expanded descriptions.",
          "tags": [
            "cli",
            "cli-command",
            "tools"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/toolsCommand.ts",
              "sha256": "e96f5fe191f8767bf8926011de90d52b6973cdbb5162bab5a0a47d94647a078b"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-terminal-setup-command",
          "slug": "terminal-setup-command",
          "name": "/terminal-setup configures terminal hotkeys",
          "description": "terminalSetupCommand calls the terminalSetup utility, which edits VS Code/Cursor/Windsurf configs for multiline input; The message result includes requiresRestart to ask the user to restart the terminal.",
          "tags": [
            "cli",
            "cli-command",
            "startup"
          ],
          "importance": 0.4,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/terminalSetupCommand.ts",
              "sha256": "cff657bb4297381b19535c1b0df83f8dad5504ba18673c7a525abdd7d286e7ba"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        },
        {
          "id": "aspect-chat-command",
          "slug": "chat-command",
          "name": "/chat works with conversation checkpoints",
          "description": "chatCommand implements list/save/resume: list reads checkpoint-* from storage and shows mtime, save via ChatLoggingService checks the existence of the tag and requires confirm_action before overwrite, resume loads checkpoint, restores UI history and marks the system prompt, saving message roles.",
          "tags": [
            "cli",
            "cli-command",
            "memory"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/chatCommand.ts",
              "sha256": "eb884a5e8a8d055d551e95e1777e688d7c383c1ba70b5eeea343a1a74d249876"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-commands"
        }
      ]
    },
    {
      "id": "section-cli-support-commands",
      "slug": "cli-support-commands",
      "title": "Teams - Session support",
      "entries": [
        {
          "id": "aspect-stats-command",
          "slug": "stats-command",
          "name": "/stats shows session metrics",
          "description": "statsCommand calculates the wall clock duration from session.stats.sessionStartTime, formats it using formatDuration and renders HistoryItemStats, and the model/tools subcommands display individual MODEL_STATS and TOOL_STATS widgets.",
          "tags": [
            "cli",
            "cli-command",
            "metrics"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/statsCommand.ts",
              "sha256": "1fb65b54d0f76f4f37f36d2ee51b200930113e1f6657dcb06f8e04693e8f668e"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-support-commands"
        },
        {
          "id": "aspect-about-command",
          "sectionId": "section-cli-support-commands",
          "slug": "about-command",
          "name": "aboutCommand displays information about the CLI and environment",
          "description": "aboutCommand generates HistoryItemAbout: recognizes SANDBOX (sandbox-exec -> seatbelt profile), reads the selected model from Config, CLI version via getCliVersion, auth type from settings and IDE client, then adds the card to the history.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/aboutCommand.ts",
              "sha256": "7eff63d61d6c7d33b9d3bf89b6e4edfb30f206b136d03e682dc77eabb3e8865d"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.46
        },
        {
          "id": "aspect-help-command",
          "sectionId": "section-cli-support-commands",
          "slug": "help-command",
          "name": "helpCommand instantly shows help",
          "description": "helpCommand with alias '?' creates a HistoryItemHelp with the current date and adds it via context.ui.addItem, providing inline help without leaving the session.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/helpCommand.ts",
              "sha256": "36c465542368d3e0b05f0723e661cd1ea0923d3b0e1ced8d3ecccfcfe73a4de7"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.32
        },
        {
          "id": "aspect-docs-command",
          "sectionId": "section-cli-support-commands",
          "slug": "docs-command",
          "name": "docsCommand opens documentation",
          "description": "docsCommand opens https://goo.gle/gemini-cli-docs: in a sandbox environment, prints the URL as INFO, otherwise it calls open() and informs the user about launching the browser.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/docsCommand.ts",
              "sha256": "69cfc62bb74c410b3b0d84e5b14a75fe7baeffdaa18e13d92dd0201258f9d2f8"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.42
        },
        {
          "id": "aspect-clear-command",
          "sectionId": "section-cli-support-commands",
          "slug": "clear-command",
          "name": "clearCommand clears history",
          "description": "clearCommand resets the dialog: calls geminiClient.resetChat if there is a client, writes a debug message, resets uiTelemetryService.setLastPromptTokenCount(0) and clears the UI.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/clearCommand.ts",
              "sha256": "e98e319ad8cdc83516ec999b33c9877bed78313375fcd1e46fe2b1a17c21c881"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.58
        },
        {
          "id": "aspect-copy-command",
          "sectionId": "section-cli-support-commands",
          "slug": "copy-command",
          "name": "copyCommand copies the model's last response",
          "description": "copyCommand retrieves the latest role=model message from the history via GeminiClient.getChat(), collects the text parts, tries copyToClipboard and returns an INFO/ERROR message.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/copyCommand.ts",
              "sha256": "256cab29117536bcdb0d4ad967d4c387c3fbdeae92824541bcd0cb9e3fc7e955"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.4
        },
        {
          "id": "aspect-quit-command",
          "sectionId": "section-cli-support-commands",
          "slug": "quit-command",
          "name": "quitCommand ends the report session",
          "description": "quitCommand (alias /exit) calculates the session duration via formatDuration and returns quit-action with an echo /quit and a card about the total working time.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/quitCommand.ts",
              "sha256": "8b5680a93b8373eb0ab29d2d8e242dc56f3aac8d737d153fb93a66591c49e73b"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.45
        },
        {
          "id": "aspect-bug-command",
          "sectionId": "section-cli-support-commands",
          "slug": "bug-command",
          "name": "bugCommand prepares a bug report",
          "description": "bugCommand generates a link using a template (taking into account the override in config.getBugCommand()), collects the CLI version, GIT_COMMIT_INFO, sessionId, sandbox, model and memory size, displays INFO and tries to open the browser.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/bugCommand.ts",
              "sha256": "6b31f10514e7c65b311b23d9a45fde367b702e27baaa747bac8d42572c461950"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.48
        },
        {
          "id": "aspect-show-memory-action",
          "sectionId": "section-cli-support-commands",
          "slug": "show-memory-action",
          "name": "createShowMemoryAction generates a response for /memory show",
          "description": "createShowMemoryAction checks for the presence of config, logs debug messages, collects the number of GEMINI.md files and their names from settings, and then adds a MessageType.INFO with a Markdown-encoded memory block to the history or explains that the memory is empty, providing an informative /memory show output.",
          "tags": [
            "cli",
            "cli-command",
            "memory"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useShowMemoryCommand.ts",
              "sha256": "bcebd19eb3ee8db3637df2619696cd247e4879797cd73eb05540068d596b2436"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.48
        }
      ]
    },
    {
      "id": "section-cli-settings-commands",
      "slug": "cli-settings-commands",
      "title": "Commands - Settings",
      "entries": [
        {
          "id": "aspect-privacy-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "privacy-command",
          "name": "privacyCommand shows privacy notice",
          "description": "privacyCommand returns a dialog 'privacy' action to instantly show the privacy policy directly in the Ink UI.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/privacyCommand.ts",
              "sha256": "8fea33205e3762cc1e810f1ff99b76c4059f4a575d00b17ac2b2cd57d78a3491"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.35
        },
        {
          "id": "aspect-permissions-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "permissions-command",
          "name": "permissionsCommand controls folder trust",
          "description": "permissionsCommand launches the 'permissions' dialog, allowing you to switch folder trust levels without manually editing settings.json.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/permissionsCommand.ts",
              "sha256": "69f78eba27bd4958406cb4ac693114641eb78cdc881a5d5a5685a7578f50bea9"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.55
        },
        {
          "id": "aspect-settings-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "settings-command",
          "name": "settingsCommand opens Gemini CLI settings",
          "description": "settingsCommand returns the 'settings' dialog, allowing the merged settings.json layers to be edited directly from the interface.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/settingsCommand.ts",
              "sha256": "a04d37e6a3bd3e6e2b2455f01a18e43c539e6e8aba04c6c3c9cb5072f7ef89f1"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.54
        },
        {
          "id": "aspect-theme-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "theme-command",
          "name": "themeCommand switches the theme",
          "description": "themeCommand issues a dialog 'theme' action, which runs the useThemeCommand handler to preview and save the selected theme.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/themeCommand.ts",
              "sha256": "f6870a54f05118b8bf9637c7fcc4e8acd206c9952c60d089c755c6fadad732f3"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.34
        },
        {
          "id": "aspect-extensions-slash-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "extensions-slash-command",
          "name": "/extensions manages the list of extensions",
          "description": "extensionsCommand starts subCommands list and update: list renders MessageType.EXTENSIONS_LIST, and update parses names or --all, sets a pending indicator, sends SCHEDULE_UPDATE via dispatchExtensionStateUpdate and after completion re-displays the list or displays errors about unknown extensions.",
          "tags": [
            "cli",
            "cli-command",
            "extensions",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/extensionsCommand.ts",
              "sha256": "c133f5618cc4c5a001a83c8eecb72f30651b48dccae1d75d3e9685b61024a8a0"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.64
        },
        {
          "id": "aspect-model-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "model-command",
          "name": "/model opens model selection",
          "description": "modelCommand is a BUILT_IN slash command that returns the action dialog 'model', thereby delegating model selection to the Ink dialog and allowing routing to be changed without in-line parameters.",
          "tags": [
            "cli",
            "cli-command",
            "routing",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/modelCommand.ts",
              "sha256": "2e0efba3ae0654b17ac79fbd5e142a53606d02a9bd9cf9d363aa19aad3fd4a74"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.53
        },
        {
          "id": "aspect-init-command",
          "sectionId": "section-cli-settings-commands",
          "slug": "init-command",
          "name": "/init generates the GEMINI.md template",
          "description": "initCommand checks for Config availability, creates an empty GEMINI.md in targetDir (if the file does not exist), publishes INFO about running the analysis, and returns submit_prompt instructing the agent to examine the project and complete the file.",
          "tags": [
            "cli",
            "cli-command",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/initCommand.ts",
              "sha256": "68818b7b30d38f1d4545da3be83b5043f72c632a023ebb4f081bc0d8c8ffa4a2"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.66
        }
      ]
    },
    {
      "id": "section-cli-integration-commands",
      "slug": "cli-integration-commands",
      "title": "Teams - Integrations",
      "entries": [
        {
          "id": "aspect-ide-command",
          "slug": "ide-command",
          "name": "/ide controls IDE integration",
          "description": "ideCommand dynamically builds a slash command: if there is no support, it returns an error, otherwise it adds status/install/toggle subcommands. status takes data from IdeClient and ideContextStore, install calls getIdeInstaller and writes the result to history, enable/disable switches ideMode and logs the event via logIdeConnection.",
          "tags": [
            "cli",
            "cli-command",
            "ide"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/ideCommand.ts",
              "sha256": "3f8b8bb5b64049e44ba766597b2ac6e8a0663b0c82f3cacef4fd99aa783a109f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-integration-commands"
        },
        {
          "id": "aspect-vim-command",
          "sectionId": "section-cli-integration-commands",
          "slug": "vim-command",
          "name": "Slash command /vim enables Vim mode",
          "description": "vimCommand as a BUILT_IN command calls context.ui.toggleVimEnabled - toggles VimModeContext, updates user scope general.vimMode in settings and returns an information message about entering or exiting Vim mode.",
          "tags": [
            "cli-command",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/vimCommand.ts",
              "sha256": "86f56aeba2eee9af63ab8ae5802f1ab3f354860f608b6e1640cf0747d138075f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-editor-command",
          "sectionId": "section-cli-integration-commands",
          "slug": "editor-command",
          "name": "editorCommand controls the external editor",
          "description": "editorCommand returns dialog 'editor', allowing you to configure your preferred editor directly from the CLI without parameters.",
          "tags": [
            "cli",
            "cli-command",
            "slash-commands",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/editorCommand.ts",
              "sha256": "18c8de0c5aa3408cdbbefd3bc2913e47ee8cae7c429cc31d9ff529938e657acd"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.41
        },
        {
          "id": "aspect-setup-github-command",
          "slug": "setup-github-command",
          "name": "/setup-github deploys workflow examples",
          "description": "setupGithubCommand checks that the current folder is a GitHub repository, finds the git root, gets the Proxy config, downloads sample workflows from the latest run-gemini-cli release (via fetch + ProxyAgent), updates .gitignore and returns run_shell_command with instructions and opening a README.",
          "tags": [
            "cli",
            "cli-command",
            "automation"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/setupGithubCommand.ts",
              "sha256": "db20b0da1263b0060c1e9251e7d53cbc3189d16a1c06e5810d0a5040ee81cba6"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-cli-integration-commands"
        },
        {
          "id": "aspect-auth-command",
          "sectionId": "section-cli-integration-commands",
          "slug": "auth-command",
          "name": "/auth opens the authorization dialog",
          "description": "authCommand is declared as a BUILT_IN slash command and returns an action of type dialog 'auth', so calling /auth instantly switches the UI to the login method selection window without additional arguments.",
          "tags": [
            "cli",
            "cli-command",
            "auth",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/authCommand.ts",
              "sha256": "24f5be8f3b27a808b0ae0de7677e3ce6abea77ea26c5a738a419744f2122ff31"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.55
        },
        {
          "id": "aspect-noninteractive-slash-handler",
          "sectionId": "section-cli-integration-commands",
          "slug": "noninteractive-slash-handler",
          "name": "handleSlashCommand handles non-interactive slash",
          "description": "handleSlashCommand creates a CommandService with a FileCommandLoader, collects SessionStats and Logger, executes an action in the nonInteractive UI and only allows submit_prompt; converts confirm_shell_commands and other results into FatalInputError so that the non-interactive session ends in a controlled manner.",
          "tags": [
            "cli-command",
            "slash-commands",
            "noninteractive"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/nonInteractiveCliCommands.ts",
              "sha256": "9e442b90987826c492e26ec7f68c72196b60a8c25fc73c9e42a295dac80f00c3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.68
        },
        {
          "id": "aspect-corgi-command",
          "sectionId": "section-cli-integration-commands",
          "slug": "corgi-command",
          "name": "/corgi switches corgi mode",
          "description": "corgiCommand is marked as a hidden BUILT_IN command and simply calls context.ui.toggleCorgiMode(), allowing you to silently toggle the Easter \"corgi\" mode on or off.",
          "tags": [
            "cli",
            "cli-command",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/corgiCommand.ts",
              "sha256": "d898e10c846f4b4941afd6ffe62524c43b8e5e49341f090eb53d6cad66ceed30"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.18
        },
        {
          "id": "aspect-profile-command",
          "sectionId": "section-cli-integration-commands",
          "slug": "profile-command",
          "name": "Dev command /profile enables DebugProfiler",
          "description": "profileCommand is only created with NODE_ENV=development: the slash command pulls the context.ui.toggleDebugProfiler and reports the change, allowing developers to quickly show/hide the DebugProfiler panel.",
          "tags": [
            "cli-command",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/profileCommand.ts",
              "sha256": "d2f06bcb7f08ec6f8f1bd808a96508c313b735b9aa2370a0a9395a49852cf7e4"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.4
        }
      ]
    },
    {
      "id": "section-extension-commands",
      "slug": "extension-commands",
      "title": "Commands Extensions",
      "entries": [
        {
          "id": "aspect-extensions-command-root",
          "slug": "extensions-command-root",
          "name": "gemini extensions subcommand",
          "description": "extensionsCommand registers install/uninstall/list/update/enable/disable/link/new via yargs, enables demandCommand(1) and disables version(), turning `gemini extensions` into a single extension management manager.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions.tsx",
              "sha256": "ef6bdf2445f6cc8ba4b1dc513a3870d67dbc252d33490b67e4653ff9e44ce23c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-install-command",
          "slug": "extensions-install-command",
          "name": "gemini extensions install downloads the extension",
          "description": "handleInstall differentiates between git/http/ssh/sso sources and local paths, collects ExtensionInstallMetadata from ref/autoUpdate/preRelease, checks for directory existence via stat, then calls installOrUpdateExtension with requestConsentNonInteractive and prints a confirmation or terminates the process with code 1 on error.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/install.ts",
              "sha256": "701f1a4e0effe8d57b67e1bc37bfb26e139a7970706655d4557c2a2f3d03c079"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-update-command",
          "slug": "extensions-update-command",
          "name": "gemini extensions update updates selectively or all",
          "description": "handleUpdate builds an ExtensionEnablementManager, annotates active extensions and supports the --name and --all modes: for name it checks installMetadata and checkForExtensionUpdate, for --all it runs checkForAllExtensionUpdates and updateAllUpdatableExtensions, discarding already updated versions and displaying a summary.",
          "tags": [
            "cli",
            "extensions",
            "automation",
            "cli-command",
            "updates"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/update.ts",
              "sha256": "203060a2005c45ae1fb653e6a66ec64cf3c73b5ac26f37bc02df816830f632ac"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-list-command",
          "slug": "extensions-list-command",
          "name": "gemini extensions list displays installed extensions",
          "description": "handleList loads extensions via loadUserExtensions, produces a toOutputString output relative to the current directory, and prints a message indicating that there are no extensions installed; errors pass through getErrorMessage and result in non-zero termination.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/list.ts",
              "sha256": "cd47e287842b13842dd61e3a69fbf6924449b838eba96fd48c3c80fc1eac2dfa"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-enable-command",
          "slug": "extensions-enable-command",
          "name": "gemini extensions enable respects scope",
          "description": "handleEnable validates the passed scope against SettingScope, calls enableExtension for workspace or user and displays various messages, and in case of errors, wraps them in FatalConfigError with human-readable text.",
          "tags": [
            "cli",
            "extensions",
            "settings",
            "cli-command"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/enable.ts",
              "sha256": "73970716b90e7c59685e87dbdc117853d67e581e304574a6abe20e98042ac9e3"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-disable-command",
          "slug": "extensions-disable-command",
          "name": "gemini extensions disable switches area",
          "description": "handleDisable uses a disableExtension with a default custom scope, allows workspace via an argument, validates the value against the SettingScope list, and terminates the process with code 1 on error.",
          "tags": [
            "cli",
            "extensions",
            "settings",
            "cli-command"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/disable.ts",
              "sha256": "a8a4dcec23791da264290a9d2192edf0ab2897f8187a2d50228ba22b2748ad50"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-link-command",
          "slug": "extensions-link-command",
          "name": "gemini extensions link connects the local folder",
          "description": "handleLink creates an ExtensionInstallMetadata of type link, reuses installOrUpdateExtension with requestConsentNonInteractive and reports successful inclusion of the extension; if errors occur, it terminates the process with code 1.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.59,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/link.ts",
              "sha256": "2b2c4bf90a7a82ad6c0f73ab5efad15fcb6ae053a7b4aedf4184917f2ff8caef"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-new-command",
          "slug": "extensions-new-command",
          "name": "gemini extensions new generates a template",
          "description": "handleNew copies the boilerplate from the examples directory when template is specified, or creates a directory and a minimal gemini-extension.json with version 1.0.0, and then prompts to install the extension via `gemini extensions link`.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/new.ts",
              "sha256": "c4362438372f95b6d16f7a9d3070b00fbdfd088bce08f2cf987c0cde3e7be873"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-uninstall-command",
          "slug": "extensions-uninstall-command",
          "name": "gemini extensions uninstall removes the extension",
          "description": "handleUninstall calls uninstallExtension without saving data, confirms the deletion, and terminates the process with code 1 on errors.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.56,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/uninstall.ts",
              "sha256": "cbd8133e3e6e6892cc85b02db6cf4aabc8c3a37c48b7e9d6a0cdc80e42e78b9b"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-extension-commands"
        },
        {
          "id": "aspect-extensions-template-mcp",
          "sectionId": "section-extension-commands",
          "slug": "extensions-template-mcp",
          "name": "The mcp-server template demonstrates a server on Stdio",
          "description": "The examples/mcp-server directory puts gemini-extension.json with mcpServers.nodeServer, package.json and tsconfig.json for assembly in dist, and example.ts picks up McpServer with tool fetch_posts and prompt poem-writer on top of StdioServerTransport - this is a ready-made framework for server-side extensions.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.45,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/mcp-server/gemini-extension.json",
              "sha256": "f91025973a163359ca84a04a109e7e56eaa099c25da58aae150ae54926b89bd5"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/mcp-server/example.ts",
              "sha256": "3029738a2ae409805846b5b9a97611c98ac2f181995c5b807f7d60b223f555eb"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/mcp-server/package.json",
              "sha256": "596a2fb69da95feb93d5ffd32160d2c14d43e604cb8bf5469cb02dbee18f0f75"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/mcp-server/tsconfig.json",
              "sha256": "8ee498536e2a2b422d46b9812589408fe0b7c17c910170c9c9e79f48958dd2bf"
            }
          ],
          "lastUpdated": "2025-10-15"
        },
        {
          "id": "aspect-extensions-template-context",
          "sectionId": "section-extension-commands",
          "slug": "extensions-template-context",
          "name": "The context-example template adds GEMINI.md with tooltips",
          "description": "examples/context creates a minimal gemini-extension.json with the name and version 1.0.0 and puts GEMINI.md with accessibility recommendations Ink: use useIsScreenReaderEnabled and aria attributes, hints for native components.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.34,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/context/gemini-extension.json",
              "sha256": "63a26915d908a7812961d028f56e54fa58997f354f7da9ecec922ffcd5c73fa7"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/context/GEMINI.md",
              "sha256": "8f6df3b9d5dba4f555f5b7c8131e6c5bd839fbdde4f685f0ade10aa69c7d5fa9"
            }
          ],
          "lastUpdated": "2025-10-15"
        },
        {
          "id": "aspect-extensions-template-exclude-tools",
          "sectionId": "section-extension-commands",
          "slug": "extensions-template-exclude-tools",
          "name": "The exclude-tools template restricts access to run_shell_command",
          "description": "examples/exclude-tools/gemini-extension.json shows how to set the excludeTools array to run_shell_command(rm -rf) to disallow dangerous patterns when installing the extension.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.32,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/exclude-tools/gemini-extension.json",
              "sha256": "d51679151a287a4a266a15d37b9cccad5b551c50fd4f542ced8dc609e9a51e45"
            }
          ],
          "lastUpdated": "2025-10-15"
        },
        {
          "id": "aspect-extensions-template-custom-commands",
          "sectionId": "section-extension-commands",
          "slug": "extensions-template-custom-commands",
          "name": "The custom-commands template prepares an empty manifest",
          "description": "examples/custom-commands/gemini-extension.json contains a framework with name/custom-commands and version 1.0.0 - it's convenient to run the generator from it, adding a commands section for your own slash commands.",
          "tags": [
            "cli",
            "extensions",
            "cli-command"
          ],
          "importance": 0.3,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/extensions/examples/custom-commands/gemini-extension.json",
              "sha256": "66c10235ffa5182ffb4063c790a184ce5f8b68c193b7a62e9f80f0bedee92cb5"
            }
          ],
          "lastUpdated": "2025-10-15"
        }
      ]
    },
    {
      "id": "section-mcp-commands",
      "slug": "mcp-commands",
      "title": "Teams MCP",
      "entries": [
        {
          "id": "aspect-mcp-command-root",
          "slug": "mcp-command-root",
          "name": "gemini mcp subcommand",
          "description": "mcpCommand combines add/remove/list as yargs subcommands, requires at least one command via demandCommand(1) and disables version(), making `gemini mcp` to the MCP server management point.",
          "tags": [
            "cli",
            "mcp",
            "cli-command"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/mcp.ts",
              "sha256": "c6299203a1c38ce1ace9b552b7ae0d3447e7abdb31d19bdd28b7bfd747014363"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-mcp-commands"
        },
        {
          "id": "aspect-mcp-add-command",
          "slug": "mcp-add-command",
          "name": "gemini mcp add configures the server",
          "description": "addMcpServer reads settings via loadSettings, disables --scope project in the home directory, supports stdio/sse/http transports, parses env and header options, as well as include/excludeTools, overwriting the entry in the selected scope and reporting an update.",
          "tags": [
            "cli",
            "mcp",
            "config",
            "cli-command"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/mcp/add.ts",
              "sha256": "7e9906ead9d7c11241d45750d5517b33402569cb6be1b1c7cf411eb6c6161205"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-mcp-commands"
        },
        {
          "id": "aspect-mcp-list-command",
          "slug": "mcp-list-command",
          "name": "gemini mcp list checks connection",
          "description": "listMcpServers combines the configs of the user and active extensions, creates a transport via createTransport, pings the MCP Client with a timeout of 5 seconds and prints colored CONNECTED/CONNECTING/DISCONNECTED indicators.",
          "tags": [
            "cli",
            "mcp",
            "integrations",
            "cli-command"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/mcp/list.ts",
              "sha256": "39d26b0d9dbcf16eb1026698127ab2c2cbcde51e6706836c3041ee1536fd35cf"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-mcp-commands"
        },
        {
          "id": "aspect-mcp-remove-command",
          "slug": "mcp-remove-command",
          "name": "gemini mcp remove clears settings",
          "description": "removeMcpServer selects the desired scope, removes the entry from mcpServers of the selected settings and reports if the server is missing, otherwise confirms successful removal.",
          "tags": [
            "cli",
            "mcp",
            "config",
            "cli-command"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/commands/mcp/remove.ts",
              "sha256": "f0c4e1913575c2333d3c38b7ba21be9d7cee14a1d5c9f54b195062be9f037961"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-mcp-commands"
        },
        {
          "id": "aspect-mcp-slash-command",
          "sectionId": "section-mcp-commands",
          "slug": "mcp-slash-command",
          "name": "The /mcp slash command combines status and operations",
          "description": "mcpCommand declares a SlashCommand with subCommands [list, auth, refresh] and calls listCommand.action by default, making /mcp the entry point to MCP statuses in the UI.",
          "tags": [
            "cli",
            "cli-command",
            "mcp",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/mcpCommand.ts",
              "sha256": "245d82b2524660f8fc83282bb532ccd67bf05edcd67f031fff551a9cab01cb1c"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.62
        },
        {
          "id": "aspect-mcp-slash-auth",
          "sectionId": "section-mcp-commands",
          "slug": "mcp-slash-auth",
          "name": "/mcp auth starts OAuth for the server",
          "description": "The auth subcommand looks up the server in config.getMcpServers, listens to appEvents OauthDisplayMessage, calls MCPOAuthProvider.authenticate with MCPOAuthTokenStorage, then reopens the tools and reloadCommands.",
          "tags": [
            "cli",
            "cli-command",
            "mcp",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/mcpCommand.ts",
              "sha256": "245d82b2524660f8fc83282bb532ccd67bf05edcd67f031fff551a9cab01cb1c"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.6
        },
        {
          "id": "aspect-mcp-slash-refresh",
          "sectionId": "section-mcp-commands",
          "slug": "mcp-slash-refresh",
          "name": "/mcp refresh restarts the MCP server",
          "description": "The refresh subcommand calls toolRegistry.restartMcpServers, then synchronizes GeminiClient.setTools and re-runs listCommand.action to immediately show the updated status.",
          "tags": [
            "cli",
            "cli-command",
            "mcp",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/mcpCommand.ts",
              "sha256": "245d82b2524660f8fc83282bb532ccd67bf05edcd67f031fff551a9cab01cb1c"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.57
        },
        {
          "id": "aspect-mcp-slash-list-status",
          "sectionId": "section-mcp-commands",
          "slug": "mcp-slash-list-status",
          "name": "/mcp list builds HistoryItemMcpStatus",
          "description": "listCommand parses desc/nodesc/schema arguments, reads getMCPServerStatus and getMCPDiscoveryState, collects MCP tools/prompts and OAuth state via MCPOAuthTokenStorage, forming HistoryItemMcpStatus.",
          "tags": [
            "cli",
            "cli-command",
            "mcp",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/commands/mcpCommand.ts",
              "sha256": "245d82b2524660f8fc83282bb532ccd67bf05edcd67f031fff551a9cab01cb1c"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.61
        },
        {
          "id": "aspect-mcp-prompt-parse-args",
          "sectionId": "section-mcp-commands",
          "slug": "mcp-prompt-parse-args",
          "name": "parseArgs parses MCP prompt arguments",
          "description": "parseArgs in McpPromptLoader parses --arg=\"value\" and positional values, fills required PromptArgument, merges the remainder for one required and returns Error if --arg is missing.",
          "tags": [
            "cli",
            "mcp",
            "slash-commands"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/McpPromptLoader.ts",
              "sha256": "3d138388748a155e50db67226fb1058793488dc089c32696d35fe1cd3c60b8cc"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.53
        }
      ]
    },
    {
      "id": "section-configuration",
      "slug": "configuration",
      "title": "Configuration CLI Basics",
      "entries": [
        {
          "id": "aspect-settings-hierarchy",
          "slug": "settings-hierarchy",
          "name": "Hierarchy of settings.json and migrations",
          "description": "settings.ts reads .gemini/settings.json, system and workspace layers, applies MIGRATION_MAP v1->v2, resolves env variables and mergeStrategy according to the scheme, saving the format via updateSettingsFilePreservingFormat when writing.",
          "tags": [
            "config",
            "settings"
          ],
          "importance": 0.8,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/settings.ts",
              "sha256": "2e4b7295ba44964e91dee98f951822f104b90815e01d37e5e8c5268f2de3c0f0"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-configuration"
        },
        {
          "id": "aspect-cli-arguments",
          "slug": "cli-arguments",
          "name": "CLI argument parser",
          "description": "parseArguments in config.ts assembles the gemini yargs schema: processes the model flags, sandbox, telemetry (marked deprecate), proxy and prompt modes, which determines the available launch options.",
          "tags": [
            "cli",
            "config"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/config.ts",
              "sha256": "2e44709dc21afd8f73a47842da79d4ed40d5788fd650455af119dbbdffb288b2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-configuration"
        },
        {
          "id": "aspect-cli-config-builder",
          "slug": "cli-config-builder",
          "name": "loadCliConfig generates Config",
          "description": "Critical: loadCliConfig collects core Config - loads memory through loadHierarchicalGeminiMemory, merges MCP extension servers, calculates approvalMode taking into account trust in the folder, configures sandbox, telemetry, policy engine and lists of allowed tools.",
          "tags": [
            "config",
            "mcp",
            "sandbox"
          ],
          "importance": 0.83,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/config.ts",
              "sha256": "2e44709dc21afd8f73a47842da79d4ed40d5788fd650455af119dbbdffb288b2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-configuration"
        },
        {
          "id": "aspect-settings-schema-validation",
          "sectionId": "section-configuration",
          "slug": "settings-schema-validation",
          "name": "SettingsSchema validates settings",
          "description": "settingsSchema.ts describes the nested Zod-schema for general/security/tools and other branches, sets defaults and types so that user/workspace settings strictly correspond to the supported format.",
          "tags": [
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/settingsSchema.ts",
              "sha256": "b84e775e1cb77ee0353028d841e82bd9616752d2e33b72bd73e4f8c067fabf34"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.74
        },
        {
          "id": "aspect-keybindings-config",
          "sectionId": "section-configuration",
          "slug": "keybindings-config",
          "name": "Data-driven key bindings",
          "description": "keyBindings.ts describes the Command enum and shortcut table for history, shell and Vim modes, taking into account macOS modifiers and separating the submit/newline that Ink UI reads.",
          "tags": [
            "config",
            "settings",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/keyBindings.ts",
              "sha256": "597f144376500fc89b3ae6bbd08995815b927f309511c4ce4fba2dde26e52874"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "id": "aspect-env-var-resolver",
          "sectionId": "section-configuration",
          "slug": "env-var-resolver",
          "name": "Expanding environment variables",
          "description": "envVarResolver.ts replaces $VAR/${VAR} in strings and nested settings structures, supporting arrays and protecting against loops via WeakSet.",
          "tags": [
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/envVarResolver.ts",
              "sha256": "c3926d78091a4ec021317cc809975ac9a92479caeb20d0cef7fee27a457f20b2"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.64
        },
        {
          "id": "aspect-settings-flattening",
          "sectionId": "section-configuration",
          "slug": "settings-flattening",
          "name": "Flat representation of the settings diagram",
          "description": "settingsUtils.ts caches getFlattenedSchema, returns categories, default values and getEffectiveValue for dot keys that the UI and settings commands use.",
          "tags": [
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/settingsUtils.ts",
              "sha256": "b6b9e3ca50b105a16fecd422b1d372289eb07c531391aba5d0d495e2e7202dbb"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.66
        },
        {
          "id": "aspect-config-storage-global-fallback",
          "sectionId": "section-configuration",
          "slug": "config-storage-global-fallback",
          "name": "Storage creates a global .gemini directory",
          "description": "Storage.getGlobalGeminiDir uses os.homedir(), and in its absence falls back to os.tmpdir(), providing stable paths to settings.json, commands/, memory.md and other global artifacts.",
          "tags": [
            "config",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/storage.ts",
              "sha256": "6bb48f27a688dae07ba83e35df4e0e61d1305b70bc8528a1c5525ec97b631ece"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-config-storage-project-hashing",
          "sectionId": "section-configuration",
          "slug": "config-storage-project-hashing",
          "name": "Storage hashes the project for temp and history",
          "description": "The getProjectTempDir and getHistoryDir methods take the SHA-256 from the project root and create unique directories inside ~/.gemini/tmp so that multiple working directories do not conflict and can store independent artifacts.",
          "tags": [
            "config",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/storage.ts",
              "sha256": "6bb48f27a688dae07ba83e35df4e0e61d1305b70bc8528a1c5525ec97b631ece"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        },
        {
          "id": "aspect-theme-validation",
          "sectionId": "section-configuration",
          "slug": "theme-validation",
          "name": "validateTheme warns about non-existent theme",
          "description": "validateTheme(settings) retrieves settings.merged.ui?.theme and checks for presence via themeManager.findThemeByName; if the name is unknown, returns a string `Theme \"${effectiveTheme}\" not found.`, otherwise null, which gives an early warning before Ink renders and prevents launching with a broken design.",
          "tags": [
            "config",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/core/theme.ts",
              "sha256": "0126b198e4e24c7d40537f8af440cd080cbadda25caefeea1c6eb1244cd2ed25"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-system-prompt-overrides",
          "slug": "system-prompt-overrides",
          "name": "prompts.ts picks up system.md and memory",
          "description": "getCoreSystemPrompt uses resolvePathFromEnv for GEMINI_SYSTEM_MD, checks for file existence, enables CodebaseInvestigator if available, and substitutes user memory into the underlying system prompt.",
          "tags": [
            "core",
            "config",
            "cli"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/prompts.ts",
              "sha256": "8420f3a7739838a5a76df4f39ca931c823c07eb85bb53769539122c2107a3c12"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-configuration"
        },
        {
          "id": "aspect-config-file-filtering-options",
          "sectionId": "section-configuration",
          "slug": "config-file-filtering-options",
          "name": "DEFAULT_* filters for FileDiscovery",
          "description": "config/constants.ts specifies FileFilteringOptions: memory always respects only .geminiignore, and DEFAULT_FILE_FILTERING_OPTIONS includes both .gitignore and .geminiignore. These constants are picked up by FileDiscoveryService and getFolderStructure, so this is where we fix the default behavior of file crawling.",
          "tags": [
            "config",
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/constants.ts",
              "sha256": "63d2279a1b2937197bc3ddb47eef746096cc52b0343890d2cc0a633fed0e3cbb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        },
        {
          "id": "aspect-default-gemini-models",
          "sectionId": "section-configuration",
          "slug": "default-gemini-models",
          "name": "getEffectiveModel and Gemini default models",
          "description": "config/models.ts declares base model identifiers (2.5 pro/flash/flash-lite, embedding) and getEffectiveModel: in fallback mode, all requests except \"lite\" are forced to gemini-2.5-flash, saving savings for lite modifications.",
          "tags": [
            "config",
            "core",
            "fallback"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/models.ts",
              "sha256": "f739fe284a9dd0bc535849bd128e6b6de0404849dbb08eb136609e9b90fc3726"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-comment-json-updates",
          "sectionId": "section-configuration",
          "slug": "comment-json-updates",
          "name": "updateSettingsFilePreservingFormat saves settings.json comments",
          "description": "commentJson.ts parses files via comment-json.parse, applies applyKeyDiff with Symbol.for('before:') and 'after:' wrapping comments to adjacent keys, synchronizes in-place arrays, and writes the file via stringify so automatic updates don't lose user comments.",
          "tags": [
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/commentJson.ts",
              "sha256": "e60d16aae4815b738b0b3396beddf6a1627126e2c9dcc27af76c9783e022bb3a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.63
        },
        {
          "id": "aspect-custom-deep-merge",
          "sectionId": "section-configuration",
          "slug": "custom-deep-merge",
          "name": "customDeepMerge respects MergeStrategy for customization paths",
          "description": "deepMerge.ts ignores prototype fields, applies MergeStrategy.SHALLOW_MERGE, CONCAT or UNION depending on the path, recursively merges nested objects and arrays, and returns a final object that is used when merging settings.json layers.",
          "tags": [
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/deepMerge.ts",
              "sha256": "d931b51e0d2ca7c25f32beef9870dce184e2df57da86357ca8dc7ce47727ef9c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        }
      ]
    },
    {
      "id": "section-config-extensions",
      "slug": "config-extensions",
      "title": "Configuration - Extensions",
      "entries": [
        {
          "id": "aspect-extension-loading",
          "slug": "extension-loading",
          "name": "Loading extensions and telemetry",
          "description": "config/extension.ts reads gemini-extension.json from the user and workspace directories, takes into account trust in the folder, records telemetry events before installation (install/update/enable/disable) and allows the migration of workspace extensions to the user storage.",
          "tags": [
            "extensions",
            "config",
            "trust"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extension.ts",
              "sha256": "2f399f88011cdbc3348b93c2e21c5cecf3ab2a2b3082cd340300f5a5abe30047"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-config-extensions"
        },
        {
          "id": "aspect-extension-storage",
          "sectionId": "section-config-extensions",
          "slug": "extension-storage",
          "name": "ExtensionStorage and extension migration",
          "description": "extension.ts reads user/workspace extensions, migrates them to a trusted project, logs enable/disable/updates and collects a list through ExtensionEnablementManager and Config telemetry.",
          "tags": [
            "extensions",
            "config",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extension.ts",
              "sha256": "2f399f88011cdbc3348b93c2e21c5cecf3ab2a2b3082cd340300f5a5abe30047"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        },
        {
          "id": "aspect-extension-template-variables",
          "sectionId": "section-config-extensions",
          "slug": "extension-template-variables",
          "name": "Variable Substitution in Extensions",
          "description": "extensions/variables.ts validates VARIABLE_SCHEMA and recursively substitutes ${var} into the extension config, keeping placeholders unchanged if the value is missing.",
          "tags": [
            "extensions",
            "config"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/variables.ts",
              "sha256": "749d4cadc03b2831bd526231982371d4856cb7f0800894f35ca62b7ba87d1839"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.63
        },
        {
          "id": "aspect-extension-variable-schema",
          "sectionId": "section-config-extensions",
          "slug": "extension-variable-schema",
          "name": "VARIABLE_SCHEMA lists template variables",
          "description": "variableSchema.ts declares VariableDefinition/VariableSchema/LoadExtensionContext interfaces and a constant `VARIABLE_SCHEMA` with values extensionPath, workspacePath and duplicated pathSeparator; all variables are described by type `type: 'string'` with descriptions and default/required, so extension generators get strictly defined placeholders without the risk of typos.",
          "tags": [
            "config",
            "extensions"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/variableSchema.ts",
              "sha256": "9efbc756e4a24912e7d13be4a8fc984f6ebde1fc8801eaf5200ff3a8f2344f54"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-extension-github-operations",
          "slug": "extension-github-operations",
          "name": "GitHub operations for extensions",
          "description": "github.ts clones git sources with GITHUB_TOKEN substitution, validates owner/repo, compares revisions via git ls-remote or GitHub releases and downloads archives, selecting the appropriate asset and placing the files in the extension directory.",
          "tags": [
            "extensions",
            "config",
            "integrations"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/github.ts",
              "sha256": "f6902eb5d30186b6e8c20e35cb935a759c73da15757d65ee88152dfe8bf45b9f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-config-extensions"
        },
        {
          "id": "aspect-extension-update-pipeline",
          "slug": "extension-update-pipeline",
          "name": "Extension update pipeline",
          "description": "update.ts controls ExtensionUpdateState: updateExtension checks installMetadata, disables link type, reinstalls extension via installOrUpdateExtension, updates state and rolls back from temporary copy on errors, and updateAllUpdatableExtensions and checkForAllExtensionUpdates filter and bulk update available extensions.",
          "tags": [
            "extensions",
            "automation",
            "config",
            "updates"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/update.ts",
              "sha256": "14c01200e5931ee97f4069dd3414ec49a0af663b4da53fd49d3e848148ea50ad"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-config-extensions"
        },
        {
          "id": "aspect-extension-github-fetch-json",
          "slug": "extension-github-fetch-json",
          "name": "fetchJson for GitHub API",
          "description": "github_fetch.ts adds the User-Agent header, uses GITHUB_TOKEN as a bearer, downloads the response via https.get and parses JSON, throwing an error when the response code is different from 200 - the base layer of release requests.",
          "tags": [
            "extensions",
            "config"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/github_fetch.ts",
              "sha256": "e95b332170aafc1a3ff17f8c1947411d7723603266981d924b76595f743ef332"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-config-extensions"
        },
        {
          "id": "aspect-config-storage-extensions",
          "sectionId": "section-config-extensions",
          "slug": "config-storage-extensions",
          "name": "Storage describes the structure of extensions and settings",
          "description": "Storage issues getWorkspaceSettingsPath, getProjectCommandsDir and getExtensionsDir/gemini-extension.json, providing a single layout for local settings, commands and installed extensions within a project.",
          "tags": [
            "config",
            "extensions"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/storage.ts",
              "sha256": "6bb48f27a688dae07ba83e35df4e0e61d1305b70bc8528a1c5525ec97b631ece"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.45
        }
      ]
    },
    {
      "id": "section-config-versions",
      "slug": "config-versions",
      "title": "Configuration Versions and updates",
      "entries": [
        {
          "id": "aspect-cli-version-resolution",
          "sectionId": "section-config-versions",
          "slug": "cli-version-resolution",
          "name": "getCliVersion replaces the version via an environment variable",
          "description": "utils/version.ts reads package.json via getPackageJson and returns CLI_VERSION from the environment if it is set, otherwise package.json.version or \"unknown\", which allows builds and tests to hardcode the reported version without rebuilding the artifact.",
          "tags": [
            "cli",
            "config",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/version.ts",
              "sha256": "2e4a33f5f113e65e868464a66532f0b30b637943829e1ee3b960aba4d8d475ea"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.52
        },
        {
          "id": "aspect-cli-version-fallback",
          "sectionId": "section-config-versions",
          "slug": "cli-version-fallback",
          "name": "getCliVersion ensures missing package.json",
          "description": "utils/version.ts returns a Promise with a version string: process.env.CLI_VERSION has priority (for build or tests), then package.json is taken via getPackageJson, and if metadata is not available, the function responds with \"unknown\". This behavior ensures that about and other commands do not break in standalone archives without package.json.",
          "tags": [
            "cli",
            "config",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/version.ts",
              "sha256": "2e4a33f5f113e65e868464a66532f0b30b637943829e1ee3b960aba4d8d475ea"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.54
        },
        {
          "id": "aspect-update-check",
          "sectionId": "section-config-versions",
          "slug": "update-check",
          "name": "updateCheck compares nightly and stable releases",
          "description": "checkForUpdates skips DEV, reads package.json via getPackageJson, gets updateInfo for latest/nightly in parallel, selects the best version by semver and returns a message to notify Ink.",
          "tags": [
            "cli",
            "startup",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/updateCheck.ts",
              "sha256": "74fbbb8c5463bc99cfa7185916a1e2b980959875560ba6dd11851f11636616ff"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.54
        },
        {
          "id": "aspect-cli-git-utils",
          "sectionId": "section-config-versions",
          "slug": "cli-git-utils",
          "name": "cli gitUtils checks GitHub repository and releases",
          "description": "gitUtils.ts defines the GitHub-specific CLI: isGitHubRepository and getGitRepoRoot use git remote/ rev-parse, getLatestGitHubRelease requests an API with ProxyAgent and timeout, and getGitHubRepoInfo parses the origin URL, throwing an error if the format is non-standard.",
          "tags": [
            "cli",
            "integrations",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/gitUtils.ts",
              "sha256": "27fd17a94f218d53767c533939193ca50417090fc04d906e9785b7c75949a9bd"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-github-release-fetch",
          "sectionId": "section-config-versions",
          "slug": "github-release-fetch",
          "name": "getLatestGitHubRelease uses ProxyAgent and AbortSignal",
          "description": "gitUtils.ts calls https://api.github.com/repos/google-github-actions/run-gemini-cli/releases/latest, combining AbortSignal.timeout(30_000) and ProxyAgent when passing a proxy. The response is checked against response.ok and the presence of the tag_name field, and if there is any error, the function writes debug and throws a new error about determining the available release.",
          "tags": [
            "cli",
            "integrations",
            "release",
            "updates"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/gitUtils.ts",
              "sha256": "27fd17a94f218d53767c533939193ca50417090fc04d906e9785b7c75949a9bd"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.55
        }
      ]
    },
    {
      "id": "section-auth",
      "slug": "auth",
      "title": "Interface Authentication",
      "entries": [
        {
          "id": "aspect-auth-method-validation",
          "slug": "auth-method-validation",
          "name": "Validation of the selected login method",
          "description": "validateAuthMethod checks that GEMINI_API_KEY is set for USE_GEMINI, either project+location or GOOGLE_API_KEY is set for Vertex, and OAuth modes LOGIN_WITH_GOOGLE/CLOUD_SHELL are skipped without additional ones. requirements, otherwise returns the tooltip text.",
          "tags": [
            "auth",
            "cli"
          ],
          "importance": 0.77,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/auth.ts",
              "sha256": "d9fe264e9e3a64be6da194ae5530c4371974969141fdb1c39f40cd0efdb8cf5c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-noninteractive-auth",
          "slug": "noninteractive-auth",
          "name": "Non-interactive cred validation",
          "description": "validateNonInterActiveAuth checks the enforcedType from settings.security.auth, reads the type from env, if there is an error, displays a user-friendly message (or JSON via handleError) and calls refreshAuth before the head starts.",
          "tags": [
            "auth",
            "noninteractive"
          ],
          "importance": 0.75,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/validateNonInterActiveAuth.ts",
              "sha256": "a1d7ebf07eb42aa66ec94e1e0cfda17d261559624d274e23b370e0505feb2d3c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-mcp-oauth-provider",
          "slug": "mcp-oauth-provider",
          "name": "OAuth flow for MCP servers",
          "description": "oauth-provider.ts dynamically registers the client, raises an HTTP server to localhost:7777/oauth/callback, generates PKCE, opens the browser via a secure launcher and stores tokens in MCPOAuthTokenStorage.",
          "tags": [
            "auth",
            "mcp"
          ],
          "importance": 0.78,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/oauth-provider.ts",
              "sha256": "01a1482f34c8a61a5401a585bcc20f90152ee4bc62ec1cdbbe2e24e06b87ee19"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-google-credential-provider",
          "slug": "google-credential-provider",
          "name": "Google ADC for MCP",
          "description": "GoogleCredentialProvider checks that the MCP url falls under *.googleapis.com/luci.app and that scopes are specified, then uses google-auth-library to issue a Bearer token without a local redirect.",
          "tags": [
            "auth",
            "mcp"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/google-auth-provider.ts",
              "sha256": "a6b7b57b5a8b0794d593e07c75b67b31f0f690ff087abf3c2729d9c702538a80"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-mcp-oauth-token-storage",
          "sectionId": "section-auth",
          "slug": "mcp-oauth-token-storage",
          "name": "Storing MCP OAuth tokens",
          "description": "MCPOAuthTokenStorage stores tokens in ~/.gemini in 0600 mode, can switch to HybridTokenStorage via FORCE_ENCRYPTED_FILE, and cleans up files when servers are deleted.",
          "tags": [
            "auth",
            "mcp",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/oauth-token-storage.ts",
              "sha256": "d088b0840df7175046c12523efb0b53af209e1efa7b7286e5f0400fb14474767"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.72
        },
        {
          "id": "aspect-auth-dialog",
          "sectionId": "section-auth",
          "slug": "auth-dialog",
          "name": "AuthDialog controls method selection",
          "description": "AuthDialog.tsx generates a list of AuthTypes taking into account enforcedType and GEMINI_DEFAULT_AUTH_TYPE, validates the selection via validateAuthMethodWithSettings and updates settings with clearing the credential cache.",
          "tags": [
            "auth",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/auth/AuthDialog.tsx",
              "sha256": "4c1240d2b5d7fad3234119b33214722fe378734ec6662778a09105cfe960185f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.69
        },
        {
          "id": "aspect-auth-in-progress",
          "sectionId": "section-auth",
          "slug": "auth-in-progress",
          "name": "AuthInProgress handles login wait",
          "description": "AuthInProgress.tsx shows the CliSpinner, gives ESC/CTRL+C abort via useKeypress and completes the 180 second timer, signaling an error.",
          "tags": [
            "auth",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/auth/AuthInProgress.tsx",
              "sha256": "6648aa9cfc882c72703b8ec13adab6cf60461ab808e71cc9144baa0da35b4aed"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.6
        },
        {
          "id": "aspect-use-auth-command",
          "sectionId": "section-auth",
          "slug": "use-auth-command",
          "name": "useAuthCommand synchronizes AuthState",
          "description": "useAuthCommand monitors AuthState, warns about GEMINI_API_KEY without selection, checks for GEMINI_DEFAULT_AUTH_TYPE and calls config.refreshAuth with error handling.",
          "tags": [
            "auth",
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/auth/useAuth.ts",
              "sha256": "6930d9c07568de9ed679a1b2eb1b9a0d46131d2ddb97a52d726340c415825e0d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.71
        },
        {
          "id": "aspect-initial-auth-refresh",
          "slug": "initial-auth-refresh",
          "name": "performInitialAuth checks login at startup",
          "description": "performInitialAuth calls config.refreshAuth on the selected AuthType, catches errors via getErrorMessage and returns a string so that interactive startup can show the reason and not block the CLI.",
          "tags": [
            "auth",
            "cli"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/core/auth.ts",
              "sha256": "9533c8709ec6222fe8362909ac46d08b4f876ac2f649662d83ce02bf2b04ba17"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-mcp-oauth-discovery",
          "slug": "mcp-oauth-discovery",
          "name": "OAuthUtils exposes MCP configuration",
          "description": "OAuthUtils builds well-known endpoints, downloads OAuth protected resource and authorization metadata, parses WWW-Authenticate and converts the data into MCPOAuthConfig so that the CLI automatically configures OAuth servers.",
          "tags": [
            "auth",
            "mcp"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/oauth-utils.ts",
              "sha256": "f978af15089b2f14d3884f224352728c7ec49b1f03663c2d9952e006862cddde"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-service-account-impersonation",
          "slug": "service-account-impersonation",
          "name": "ServiceAccountImpersonationProvider issues ID tokens",
          "description": "ServiceAccountImpersonationProvider checks targetAudience and targetServiceAccount, uses GoogleAuth.generateIdToken, caches the token with a 5-minute buffer and returns it as an access_token for MCP services.",
          "tags": [
            "auth",
            "mcp",
            "security"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/sa-impersonation-provider.ts",
              "sha256": "3031d15b6439ae61169698668b577e19c69834773066c0ba9aa41eb0160c5a79"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-auth"
        },
        {
          "id": "aspect-auth-refresh-strip-history",
          "sectionId": "section-auth",
          "slug": "auth-refresh-strip-history",
          "name": "refreshAuth resets encrypted thoughts when switching to OAuth",
          "description": "When changing authType from USE_GEMINI to LOGIN_WITH_GOOGLE, the config calls geminiClient.stripThoughtsFromHistory() to remove the thoughtSignature and not send Vertex records to the new client.",
          "tags": [
            "auth",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/config.ts",
              "sha256": "bc808ab4d5ff26f53ab6b121d72e8ddad85851245f0a26e2034127536164f0bb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.65
        },
        {
          "id": "aspect-auth-refresh-reinit-content",
          "sectionId": "section-auth",
          "slug": "auth-refresh-reinit-content",
          "name": "refreshAuth recreates ContentGenerator and BaseLlmClient",
          "description": "The method creates a fresh ContentGeneratorConfig, initializes ContentGenerator and BaseLlmClient, resets inFallbackMode, thereby synchronizing all services with the new auth method.",
          "tags": [
            "auth",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/config.ts",
              "sha256": "bc808ab4d5ff26f53ab6b121d72e8ddad85851245f0a26e2034127536164f0bb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-auth-refresh-telemetry",
          "sectionId": "section-auth",
          "slug": "auth-refresh-telemetry",
          "name": "refreshAuth logs configuration after login",
          "description": "After successful initialization, refreshAuth calls logCliConfiguration with StartSessionEvent and the current ToolRegistry so that the telemetry saves the parameters of the selected auth mode.",
          "tags": [
            "auth",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/config.ts",
              "sha256": "bc808ab4d5ff26f53ab6b121d72e8ddad85851245f0a26e2034127536164f0bb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-auth-error-rate-limit-message",
          "sectionId": "section-auth",
          "slug": "auth-error-rate-limit-message",
          "name": "parseAndFormatApiError gives advice on rate limit",
          "description": "The function recognizes JSON errors and provides different hints for 429: USE_GEMINI asks to increase the quota in AI Studio, USE_VERTEX_AI in Vertex, otherwise it reports switching to the fallback model.",
          "tags": [
            "auth",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/errorParsing.ts",
              "sha256": "5bed7a4252dd792e2d26cca82517569a927c8702e959d1ad51e3f0f0820b7660"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-hybrid-token-storage",
          "sectionId": "section-auth",
          "slug": "hybrid-token-storage",
          "name": "HybridTokenStorage chooses OAuth secure storage",
          "description": "HybridTokenStorage lazily initializes KeychainTokenStorage and uses it if available (and GEMINI_FORCE_FILE_STORAGE=true); in case of an error or prohibition, it switches to FileTokenStorage, caches the selection and, via getStorageType, reports where the MCP tokens are located.",
          "tags": [
            "auth",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/hybrid-token-storage.ts",
              "sha256": "2e6e548719f6354e0776f9afd6a6ae6a369f19744065c3a5b6f37ee20c7b17e6"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.74
        },
        {
          "id": "aspect-base-token-storage",
          "sectionId": "section-auth",
          "slug": "base-token-storage",
          "name": "BaseTokenStorage validates and sanitizes OAuth credentials",
          "description": "BaseTokenStorage defines abstract CRUD methods, checks for the presence of serverName/accessToken, adds a 5-minute expiration buffer and sanitizeServerName (a-zA-Z0-9-_. only) - the foundation for file/keychain/hybrid storage.",
          "tags": [
            "auth",
            "mcp",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/base-token-storage.ts",
              "sha256": "7a9b3666045fbe118de4ae38e286f92159b880d732ca4b963abdd38fb02659c7"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-file-token-storage",
          "sectionId": "section-auth",
          "slug": "file-token-storage",
          "name": "FileTokenStorage encrypts MCP tokens via AES-256-GCM",
          "description": "file-token-storage.ts stores mcp-oauth-tokens-v2.json in ~/.gemini, derives the key via scrypt(hostname+user), encrypts the record with AES-256-GCM and deletes the file on cleanup. loadTokens distinguishes a missing file from a damaged one.",
          "tags": [
            "auth",
            "mcp",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/file-token-storage.ts",
              "sha256": "a018be09d8de6d436e323582011056910922befb61692a3b3e86cf548f6bf145"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "id": "aspect-keychain-token-storage",
          "sectionId": "section-auth",
          "slug": "keychain-token-storage",
          "name": "KeychainTokenStorage checks OS keytar availability",
          "description": "keychain-token-storage.ts lazily imports keytar, runs a set/get/delete test with the __keychain_test__ prefix, filters accounts for simulators and throws errors if the keychain is not available - critical for secure storage on macOS/Win.",
          "tags": [
            "auth",
            "mcp",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/keychain-token-storage.ts",
              "sha256": "ff41eb53ae2bba3f1eed5ac751197aa0e550c4fcaab38396940ad5d28d5643d4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.64
        },
        {
          "id": "aspect-token-storage-index",
          "sectionId": "section-auth",
          "slug": "token-storage-index",
          "name": "token-storage/index sets DEFAULT_SERVICE_NAME",
          "description": "index.ts combines storage types and implementations, declares DEFAULT_SERVICE_NAME=gemini-cli-oauth and the GEMINI_FORCE_ENCRYPTED_FILE_STORAGE variable, which the CLI uses to change storage.",
          "tags": [
            "auth",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/index.ts",
              "sha256": "9dc9feb281a1836b773521838f662f4fa606d993c2f926a33a59cf88ef35ccd0"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-token-storage-types",
          "sectionId": "section-auth",
          "slug": "token-storage-types",
          "name": "OAuthCredentials describes MCP tokens and storage API",
          "description": "types.ts defines OAuthToken (accessToken, optional refresh, expiresAt) and OAuthCredentials with serverName/tokenUrl/mcpServerUrl, as well as enum TokenStorageType (keychain/encrypted_file). The TokenStorage interface is used by all providers.",
          "tags": [
            "auth",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/mcp/token-storage/types.ts",
              "sha256": "46351c4c5af75d0773f4da3ba3ca88e4db21ed07bc0b8f9a01a15b79ed0c15ab"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        }
      ]
    },
    {
      "id": "section-ui",
      "slug": "cli-ui",
      "title": "Interface Application framework",
      "entries": [
        {
          "id": "aspect-app-container",
          "slug": "app-container",
          "name": "AppContainer and contexts",
          "description": "AppContainer.tsx creates a historyManager, memory monitor, extensions, ShellFocusContext and manages states (trusted folder, corgi mode, updateInfo) by injecting Config/Settings through the React context.",
          "tags": [
            "cli",
            "ui",
            "ink",
            "extensions",
            "ui-layout"
          ],
          "importance": 0.76,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/AppContainer.tsx",
              "sha256": "df30aacfa5e4b7193cb4c5d9a463c394626e006811181ba25baedcba5240f1ff"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-ui"
        },
        {
          "id": "aspect-default-app-layout",
          "sectionId": "section-ui",
          "slug": "default-app-layout",
          "name": "Basic DefaultAppLayout",
          "description": "DefaultAppLayout builds the main Ink layout: renders MainContent with width mainAreaWidth, places Notifications and DialogManager or Composer under it, binds rootUiRef/mainControlsRef and runs useFlickerDetector to detect overflow and always show ExitWarning.",
          "tags": [
            "ui",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/layouts/DefaultAppLayout.tsx",
              "sha256": "9fe063d4337cfdd3f0bc9b7b983e7348e6d08eafd6d1099de9dfae0f3998b464"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        },
        {
          "id": "aspect-screen-reader-layout",
          "sectionId": "section-ui",
          "slug": "screen-reader-layout",
          "name": "ScreenReader layout with responsive column",
          "description": "ScreenReaderAppLayout creates an alternative layout with a width of 90%: displays Notifications and Footer before MainContent in the scroll area, connects DialogManager or Composer depending on dialogsVisible and uses useFlickerDetector to monitor the height, saving ExitWarning to re-confirm the exit.",
          "tags": [
            "ui",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/layouts/ScreenReaderAppLayout.tsx",
              "sha256": "a18aabd1e06b3255329fc486d31763109cfce122322362cc3e126d4228f5cc77"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-main-content-pane",
          "sectionId": "section-ui",
          "slug": "main-content-pane",
          "name": "MainContent manages history and pending messages",
          "description": "MainContent uses Ink Static for fixed history: mounts AppHeader and HistoryItemDisplay, and pendingHistoryItems displays in a reactive box with Gemini responses limited to 65536 lines; OverflowProvider and ShowMoreLines control height and constrainHeight so the UI doesn't fall apart with long responses.",
          "tags": [
            "ui",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/MainContent.tsx",
              "sha256": "8316cdad364acae079abe7fabe3c48c6ebf0fc9630f07cdde7f5f97039997244"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.68
        },
        {
          "id": "aspect-ink-app-root",
          "sectionId": "section-ui",
          "slug": "ink-app-root",
          "name": "App.tsx switches Ink layouts",
          "description": "The App reads useUIState and useIsScreenReaderEnabled, shows QuittingDisplay when completed, or wraps StreamingContext.Provider layouts by choosing ScreenReaderAppLayout vs DefaultAppLayout.",
          "tags": [
            "cli",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/App.tsx",
              "sha256": "ff5009a5e0d87ff5dd43e881d0bf74befd4ca1d584470de9852c211ecdee89c9"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.63
        },
        {
          "id": "aspect-ink-header",
          "sectionId": "section-ui",
          "slug": "ink-header",
          "name": "Header selects ASCII banner and nightly version",
          "description": "Header.tsx through useTerminalSize and getAsciiArtWidth selects a long/short/tiny ASCII logo or custom art, colors it using ink-gradient and for nightly builds shows v<version> aligned to the right.",
          "tags": [
            "cli",
            "ui",
            "ink",
            "ui-layout"
          ],
          "importance": 0.46,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Header.tsx",
              "sha256": "67b4e9171e79ebcea864ca67a1f68b2c54942d7072bc9267c25e43e4594aeeb3"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-tips",
          "sectionId": "section-ui",
          "slug": "ink-tips",
          "name": "Tips shows onboarding and takes into account GEMINI.md",
          "description": "Tips.tsx reads config.getGeminiMdFileCount: if there are zero files, adds advice to create GEMINI.md and shifts the numbering to underline /help, maintaining the theme color scheme.",
          "tags": [
            "cli",
            "ui",
            "ink",
            "ui-layout"
          ],
          "importance": 0.35,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Tips.tsx",
              "sha256": "0ac6cdba26c0972098770ac6f92feef81abc5795dad3c3fb9cf6e7e9b9b667aa"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-footer",
          "sectionId": "section-ui",
          "slug": "ink-footer",
          "name": "Footer combines path, sandbox and model metrics",
          "description": "Footer.tsx displays the working directory via shortenPath/tildeifyPath, highlights the sandbox or warns about its absence, adds ContextUsageDisplay, MemoryUsageDisplay and ConsoleSummaryDisplay, and also respects block hiding settings and Vim mode.",
          "tags": [
            "cli",
            "ui",
            "ink",
            "ui-layout"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Footer.tsx",
              "sha256": "3343d0bb5ab9b1739584d09afd0a94ce12c247534a7099414398a6dfe6e5943e"
            }
          ],
          "lastUpdated": "2025-10-20"
        },
        {
          "id": "aspect-ink-help-panel",
          "sectionId": "section-ui",
          "slug": "ink-help-panel",
          "name": "Help displays commands and hotkeys with highlighting",
          "description": "Help.tsx filters hidden commands, marks the MCP prefix, lists subcommands and prints shortcuts with platform nuances (Ctrl+J vs Ctrl+Enter), ending with a link to docs/cli/keyboard-shortcuts.md.",
          "tags": [
            "cli",
            "ui",
            "ink",
            "ui-layout"
          ],
          "importance": 0.42,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Help.tsx",
              "sha256": "bc3281d8709188d599baacd72181ff79375888010e2b9678070d4060b59c473e"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-app-header",
          "sectionId": "section-ui",
          "slug": "app-header",
          "name": "AppHeader hides banner and settings tips",
          "description": "AppHeader.tsx reads SettingsContext and ConfigContext: with hideBanner or screen reader it skips Header, and with hideTips it does not render Tips; in this case, the nightly flag from UIState is passed to Header so that the nightly build is highlighted automatically.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/AppHeader.tsx",
              "sha256": "d96be75d69a1077015210a0200aa7b757f1e37110f95d93c5556252689850e73"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-cli-spinner",
          "sectionId": "section-ui",
          "slug": "cli-spinner",
          "name": "CliSpinner counts active loading indicators",
          "description": "CliSpinner.tsx wraps ink-spinner: useEffect increases debugNumSpinners when mounted and decreases when unmounted, allowing you to debug stuck spinners and control their number without third-party tools.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/CliSpinner.tsx",
              "sha256": "46778cf5b7db8372f142aa9489325c95cd9fbd609fc716e1242245aed80e5f9d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.42
        },
        {
          "id": "aspect-history-item-display",
          "sectionId": "section-ui",
          "slug": "history-item-display",
          "name": "HistoryItemDisplay routes history message types",
          "description": "HistoryItemDisplay.tsx clears ANSI escapeAnsiCtrlCodes and selects the component by the type field: User/UserShell/Gemini/ToolGroup/Compression, AboutBox, Help (with a list of commands), Stats/Model/Tool stats, SessionSummary, lists of extensions/tools and McpStatus/ChatList; terminal parameters and activeShellPtyId are sent to ToolGroupMessage.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/HistoryItemDisplay.tsx",
              "sha256": "6226f24d256e28ba6ac8dfbd7da16905aac81249975a1b83c21be6cf8dadd217"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.68
        },
        {
          "id": "aspect-session-summary-display",
          "sectionId": "section-ui",
          "slug": "session-summary-display",
          "name": "SessionSummaryDisplay shows the final goodbye",
          "description": "SessionSummaryDisplay.tsx reuses StatsDisplay with the title \"Agent powering down. Goodbye!\" and takes a duration, so the /quit slash command displays a sequential result without its own layout.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/SessionSummaryDisplay.tsx",
              "sha256": "a93541e607c9f5a66e4534c324a808862c2b5f02766c385607867d4df121bc17"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.35
        },
        {
          "id": "aspect-queued-message-display",
          "sectionId": "section-ui",
          "slug": "queued-message-display",
          "name": "QueuedMessageDisplay shows the queue of user requests",
          "description": "QueuedMessageDisplay.tsx takes the first three elements from the messageQueue, collapses the spaces to one line, and draws a dim prefix with \"... (+N more)\" for the rest so the user can see the deferred prompts and their order.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/QueuedMessageDisplay.tsx",
              "sha256": "a4587b77009a729bab702a4061176864b0400e019ed09159f6f74482dbd36aef"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.48
        },
        {
          "id": "aspect-show-more-lines",
          "sectionId": "section-ui",
          "slug": "show-more-lines",
          "name": "ShowMoreLines signals when history is full",
          "description": "ShowMoreLines.tsx reads OverflowContext and StreamingContext: if overflowingIds is not empty and the stream is Idle/WaitingForConfirmation, the component asks to press ctrl-s, otherwise it is hidden, preventing hint spam during an active stream.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ShowMoreLines.tsx",
              "sha256": "934f82afa17715d8337720fd0d85968d42aea2b77ef2b70249b4b2b14968a337"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-quitting-display",
          "sectionId": "section-ui",
          "slug": "quitting-display",
          "name": "QuittingDisplay plays quitting messages",
          "description": "QuittingDisplay.tsx takes uiState.quittingMessages and renders them through HistoryItemDisplay, calculating the height from the current terminal and taking into account constrainHeight; if the list has nothing to show, the component is not output, so CLI completion looks just like a normal story.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "startup",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/QuittingDisplay.tsx",
              "sha256": "6d8af9c21bb0af92d403362d3590577a05c0501b623e627520ba49928cdf6256"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.4
        },
        {
          "id": "aspect-dynamic-theme-colors",
          "sectionId": "section-ui",
          "slug": "dynamic-theme-colors",
          "name": "Colors proxies the active theme",
          "description": "Colors implements ColorsTheme getters: each call (Foreground, AccentBlue, DiffAdded, etc.) returns themeManager.getActiveTheme().colors.<name>, so components get the actual shades when changing the theme without subscribing to events.",
          "tags": [
            "ui",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/colors.ts",
              "sha256": "eee8c30b40dfcc0aad3bbfe49325a33145613278eb72c5f6c816d4a40cc02368"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.36
        },
        {
          "id": "aspect-semantic-color-proxy",
          "sectionId": "section-ui",
          "slug": "semantic-color-proxy",
          "name": "Semantic colors provide theme tokens",
          "description": "semantic-colors.ts exports `theme: SemanticColors`, where the getters text/background/border/ui/status read themeManager.getSemanticColors(); this decouples semantic tokens from a specific palette and ensures that the UI operates on stable keys.",
          "tags": [
            "ui",
            "ink",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/semantic-colors.ts",
              "sha256": "699d480a0070ea37ff2f924c284dc3d29ebb56ec8e317a563777aa8e4fe3ee13"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.35
        },
        {
          "id": "aspect-ui-constants",
          "sectionId": "section-ui",
          "slug": "ui-constants",
          "name": "UI constants fix width and statuses",
          "description": "constants.ts calculates the UI width: EstimatedArtWidth + BOX_PADDING_X * 2 + border (= ~63), sets STREAM_DEBOUNCE_MS=100, Shell Command/Shell names, and the TOOL_STATUS dictionary (/o//?/-/x) that ToolMessage and dialogs use to display tool statuses.",
          "tags": [
            "ui",
            "cli",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/constants.ts",
              "sha256": "68f7b6dd0a0c75d5680fa55b4eb072a3ecc94383ef87ab2b27078d88d5af373a"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.32
        },
        {
          "id": "aspect-ui-types-model",
          "sectionId": "section-ui",
          "slug": "ui-types-model",
          "name": "types.ts describes the UI state model",
          "description": "types.ts collects the interface model: AuthState, StreamingState, GeminiEventType and ToolCallStatus enumerations, the ToolCallEvent/IndividualToolCallDisplay/CompressionProps structure, all HistoryItem options (user, tool_group, compression, extensions_list, etc.) and JsonMcpTool; A single description is shared between the Ink UI and the execution loop, which keeps history, tool and MCP types in sync.",
          "tags": [
            "cli",
            "ui",
            "mcp",
            "tools",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/types.ts",
              "sha256": "68fcef61576d92fe7c50ce2ab67e8f245e22c3913e1f19f099059f08f1daa7b8"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.63
        },
        {
          "id": "aspect-chat-list-view",
          "sectionId": "section-ui",
          "slug": "chat-list-view",
          "name": "ChatList shows saved conversations",
          "description": "ChatList.tsx displays a list of saved ChatDetails: if there are no checkpoints, it prints fallback, otherwise it formats ISO mtime in \"YYYY-MM-DD HH:MM:SS\", highlights the name with an accent color and explains the order (old ones on top, new ones on the bottom).",
          "tags": [
            "cli",
            "ink",
            "ui",
            "memory"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/ChatList.tsx",
              "sha256": "d162f4d0686d9dae9aa1b60ababc1549fa295999a041860e452d91074365208f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.48
        },
        {
          "id": "aspect-tools-list-view",
          "sectionId": "section-ui",
          "slug": "tools-list-view",
          "name": "ToolsList lists available tools",
          "description": "ToolsList.tsx renders the ToolDefinition list: it emphasizes displayName, upon request adds the system name and Markdown description via MarkdownDisplay, taking into account the width of the terminal, and when the list is empty, displays the message \"No tools available\".",
          "tags": [
            "cli",
            "ink",
            "ui",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/ToolsList.tsx",
              "sha256": "fd827f4754b00bcb5bb1c3857e44ee2194e8e38d3a5ba7f2e929c389cc6db0a8"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.46
        },
        {
          "id": "aspect-chat-list-iso-format",
          "sectionId": "section-ui",
          "slug": "chat-list-iso-format",
          "name": "ChatList validates timestamps before output",
          "description": "ChatList.tsx extracts the date and time from ISO mtime through the regular expression /(\\d{4}-\\d{2}-\\d{2})T(\\d{2}:\\d{2}:\\d{2})/, and if it misses, substitutes \"Invalid Date\". The list title and order note are displayed as separate indented Ink Boxes, and the name and date are colored in theme.text.accent and theme.text.secondary for readability.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/ChatList.tsx",
              "sha256": "d162f4d0686d9dae9aa1b60ababc1549fa295999a041860e452d91074365208f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.44
        },
        {
          "id": "aspect-tools-list-markdown",
          "sectionId": "section-ui",
          "slug": "tools-list-markdown",
          "name": "ToolsList formats descriptions via MarkdownDisplay",
          "description": "ToolsList.tsx paints the title and bullets via theme.text.primary and passes terminalWidth to MarkdownDisplay so that Markdown wraps match the width of the current TTY. When showDescriptions is enabled, the component adds the system name in brackets and renders the description with isPending=false, and when the array is empty, it returns a text notification without Markdown.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/ToolsList.tsx",
              "sha256": "fd827f4754b00bcb5bb1c3857e44ee2194e8e38d3a5ba7f2e929c389cc6db0a8"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.45
        },
        {
          "id": "aspect-raw-markdown-indicator",
          "sectionId": "section-ui",
          "slug": "raw-markdown-indicator",
          "name": "RawMarkdownIndicator reminds you of raw markdown mode",
          "description": "RawMarkdownIndicator outputs the string \"raw markdown mode\" and the platform tooltip option+m or alt+m, colorizing the Shortcut via theme.text.secondary so that users can always see how to enable or disable raw markdown mode.",
          "tags": [
            "cli",
            "ink",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/RawMarkdownIndicator.tsx",
              "sha256": "9d8ed84e62543fcf515a090d0beb873c49e7238198b989ce5a82f2fe6a325756"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.28
        },
        {
          "id": "aspect-ui-text-constants",
          "sectionId": "section-ui",
          "slug": "ui-text-constants",
          "name": "textConstants sets screen reader prefixes and statuses",
          "description": "textConstants exports SCREEN_READER_* constants (\"User:\", \"Model:\", \"loading\", \"responding\"), which are used in screen reader mode to announce the speaking agent and the response state.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/textConstants.ts",
              "sha256": "43c55fff04c0a2aa296e171d2afd6941291fe9108fb74453102674caf7f5a53c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-ascii-art-logo",
          "sectionId": "section-ui",
          "slug": "ascii-art-logo",
          "name": "AsciiArt contains short, long and tiny ASCII logo Gemini CLI",
          "description": "AsciiArt.ts exports three strings (long/short/tiny) so that banners and tooltips can choose the appropriate ASCII logo based on the width of the terminal, maintaining a branded look at launch and in tooltips.",
          "tags": [
            "cli",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/AsciiArt.ts",
              "sha256": "912e860d3da71ff373345d8e01448518f6f0aa63417eaec5ad5a5587f47f7c7c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.25
        }
      ]
    },
    {
      "id": "section-ui-contexts",
      "slug": "ui-contexts",
      "title": "Interface Contexts",
      "entries": [
        {
          "id": "aspect-app-context",
          "sectionId": "section-ui-contexts",
          "slug": "app-context",
          "name": "AppContext stores version and warnings",
          "description": "AppContext publishes AppState with version and startupWarnings; The useAppContext hook ensures that the provider is present and throws an error if it is not, so that the top UI layer receives the required release and launch warning data.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/AppContext.tsx",
              "sha256": "a9d3f5ae22af6d9b8d665621e3f81447bbc32867ca8b7e02c96224812c48f7e9"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.36
        },
        {
          "id": "aspect-config-context",
          "sectionId": "section-ui-contexts",
          "slug": "config-context",
          "name": "ConfigContext gives core Config",
          "description": "ConfigContext creates a React context for @google/gemini-cli-core Config and a useConfig hook that strictly checks for the presence of a provider, so any Ink component can call configuration methods with types without forwarding props.",
          "tags": [
            "cli",
            "ui",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/ConfigContext.tsx",
              "sha256": "14d15653eeae58d1b97c1d00c656b6b1102d881b95669816cf92f075fda1af53"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-session-stats-context",
          "sectionId": "section-ui-contexts",
          "slug": "session-context",
          "name": "SessionStatsContext caches UI metrics",
          "description": "SessionStatsProvider initializes sessionId, startTime and metrics from uiTelemetryService, subscribes to update event, compares new ModelMetrics/ToolCallStats via areMetricsEqual and updates promptCount/startNewPrompt, providing useSessionStats for stats bars.",
          "tags": [
            "cli",
            "ui",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/SessionContext.tsx",
              "sha256": "07c009d286f769f34d577cd93f67bb2b5c3bfaf4c049d1167b7b5ffce1b08459"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.62
        },
        {
          "id": "aspect-settings-context",
          "sectionId": "section-ui-contexts",
          "slug": "settings-context",
          "name": "SettingsContext casts LoadedSettings",
          "description": "SettingsContext stores the merged LoadedSettings and exposes useSettings, which throws an error outside of the SettingsProvider so that the UI can read the user/workspace layers synchronously without manually throwing.",
          "tags": [
            "cli",
            "ui",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/SettingsContext.tsx",
              "sha256": "e1067dac9490b585aedb71fcbc50340d5b1f08157f6db624ce97bdf7a3fe83b6"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-shell-focus-context",
          "sectionId": "section-ui-contexts",
          "slug": "shell-focus-context",
          "name": "ShellFocusContext reports terminal focus",
          "description": "ShellFocusContext stores a boolean value about shell focus, and useShellFocusState allows child components to know whether terminal input is active without additional checks.",
          "tags": [
            "cli",
            "ui",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/ShellFocusContext.tsx",
              "sha256": "b1b337a11047e9dcf4188773b7c728f06c6b95ea2e02c4a967e044a1b9bdcdde"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.3
        },
        {
          "id": "aspect-streaming-context",
          "sectionId": "section-ui-contexts",
          "slug": "streaming-context",
          "name": "StreamingContext protects access to stream state",
          "description": "StreamingContext stores StreamingState (output progress, tool-run, errors) and useStreamingContext validates the presence of the provider, allowing any components to safely read the current streaming status.",
          "tags": [
            "cli",
            "ui",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/StreamingContext.tsx",
              "sha256": "8fcf578f7bce932a281f2598d48d0fd64dda14bd29d120e4172c97daa4d82150"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        },
        {
          "id": "aspect-ui-actions-context",
          "sectionId": "section-ui-contexts",
          "slug": "ui-actions-context",
          "name": "UIActionsContext aggregates Ink UI actions",
          "description": "UIActionsContext describes 20+ callbacks: theme/editor/authorization selection, Vim flow, trust dialogs and final submit/clear; useUIActions is validated by the provider, concentrating UI side effects into a single object.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/UIActionsContext.tsx",
              "sha256": "6c364f361b17a644d0edad85816d8641e144e5222343bd356352108fff02ae06"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.66
        },
        {
          "id": "aspect-vim-mode-context",
          "sectionId": "section-ui-contexts",
          "slug": "vim-mode-context",
          "name": "VimModeContext controls Vim modes",
          "description": "VimModeProvider reads general.vimMode from the settings, keeps vimEnabled/vimMode in state, when enabled, switches the mode to NORMAL and through toggleVimEnabled updates SettingScope.User, and useVimMode throws an error outside the provider.",
          "tags": [
            "cli",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/VimModeContext.tsx",
              "sha256": "3b3981faaf6baf74fe62f313a9e9ac323b56bab50e6f19abc1c39fd7afcf9ac3"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.48
        },
        {
          "id": "aspect-keypress-context",
          "slug": "keypress-context",
          "name": "KeypressContext parses paste and Kitty events",
          "description": "KeypressProvider enables raw Ink stdin mode, redirects the stream through PassThrough if necessary, and processes paste markers ESC[200~/ESC[201~. It accumulates and parses Kitty/CSI sequences (parseKittyPrefix), maps Alt characters, monitors the buffer and logs overflow via logKittySequenceOverflow, sending Keys to subscribers.",
          "tags": [
            "cli",
            "ui",
            "ui-input"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/KeypressContext.tsx",
              "sha256": "232ba13804aa78649153c12afb7692d9c5eeae136d9469d85fb5296300561178"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-contexts"
        },
        {
          "id": "aspect-overflow-context",
          "slug": "overflow-context",
          "name": "OverflowContext keeps track of overflowed elements",
          "description": "The OverflowProvider maintains a set of overflowingIds in state and issues add/remove actions through a separate context so that components can signal trimmed blocks and synchronously control their display.",
          "tags": [
            "cli",
            "ui",
            "ui-layout"
          ],
          "importance": 0.42,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/OverflowContext.tsx",
              "sha256": "12cbcb967e041854a09aa4122c38fdea76f665774ef3774a03836be646693191"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-contexts"
        }
      ]
    },
    {
      "id": "section-ui-utils",
      "slug": "ui-utils",
      "title": "Interface Utilities",
      "entries": [
        {
          "id": "aspect-command-utils",
          "sectionId": "section-ui-utils",
          "slug": "command-utils",
          "name": "commandUtils recognizes slash/@ and copies the buffer",
          "description": "commandUtils defines isSlashCommand without collisions with // and /*, isAtCommand looks for @ with spaces, copyToClipboard runs pbcopy/clip/xclip with fallback on xsel and accumulates stderr, and getUrlOpenCommand returns open/start/xdg-open by platform.",
          "tags": [
            "cli",
            "ui",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/commandUtils.ts",
              "sha256": "8ac2f9cb44f31d0a769b7a989610b35c61cfa0bab397ed99f09a24138672125f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        },
        {
          "id": "aspect-clipboard-utils",
          "sectionId": "section-ui-utils",
          "slug": "clipboard-utils",
          "name": "clipboardUtils saves images from clipboard",
          "description": "clipboardUtils checks via osascript for PNG/JPEGs in the macOS buffer, creates a .gemini-clipboard next to targetDir, tries multiple formats and cleans up files older than an hour, integrating with spawnAsync.",
          "tags": [
            "cli",
            "ui",
            "integrations"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/clipboardUtils.ts",
              "sha256": "2a638c77680bdd3bc93322d6f2d29546951875f42d249d1dcb522616131401e6"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-compute-session-stats",
          "sectionId": "section-ui-utils",
          "slug": "compute-session-stats",
          "name": "computeStats aggregates session metrics",
          "description": "computeSessionStats summarizes the latency of all models, the duration of tools and calculates usage percentages, cache efficiency and consent rates, supplementing the SessionContext derived with data for the UI.",
          "tags": [
            "cli",
            "ui",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/computeStats.ts",
              "sha256": "c4eaee9fdd06146dfe02b57c082e3a05ae6845f29731d3995087db9c2e1779df"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-display-utils",
          "sectionId": "section-ui-utils",
          "slug": "display-utils",
          "name": "displayUtils sets success thresholds and colors",
          "description": "displayUtils declares the TOOL_SUCCESS_RATE and CACHE_EFFICIENCY thresholds, and getStatusColor maps the values to palette theme.status (success/warning/error), which allows you to unify the coloring of statistics panels.",
          "tags": [
            "cli",
            "ui",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/displayUtils.ts",
              "sha256": "59596ea0e6bc406f1764312825a14a42ba38feb4d97a71a8e0a6fc79dd20a5ed"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.38
        },
        {
          "id": "aspect-formatters-utils",
          "sectionId": "section-ui-utils",
          "slug": "formatters-utils",
          "name": "formatters format memory and duration",
          "description": "formatMemoryUsage converts RSS to KB/MB/GB with decimal place precision, and formatDuration breaks milliseconds into h/m/s, skipping zeros and maintaining short values (ms, s) so that the UI shows clear labels.",
          "tags": [
            "cli",
            "ui",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/formatters.ts",
              "sha256": "125b6cec23ec2d1106b4eff53a5b2acc98b140d60b65f82c652363c14a028efe"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.4
        },
        {
          "id": "aspect-highlight-utils",
          "sectionId": "section-ui-utils",
          "slug": "highlight-utils",
          "name": "highlight.ts highlights slash and @ links",
          "description": "parseInputForHighlighting looks for slash commands and @file templates, checks the cursor position, and buildSegmentsForVisualSlice cuts by codepoints via cpLen/cpSlice, combining adjacent tokens of the same type to highlight the input.",
          "tags": [
            "cli",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/highlight.ts",
              "sha256": "4098223aa7f19faefbc7a31fc2205c09d1720f7b6290ae5ed0fc51c03accb0fc"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-is-narrow-width",
          "sectionId": "section-ui-utils",
          "slug": "is-narrow-width",
          "name": "isNarrowWidth defines a compact terminal",
          "description": "isNarrowWidth returns true for widths <80 columns, switching to a compact layout for sidebars and tooltips.",
          "tags": [
            "cli",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/isNarrowWidth.ts",
              "sha256": "df14ddbef8832de76e294f16a2912e6e1fb0e24b4107507c98681b1612e584d7"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.25
        },
        {
          "id": "aspect-markdown-utilities",
          "sectionId": "section-ui-utils",
          "slug": "markdown-utilities",
          "name": "markdownUtilities looks for safe text cutting",
          "description": "findLastSafeSplitPoint checks whether the split falls into the code block, rewinds to the nearest \n\n or \n outside the fenced block and returns the index so that threaded messages don't break markdown when split.",
          "tags": [
            "cli",
            "ui",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/markdownUtilities.ts",
              "sha256": "312715d5f0a1df7b8963bd161940642a14804a19a2953e40df619c39480bbbb5"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-platform-constants",
          "sectionId": "section-ui-utils",
          "slug": "platform-constants",
          "name": "platformConstants describes Kitty and the keys",
          "description": "platformConstants declares KITTY_* keycode/modifier values, \\ and Enter detection windows, ctrl+exit timer and ESC/[] codes so that keyboard handlers correctly parse sequences on different terminals.",
          "tags": [
            "cli",
            "ui",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/platformConstants.ts",
              "sha256": "e42cf02b2e121e6d94deeadff56121ec2d43224597992d9ffc5d2129802deb6e"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.42
        },
        {
          "id": "aspect-text-utils",
          "sectionId": "section-ui-utils",
          "slug": "text-utils",
          "name": "textUtils manages codepoints and ANSI cleanup",
          "description": "textUtils caches code points, gives cpLen/cpSlice for slice by character, stripUnsafeCharacters removes ANSI/Vt/C0/C1 elements, getCachedStringWidth caches widths, and escapeAnsiCtrlCodes recursively escapes control codes in JSON structures.",
          "tags": [
            "cli",
            "ui",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/textUtils.ts",
              "sha256": "487b1946cf5f0cbaa32146bc86055185804546d99199aac3a8070c149d389e31"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.6
        },
        {
          "id": "aspect-ui-sizing",
          "sectionId": "section-ui-utils",
          "slug": "ui-sizing",
          "name": "ui-sizing adapts the width of the work area",
          "description": "calculateMainAreaWidth takes into account the useFullWidth setting and, through linear interpolation (lerp), narrows the window from 98% with 80 columns to 90% with 132, ensuring readability of the content.",
          "tags": [
            "cli",
            "ui",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/ui-sizing.ts",
              "sha256": "b7e8d1e54980e94018ff7c8178f82d20b4bd849bd69104b0f1beb1bebd1a7d08"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.47
        },
        {
          "id": "aspect-theme-manager",
          "sectionId": "section-ui-utils",
          "slug": "theme-manager",
          "name": "themeManager manages built-in and custom themes",
          "description": "theme-manager.ts registers 13 built-in schemes, stores the active theme and Map of custom ones; loadCustomThemes validates JSON, warns about warnings, creates themes on top of DEFAULT_THEME and rebinds the active one, and getActiveTheme takes into account NO_COLOR and returns fallback if the choice is not available.",
          "tags": [
            "cli",
            "ui",
            "settings",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/themes/theme-manager.ts",
              "sha256": "54cda92c9418bce0f749d2c41d171115da62ff266c6f56241b7432c594db6454"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-theme-file-loader",
          "sectionId": "section-ui-utils",
          "slug": "theme-file-loader",
          "name": "themeManager loads themes from disk with security checks",
          "description": "theme-manager.ts recognizes the name with .json as a path: loadThemeFromFile does realpathSync, discards files outside the user's home directory, validates JSON via validateCustomTheme and builds a CustomTheme on top of DEFAULT_THEME. Successfully downloaded topics are cached in the Map in a canonical path, so repeat requests do not re-read the disk.",
          "tags": [
            "cli",
            "ui",
            "settings",
            "terminal",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/themes/theme-manager.ts",
              "sha256": "54cda92c9418bce0f749d2c41d171115da62ff266c6f56241b7432c594db6454"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.56
        },
        {
          "id": "aspect-semantic-colors",
          "sectionId": "section-ui-utils",
          "slug": "semantic-colors",
          "name": "semantic-tokens describes semantic palettes for themes",
          "description": "semantic-tokens.ts generates SemanticColors for light, dark and ansi themes, mapping text, background, borders and statuses to the palette from theme.ts so that themeManager can render uniform semantic colors regardless of the specific palette.",
          "tags": [
            "cli",
            "ui",
            "settings",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/themes/semantic-tokens.ts",
              "sha256": "48d9d0811aee0818753aa36624f7a66802e409cbdf00ca58c42e9df3b3773295"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.42
        },
        {
          "id": "aspect-theme-class",
          "sectionId": "section-ui-utils",
          "slug": "theme-class",
          "name": "theme.ts stores palettes and highlight.js class mappings",
          "description": "theme.ts describes the ColorsTheme for light/dark/ansi, the Theme class normalizes CSSProperties via resolveColor, builds a colorMap for highlight.js classes, provides default semanticColors, and supports custom themes with inheritance of legacy fields.",
          "tags": [
            "cli",
            "ui",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/themes/theme.ts",
              "sha256": "c95c8ecc9004a42154ac4dbadd7365b601ea65f711416eeb9ccfb895803cdef5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-color-utils",
          "sectionId": "section-ui-utils",
          "slug": "color-utils",
          "name": "color-utils validates custom color values",
          "description": "color-utils.ts contains a CSS_NAME_TO_HEX_MAP, an INK_SUPPORTED_NAMES set, and an isValidColor function that accepts hex, Ink names, or known CSS colors, helping themeManager validate custom palettes and convert them to Ink compatible values.",
          "tags": [
            "cli",
            "ui",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/themes/color-utils.ts",
              "sha256": "6a0243a9560cf461632875e91ab460d250bff57fbe111dd16f9f7463a59cd0a6"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        },
        {
          "id": "aspect-app-events-emitter",
          "sectionId": "section-ui-utils",
          "slug": "app-events-emitter",
          "name": "appEvents combines UI signals (debug, oauth, flicker)",
          "description": "events.ts declares the enum AppEvent (open-debug-console, log-error, oauth-display-message, flicker) and a single EventEmitter appEvents, which is used by UI and services to broadcast events outside of direct dependencies.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/events.ts",
              "sha256": "83a8801e935b179ae8a92c9471ec8aa3788bce2e604c4bd3958b64bc892a597f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-lerp-utility",
          "sectionId": "section-ui-utils",
          "slug": "lerp-utility",
          "name": "math.ts provides linear interpolation lerp",
          "description": "math.ts exports a function lerp(start, end, t) returning start + (end - start) * t, which the UI uses for animations and smoothing of indicators.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/math.ts",
              "sha256": "3925dff36420c7a3ee795331f570a22f060046e9d37772f7d7eb516d11d97ca4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.2
        }
      ]
    },
    {
      "id": "section-ui-input",
      "slug": "ui-input",
      "title": "Interface Input and adapters",
      "entries": [
        {
          "id": "aspect-composer-component",
          "sectionId": "section-ui-input",
          "slug": "composer-component",
          "name": "Composer forms the main UI area",
          "description": "Composer.tsx manages spinners, message queue, ContextSummaryDisplay, InputPrompt and Footer, including AutoAcceptIndicator and ShellModeIndicator depending on state.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Composer.tsx",
              "sha256": "7cf4eace64412c466286db05a60ea8828a59f11a834967d75f7c0198f471af11"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.73
        },
        {
          "id": "aspect-input-prompt",
          "sectionId": "section-ui-input",
          "slug": "input-prompt",
          "name": "InputPrompt combines history and prompts",
          "description": "InputPrompt.tsx links Vim mode, history/reverse search, slash commands, kitty keyboard protocol and safe image insertion, controlling highlighting and ESC hints.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/InputPrompt.tsx",
              "sha256": "1e598b161bfde05979b160fe9edb515234739ae8ff074ac8e4d0bf8ed94f5d76"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.75
        },
        {
          "id": "aspect-exit-warning",
          "sectionId": "section-ui-input",
          "slug": "exit-warning",
          "name": "ExitWarning insures double exit",
          "description": "ExitWarning reads ctrlCPressedOnce/ctrlDPressedOnce from UIState and adds \"Press Ctrl+C/D again to exit\" warnings when dialogs are open, preventing the CLI from accidentally closing after the first signal.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ExitWarning.tsx",
              "sha256": "b439a74972294bc9f50e5fff0c342364f9c2944d78613d5f110b83a106b395b5"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-noninteractive-ui-adapter",
          "sectionId": "section-ui-input",
          "slug": "noninteractive-ui-adapter",
          "name": "createNonInteractiveUI gives no-op UI",
          "description": "createNonInteractiveUI returns a CommandContext.ui with no-op methods, empty pendingItem and update handlers, keeping the command pipeline compatible when running without Ink UI.",
          "tags": [
            "cli",
            "ink",
            "noninteractive",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/noninteractive/nonInteractiveUi.ts",
              "sha256": "323e2491987ff079554e81c485790d9208eef1b6ef75798fb2f0a46e887f3de3"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-ink-shell-input-prompt",
          "sectionId": "section-ui-input",
          "slug": "ink-shell-input-prompt",
          "name": "ShellInputPrompt translates keys into PTY commands",
          "description": "ShellInputPrompt via useKeypress catches ctrl+shift+up/down for scrolling and converts Key to ANSI via keyToAnsi, passing strings to ShellExecutionService.writeToPty and scrollPty of the active terminal.",
          "tags": [
            "cli",
            "ink",
            "shell",
            "ui",
            "ui-input"
          ],
          "importance": 0.37,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ShellInputPrompt.tsx",
              "sha256": "dfaac3633be03634b5d87b12e0bb9924e814167dcb4b710e5659a01289a645af"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-suggestions-display",
          "sectionId": "section-ui-input",
          "slug": "suggestions-display",
          "name": "SuggestionsDisplay scrolls through the list of suggestions",
          "description": "SuggestionsDisplay.tsx limits the output to MAX_SUGGESTIONS_TO_SHOW=8, truncates the array at scrollOffset, places slash commands in a separate column up to 50% wide, and marks CommandKind.MCP_PROMPT with a suffix `[MCP]`; the active line is highlighted by the theme, matches are highlighted via PrepareLabel and arrows/counter are added so that navigation through the remaining options is visible.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "slash-commands",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/SuggestionsDisplay.tsx",
              "sha256": "a10d331d5aa06b918a4a43ee21deaaeb4018367cae1829bc0b34dbbf44780311"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-prepare-label",
          "sectionId": "section-ui-input",
          "slug": "prepare-label",
          "name": "PrepareLabel highlights matches in tooltips",
          "description": "PrepareLabel.tsx uses MAX_WIDTH=150 to trim long lines, calculates a window around the match, and highlights the match with inverted theme colors; In an expand display or long match, manages ellipsis while maintaining list readability.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/PrepareLabel.tsx",
              "sha256": "cc59ba0aaa67f3426c97711f1287bbde5916ced130755fdf40a7f72111991c17"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.45
        },
        {
          "id": "aspect-shell-mode-indicator",
          "sectionId": "section-ui-input",
          "slug": "shell-mode-indicator",
          "name": "ShellModeIndicator reminds you of shell mode",
          "description": "ShellModeIndicator.tsx prints the line `shell mode enabled (esc to disable)` in the colors theme.ui.symbol and theme.text.secondary, so when the shell tool is active, the user immediately sees the status and exit method.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "shell",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ShellModeIndicator.tsx",
              "sha256": "260896520b5e2b9b270c06c2e09f8ae626205551fe8dac83499f3a6f88cb108c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.38
        },
        {
          "id": "aspect-use-selection-list",
          "sectionId": "section-ui-input",
          "slug": "use-selection-list",
          "name": "useSelectionList gives keyboard navigation for lists",
          "description": "useSelectionList.ts through useReducer monitors activeIndex, skips disabled elements findNextValidIndex and notifies onHighlight/onSelect; hook handles `j`/`k`, Arrows, Enter and Numeric Quick Select with a 1 second timeout to ensure the radio and prompts behave the same.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useSelectionList.ts",
              "sha256": "6b2ac30d04179569e91a811390aeda049750fc417c53293206e2d917b0cddc61"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.6
        },
        {
          "id": "aspect-reverse-search-completion",
          "sectionId": "section-ui-input",
          "slug": "reverse-search-completion",
          "name": "useReverseSearchCompletion searches by input history",
          "description": "useReverseSearchCompletion.tsx on top of useCompletion debounces input (100ms), caches the previous match to speed up incremental searches, and when reverse search is active, syncs suggestions/activeIndex; select substitutes the command into the TextBuffer and resets the state.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "memory",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useReverseSearchCompletion.tsx",
              "sha256": "4a8952366d2ef62a0d93d883b1b3677f38c827e0e3982c7ca90aae202dfc8d68"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-input-history-store",
          "sectionId": "section-ui-input",
          "slug": "input-history-store",
          "name": "useInputHistoryStore separates input history from chat",
          "description": "useInputHistoryStore.ts stores past and current messages separately, initializes the array via Logger.getPreviousUserMessages, trims empty lines and deduplicates consecutive duplicates, thanks to which `/clear` does not erase autocomplete prompts and the history is saved between sessions.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "memory",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useInputHistoryStore.ts",
              "sha256": "c156db080ceff93ec9b90d5ec677e1fad218e8dfbe41ab32e5f52337505bd5d0"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.6
        },
        {
          "id": "aspect-use-focus",
          "sectionId": "section-ui-input",
          "slug": "use-focus",
          "name": "useFocus enables terminal focus reporting",
          "description": "useFocus.ts activates ESC sequences `\u001b[?1004h/\u001b[?1004l`, subscribes to stdin and monitors FOCUS_IN/FOCUS_OUT, and also via useKeypress forces isFocused=true to be returned on input - a workaround for tmux and other terminals without focus events.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useFocus.ts",
              "sha256": "376caa41f1c1a12a374248bcb1eb07befc9c2980badc268113780f4bcd739957"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-use-keypress",
          "sectionId": "section-ui-input",
          "slug": "use-keypress",
          "name": "useKeypress subscribes components to global keys",
          "description": "useKeypress.ts proxies the handler in the KeypressContext: when the state is active, it calls subscribe, and in cleanup it unsubscribes so that UI layers (dialogs, tooltips, hotkeys) can safely enable and disable listeners without memory leaks.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useKeypress.ts",
              "sha256": "8aabff40001a16a9581e0cfb3a86519e99c0fab1a9609f09d5aaaa321ac10d89"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-base-selection-list",
          "sectionId": "section-ui-input",
          "slug": "base-selection-list",
          "name": "BaseSelectionList manages Ink lists",
          "description": "BaseSelectionList uses useSelectionList to navigate through items, stores scrollOffset, draws radio indicators () and numbering, selects colors via theme.status.success/secondary and supports showScrollArrows/maxItemsToShow; The component sets a common binding for all Ink drop-down lists.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/BaseSelectionList.tsx",
              "sha256": "83c76f4ceb75c955f3fadaa2db9dc07759946b471fbec32b9e3812cc587543eb"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-radio-button-select",
          "sectionId": "section-ui-input",
          "slug": "radio-button-select",
          "name": "RadioButtonSelect renders radio buttons",
          "description": "RadioButtonSelect wraps BaseSelectionList, adding label rendering: supports themeNameDisplay/themeTypeDisplay for the theme selection dialog, throws onSelect/onHighlight, showNumbers and maxItemsToShow; Due to this, any radio button lists receive unified control.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/RadioButtonSelect.tsx",
              "sha256": "69b6c224e273961b9bc9d009bc8f79c8855c786abbe9dbad323bf5c312efb8e2"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.48
        },
        {
          "id": "aspect-scope-selector",
          "sectionId": "section-ui-input",
          "slug": "scope-selector",
          "name": "ScopeSelector offers customization areas",
          "description": "ScopeSelector calls getScopeItems() from dialogScopeUtils (User/Workspace/System), builds a RadioButtonSelect with key=value and highlighting the current scope with the \">\" symbol; onSelect/onHighlight callbacks synchronize the selected area, so settings dialogs do not duplicate the logic for selecting environments.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "settings",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/ScopeSelector.tsx",
              "sha256": "ac977634f40891334054fe18e2efd6a6cc38c57e59e7816a6eb0441b65093a51"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.42
        },
        {
          "id": "aspect-ui-input-descriptive-radio-button-select",
          "sectionId": "section-ui-input",
          "slug": "descriptive-radio-button-select",
          "name": "DescriptiveRadioButtonSelect shows descriptive options",
          "description": "DescriptiveRadioButtonSelect.tsx extends BaseSelectionList: accepts items with title/description, supports showNumbers, scroll arrows and maxItemsToShow, and renders each option in a Box+Text column, so dialogs like model selection display explanatory captions without manual coding.",
          "tags": [
            "ui",
            "ink",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/DescriptiveRadioButtonSelect.tsx",
              "sha256": "2be48f32601d0da3b58abbbafb29ac404d4a15bf1a45badc18697773613ba13a"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.49
        },
        {
          "id": "aspect-text-buffer-hook",
          "sectionId": "section-ui-input",
          "slug": "text-buffer-hook",
          "name": "useTextBuffer controls the Unicode-enabled editor and Vim",
          "description": "useTextBuffer stores logical lines and visual layout, using toCodePoints/cpLen and findNextWordAcrossLines for word navigation taking into account combining marks and changing scripts, normalizes inserted text, maintains an undo/redo stack, exports dozens of actions (insert, replaceRange, deleteWord*, killLine*, selection) and supports Vim scripts via handleVimAction, and openInExternalEditor temporarily disables raw-mode, runs VISUAL/EDITOR, reads the file and synchronizes the buffer back.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/text-buffer.ts",
              "sha256": "320fd8d86e8802c1eae4eab093f93b0a1b7dd84895c19c1cb81b08c68bcd3597"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.78
        },
        {
          "id": "aspect-vim-buffer-actions",
          "sectionId": "section-ui-input",
          "slug": "vim-buffer-actions",
          "name": "handleVimAction implements Vim commands on top of TextBuffer",
          "description": "handleVimAction parses VimAction and, based on findNextWordAcrossLines/findPrevWordAcrossLines and findWordEndInLine, correctly calculates replacement ranges for delete/change/move commands, calls replaceRangeInternal and pushUndo, supports count and multiline transitions, thereby repeating key Vim gestures (dw, cw, dd, ciw, etc.) on the current buffer.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-input",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/vim-buffer-actions.ts",
              "sha256": "615cb15c1ae4e92ed6c0b894975a030f4d44fd3ce4147efdbf70cdf8cdba83c7"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.74
        },
        {
          "id": "aspect-key-to-ansi",
          "sectionId": "section-ui-input",
          "slug": "key-to-ansi",
          "name": "keyToAnsi translates Keypress events into ANSI sequence",
          "description": "The keyToAnsi function supports Ctrl+letters (encoding them into control characters), maps arrows, Delete, Home/End and Escape sequences, processes Enter/Tab and returns the original sequence for regular characters, which allows Shell integration to correctly send input to the pseudo-terminal.",
          "tags": [
            "cli",
            "ui",
            "ui-input",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/keyToAnsi.ts",
              "sha256": "f58e4ef0bdc35d2ca3eba61a99ad4ef0f38bf5ff1c798d59baa0bd42ff690a60"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-use-vim-hook",
          "sectionId": "section-ui-input",
          "slug": "use-vim-hook",
          "name": "useVim implements Vim's modal mode on top of TextBuffer",
          "description": "useVim reads the VimModeContext, stores state (mode, count, pending operator, lastCommand) in the reducer, processes numbers, g/d/c operators and repeat point, switches modes via updateMode and calls TextBuffer methods (vimDeleteWordForward, vimChangeLine, vimMoveWordForward, etc.), providing familiar Vim gestures.",
          "tags": [
            "cli",
            "ui",
            "ui-input",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/vim.ts",
              "sha256": "f538f7511e3c60489b187bb77a887572abb8211f572c8b97e4e4cc9906c67a73"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        }
      ]
    },
    {
      "id": "section-ui-dialogs",
      "slug": "ui-dialogs",
      "title": "Interface - Dialogs and notifications",
      "entries": [
        {
          "id": "aspect-workspace-migration-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "workspace-migration-dialog",
          "name": "Workspace extensions migration dialog",
          "description": "WorkspaceMigrationDialog displays to the user a list of workspace-level extensions, notifies about their deprivation and, through performWorkspaceExtensionMigration, transfers them to the user scope without repeated consent; after a successful or partially successful run, it prompts you to press \"q\" to exit and lists migration errors, requiring a CLI restart.",
          "tags": [
            "extensions",
            "ink",
            "ui",
            "workspace",
            "ui-dialogs"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/WorkspaceMigrationDialog.tsx",
              "sha256": "44de9b137327a34b2185ba5ff1030ff445a815f194cae5cad3a4b5e78d6dacf7"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.64
        },
        {
          "id": "aspect-ink-update-notification",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-update-notification",
          "name": "UpdateNotification emphasizes update warnings",
          "description": "UpdateNotification.tsx draws an Ink border around the message, colors it with the theme.status.warning color, and adds padding so that the offset update bar doesn't blend into the rest of the output.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "updates",
            "ui-dialogs"
          ],
          "importance": 0.32,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/UpdateNotification.tsx",
              "sha256": "75194623f59c22e7b7ecb6df13fc709134107fd465b2eecd7aac2d4b71873b74"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-dialog-manager",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-dialog-manager",
          "name": "DialogManager routes all UI modal windows",
          "description": "DialogManager.tsx reads uiState, by priority returns IdeTrustChangeDialog, WorkspaceMigrationDialog, ProQuotaDialog, FolderTrustDialog, ShellConfirmationDialog, LoopDetectionConfirmation, ConsentPrompt, Theme/Settings/Model dialogs, AuthDialog, EditorSettingsDialog, PrivacyNotice or PermissionsModifyTrustDialog using uiActions to close.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/DialogManager.tsx",
              "sha256": "822a859cfc12f987009ee790057402eb54297ec9ffc13570417a00086e494def"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-consent-prompt",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-consent-prompt",
          "name": "ConsentPrompt renders markdown and Yes/No selection",
          "description": "ConsentPrompt accepts a string or ReactNode: the strings are passed through MarkdownDisplay with terminalWidth, and RadioButtonSelect returns true/false, providing a uniform UX for confirming actions.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.4,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ConsentPrompt.tsx",
              "sha256": "a25a42b2070395b559370cf7e1deda37a62b67b70ffb9198b689f4ab829bdb50"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-theme-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-theme-dialog",
          "name": "ThemeDialog switches themes and scope with preview",
          "description": "ThemeDialog builds a list of built-in and custom themes for the selected scope, allows Tab to go to the SettingScope selection, highlights another area and shows a preview with colorizeCode and DiffRenderer for the selected theme.",
          "tags": [
            "cli",
            "ink",
            "settings",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.53,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ThemeDialog.tsx",
              "sha256": "9dc370a7a7757a0b098ce8ccb0d1c4deece16dc55d029d59fdde38539e9b367d"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-settings-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-settings-dialog",
          "name": "SettingsDialog manages pending settings and restart",
          "description": "SettingsDialog dynamically adjusts the height of the list, switches focus between settings and scope, immediately saves values that do not require a restart, and for restart-required it accumulates globalPendingChanges, indicating a Prompt about the need for a restart.",
          "tags": [
            "cli",
            "ink",
            "settings",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/SettingsDialog.tsx",
              "sha256": "10aa87a526d647c130ae921e59f887e70674cfe20fefb01b4b3641d22d6bdf12"
            }
          ],
          "lastUpdated": "2025-10-20"
        },
        {
          "id": "aspect-ink-editor-settings-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-editor-settings-dialog",
          "name": "EditorSettingsDialog selects preferredEditor by scope",
          "description": "EditorSettingsDialog displays available editors from editorSettingsManager, filters unavailable sandbox options, Tab switches between list and scope, and when selected, calls onSelect with SettingScope.User or Workspace.",
          "tags": [
            "cli",
            "ink",
            "settings",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.48,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/EditorSettingsDialog.tsx",
              "sha256": "2d15734480908c8cb5ed6c163f0507c8f7aa5a26df24eba0e2c7c303ac8210dc"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-pro-quota-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-pro-quota-dialog",
          "name": "ProQuotaDialog suggests changing the auth or fallback model",
          "description": "ProQuotaDialog.tsx draws a frame, reports that the Pro limit has been exceeded for failedModel and, via RadioButtonSelect, allows you to choose run /auth or continue on fallbackModel, passing the choice to onChoice.",
          "tags": [
            "auth",
            "cli",
            "ink",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.36,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ProQuotaDialog.tsx",
              "sha256": "144e28b14e89ce9b125a756d494271d4d4dc3cb58732d97d5df82c3cb18d34f9"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ink-ide-integration-nudge",
          "sectionId": "section-ui-dialogs",
          "slug": "ink-ide-integration-nudge",
          "name": "IdeIntegrationNudge links CLI and IDE",
          "description": "IdeIntegrationNudge by env determines whether the IDE companion is installed, shows text about file access and returns userSelection ('yes'/'no'/'dismiss') via RadioButtonSelect; Esc is triggered as a failure.",
          "tags": [
            "cli",
            "ide",
            "ink",
            "ui",
            "ui-dialogs"
          ],
          "importance": 0.4,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/IdeIntegrationNudge.tsx",
              "sha256": "4cf1ba1059b27d5576f18ea05c875c773c0898544321d087c53024790f7b73d7"
            }
          ],
          "lastUpdated": "2025-10-16"
        },
        {
          "id": "aspect-ide-trust-change-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "ide-trust-change-dialog",
          "name": "IdeTrustChangeDialog asks to restart when changing IDE trust",
          "description": "IdeTrustChangeDialog.tsx reacts to RestartReason from useIdeTrustListener: reports that the trust has changed and listens for a key `r` via useKeypress to launch relaunchApp; unexpected meaning `NONE` is logged to the console as an error.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "trust",
            "ide",
            "ui-dialogs"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/IdeTrustChangeDialog.tsx",
              "sha256": "d70ed0fa6c8ac52cd9947c487d9d2556a920e1a8afd1084d602c0a1f91786443"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        },
        {
          "id": "aspect-loop-detection-confirmation",
          "sectionId": "section-ui-dialogs",
          "slug": "loop-detection-confirmation",
          "name": "LoopDetectionConfirmation asks about disabling protection",
          "description": "LoopDetectionConfirmation.tsx renders a warning in the theme.status.warning frame, offers to leave protection or disable it for the current session, and esc instantly selects keep; the result is thrown into onComplete so that LoopDetectionService acts according to the user's choice.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "loop-detection",
            "security",
            "ui-dialogs"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/LoopDetectionConfirmation.tsx",
              "sha256": "34ff4318c951e232b784a2a882de4f3db507952ca5e055a6204661a34aa6dad6"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.65
        },
        {
          "id": "aspect-permissions-modify-trust-dialog",
          "sectionId": "section-ui-dialogs",
          "slug": "permissions-modify-trust-dialog",
          "name": "PermissionsModifyTrustDialog modifies the trust level of a folder",
          "description": "PermissionsModifyTrustDialog.tsx uses usePermissionsModifyTrust: shows the current TrustLevel, marks inheritance from a parent or IDE, gives a RadioButtonSelect to change the level and prompts to click when needsRestart `r`to apply commitTrustLevelChange and restart the CLI.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "security",
            "trust",
            "ui-dialogs"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/PermissionsModifyTrustDialog.tsx",
              "sha256": "2f126ea927957d3b3e0c85a2388c47ce9cf1e22bf89249dd5864f283a356495f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.68
        },
        {
          "id": "aspect-enum-selector-component",
          "sectionId": "section-ui-dialogs",
          "slug": "enum-selector-component",
          "name": "EnumSelector displays a scrollable list of enum values",
          "description": "EnumSelector calculates the index of the current value in useState, synchronizes with the external currentValue via useEffect and shows navigation arrows only when the list is longer than one element, highlighting the active option with Colors.AccentGreen/Foreground colors, so settings dialogs get a consistent read-only UI.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-dialogs",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/EnumSelector.tsx",
              "sha256": "615bf7864baf3a27af67770ba41724793798b68560e647b062b773fb84b5e102"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.36
        },
        {
          "id": "aspect-dialog-scope-utils",
          "sectionId": "section-ui-dialogs",
          "slug": "dialog-scope-utils",
          "name": "dialogScopeUtils shows where a setting has already been overridden",
          "description": "dialogScopeUtils exports SCOPE_LABELS and getScopeItems for radio buttons, and getScopeMessageForSetting checks via settingExistsInScope whether a setting has been modified in other scopes and returns the signature '(Modified in ...)', helping dialogs/settings explain intersections.",
          "tags": [
            "cli",
            "ui",
            "settings",
            "ui-dialogs"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/dialogScopeUtils.ts",
              "sha256": "cf999cac80d415af05d845684d346635b7367547474d4f858e7fd59acaf9a888"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.43
        }
      ]
    },
    {
      "id": "section-ui-messages",
      "slug": "ui-messages",
      "title": "Interface - Messages",
      "entries": [
        {
          "id": "aspect-ansi-output-text",
          "sectionId": "section-ui-messages",
          "slug": "ansi-output-text",
          "name": "AnsiOutputText formats ANSI output",
          "description": "AnsiOutputText cuts AnsiOutput to the last N lines (availableTerminalHeight or 24 by default) and maps each token into Ink Text with fg/bg inversion, dim/bold/italic/underline support; tool components use it to safely display ANSI-colored stdout in the terminal.",
          "tags": [
            "ui",
            "ink",
            "cli",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/AnsiOutput.tsx",
              "sha256": "3e89ae94fa0a1dc9779d1a275841c6f340ac9fedd0aaa44c671c02afc85ee4bd"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-gemini-message",
          "sectionId": "section-ui-messages",
          "slug": "gemini-message",
          "name": "GeminiMessage renders the model's response",
          "description": "GeminiMessage adds a prefix \"\" with the color theme.text.accent and aria-label SCREEN_READER_MODEL_PREFIX, then renders a MarkdownDisplay with the model text, passing isPending, height and width constraints; so the main answer supports markdown and is readable by screen readers.",
          "tags": [
            "ui",
            "ink",
            "streaming",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/GeminiMessage.tsx",
              "sha256": "887ce20f52c896fc1d04c736b46140a1901aa06bc9ad86c409040301ae783a38"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-tool-message",
          "sectionId": "section-ui-messages",
          "slug": "tool-message",
          "name": "ToolMessage visualizes the tool call",
          "description": "ToolMessage shows status indicator (TOOL_STATUS characters or GeminiRespondingSpinner), controls \"(ctrl+f to focus)\" tooltip for Shell, normalizes resultDisplay output: markdown, MaxSizedBox plain text, DiffRenderer for fileDiff and AnsiOutputText for ANSI; Shell EXECUTING embeds a ShellInputPrompt, associating the tool with the interactive shell.",
          "tags": [
            "ui",
            "ink",
            "tools",
            "shell",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/ToolMessage.tsx",
              "sha256": "1150fe2377ab309fd831825f8b6c5924ede079bec39b9cb77f8293ef5f7c4e8b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.68
        },
        {
          "id": "aspect-tool-group-message",
          "sectionId": "section-ui-messages",
          "slug": "tool-group-message",
          "name": "ToolGroupMessage groups tool output",
          "description": "ToolGroupMessage wraps a set of ToolMessage calls in an Ink border with the color theme.ui.symbol for Shell, theme.status.warning for unfinished, and theme.border.default otherwise; redistributes availableTerminalHeight between messages, adds a ToolConfirmationMessage only for the current confirming call, and displays a tooltip about tool.outputFile.",
          "tags": [
            "ui",
            "ink",
            "tools",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/ToolGroupMessage.tsx",
              "sha256": "dc75c3ff56bc2d01283ff6aacb54dc4313c61edf68aff8bfb96f555988cc2ea3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.63
        },
        {
          "id": "aspect-tool-confirmation-message",
          "sectionId": "section-ui-messages",
          "slug": "tool-confirmation-message",
          "name": "ToolConfirmationMessage leads to approve flow",
          "description": "ToolConfirmationMessage processes edit/exec/info scripts: for editing it shows DiffRenderer and synchronizes with IdeClient.resolveDiffFromCli in IDE mode, for exec it displays a command, for info it displays RenderInline with URL; RadioButtonSelect offers ProceedOnce/Always/Modify/Cancel, escape is broadcast via useKeypress, providing a full approve flow.",
          "tags": [
            "ui",
            "ink",
            "policy",
            "tools",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/ToolConfirmationMessage.tsx",
              "sha256": "44f4ee1e455f026faebc00c075f5f3450ac224eda19ef1b44572925432a46bee"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.7
        },
        {
          "id": "aspect-compression-message",
          "sectionId": "section-ui-messages",
          "slug": "compression-message",
          "name": "CompressionMessage reports compression status",
          "description": "CompressionMessage shows CliSpinner while compression.isPending, then  and text depending on CompressionStatus: success with token numbers, warning about short history (<50k) or counting errors; aria-label uses SCREEN_READER_MODEL_PREFIX, so the status is announced by screen readers.",
          "tags": [
            "ui",
            "ink",
            "memory",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/CompressionMessage.tsx",
              "sha256": "de561b227543c107dafb97490d58724b2d61f7856982e7c3574e7a8a714683bc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-ui-messages-error-message",
          "sectionId": "section-ui-messages",
          "slug": "error-message",
          "name": "ErrorMessage highlights errors",
          "description": "ErrorMessage.tsx draws a fixed-width red '' prefix and outputs the text via Ink `Text` with wrap=\"wrap\" using theme.status.error and indentation in a separate `Box`, so multiline errors are aligned and separated at the bottom by marginBottom=1.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/ErrorMessage.tsx",
              "sha256": "d790fd7e35bf55d1ae2df08761655d1c8a99197561ff8edaca786b24793d3cb0"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.46
        },
        {
          "id": "aspect-ui-messages-info-message",
          "sectionId": "section-ui-messages",
          "slug": "info-message",
          "name": "InfoMessage shows hints",
          "description": "InfoMessage.tsx adds the character 'i' and colors the icon and text in theme.status.warning and passes the content through `RenderInline`so that links and underlined parts are preserved, so infotips appear with marginTop=1 and display Markdown correctly.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/InfoMessage.tsx",
              "sha256": "91673cac03fd8cbebd5034bd76ada96dba5323d4622770b8ba13b51d5d442270"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.43
        },
        {
          "id": "aspect-ui-messages-warning-message",
          "sectionId": "section-ui-messages",
          "slug": "warning-message",
          "name": "WarningMessage emphasizes warnings",
          "description": "WarningMessage.tsx outputs a fixed-width yellow '' character (3) and text via Ink `Text` with wrap=\"wrap\" using Colors.AccentYellow and `RenderInline`, so the alerts visually match the rest of the cards and retain their inline markup.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/WarningMessage.tsx",
              "sha256": "bc160b509d91071e3bf07d74b95b49ffa2004fc42241af65b2c74f07c48ad507"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.45
        },
        {
          "id": "aspect-ui-messages-user-message",
          "sectionId": "section-ui-messages",
          "slug": "user-message",
          "name": "UserMessage formats user input",
          "description": "UserMessage.tsx prefixes '>' with aria-label SCREEN_READER_USER_PREFIX and calculates the text color via isSlashCommand: slash requests are highlighted with theme.text.accent, regular input is theme.text.secondary, so the dialogue history remains contrasting and accessible to screen readers.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/UserMessage.tsx",
              "sha256": "75ca346c79aaaa4d4ff511c4bd6d555439ddbdc6abb74854ed07513f25ffa125"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-ui-messages-user-shell-message",
          "sectionId": "section-ui-messages",
          "slug": "user-shell-message",
          "name": "UserShellMessage draws shell commands",
          "description": "UserShellMessage.tsx removes the service '!' from the command, displays the '$' prompt in theme.text.link color and the command itself in theme.text.primary, so shell inserts look like a terminal and are separated from regular messages.",
          "tags": [
            "ui",
            "ink",
            "shell",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/UserShellMessage.tsx",
              "sha256": "c96fb108ad7fee465a76c64fb049323e00344aa5f9c63704ddd3c73f60ab1a1c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.48
        },
        {
          "id": "aspect-ui-messages-gemini-message-content",
          "sectionId": "section-ui-messages",
          "slug": "gemini-message-content",
          "name": "GeminiMessageContent splits long responses",
          "description": "GeminiMessageContent.tsx offsets the MarkdownDisplay by the width of the '' prefix and takes isPending, availableTerminalHeight and terminalWidth to break up a long response into chunks in Static and avoid performance hit when streaming output.",
          "tags": [
            "ui",
            "ink",
            "streaming",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/GeminiMessageContent.tsx",
              "sha256": "131df1aefa17066f25e511c875a1d2ca388d69d2a974973935b76e8f17bff42e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.54
        },
        {
          "id": "aspect-ui-messages-diff-renderer",
          "sectionId": "section-ui-messages",
          "slug": "diff-renderer",
          "name": "DiffRenderer renders diff with highlighting",
          "description": "DiffRenderer.tsx parses unified diff in parseDiffWithLineNumbers, taking into account hunks and line numbers, and renders them in MaxSizedBox: new files are colored via colorizeCode, existing lines receive numbers, background highlighting and '' separators for large breaks, and a flat text fallback is enabled for the screen reader.",
          "tags": [
            "ui",
            "ink",
            "editing",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/DiffRenderer.tsx",
              "sha256": "b7ca0fd7c637bb89643155c5a2cb2517ebf7571b2f4026ddbdbe7ee57189a757"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.6
        },
        {
          "id": "aspect-ui-messages-inline-markdown-renderer",
          "sectionId": "section-ui-messages",
          "slug": "inline-markdown-renderer",
          "name": "InlineMarkdownRenderer renders inline markup",
          "description": "InlineMarkdownRenderer.tsx recognizes bold, italic, strikethrough, underlined text, links, inline code and URLs, carefully avoiding false positives for paths and adjacent characters, and getPlainTextLength removes the Markdown wrapper for calculating column widths.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/InlineMarkdownRenderer.tsx",
              "sha256": "be3f9603846031765f0d823d81083136777e4b17a80d3f7ae12e1c09c800c99c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        },
        {
          "id": "aspect-ui-messages-markdown-display",
          "sectionId": "section-ui-messages",
          "slug": "markdown-display",
          "name": "MarkdownDisplay supports Markdown in messages",
          "description": "MarkdownDisplay.tsx parses headers, lists, horizontal lines, tables and fenced code; when streaming output, it limits the number of rows and adds '... generating more ...', and for tables it uses TableRenderer and RenderInline so that the Markdown of the model looks like in the IDE.",
          "tags": [
            "ui",
            "ink",
            "streaming",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/MarkdownDisplay.tsx",
              "sha256": "cd3786da264cfad53e4699ee6e20538cf6f18dc707954bd84b6eb0e4781453e1"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.62
        },
        {
          "id": "aspect-ui-messages-table-renderer",
          "sectionId": "section-ui-messages",
          "slug": "table-renderer",
          "name": "TableRenderer renders Markdown tables",
          "description": "TableRenderer.tsx calculates column widths using getPlainTextLength, scales the table to fit the terminal and trims long cells using binary search with ellipses, rendering rows and borders using Ink `Text` And `RenderInline` to save Markdown in cells.",
          "tags": [
            "ui",
            "ink",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/TableRenderer.tsx",
              "sha256": "bedacf3eb10519b362e690c85cd2618d1b524e7cec6b8d6849c22b43f5da3a5b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-ui-messages-code-colorizer",
          "sectionId": "section-ui-messages",
          "slug": "code-colorizer",
          "name": "CodeColorizer highlights code in Ink",
          "description": "CodeColorizer.tsx uses lowlight and themeManager for highlighting, routes the output through MaxSizedBox taking into account availableHeight and adds line numbers using the showLineNumbers setting; When an error occurs, it gracefully rolls back to plain text, preserving the formatting.",
          "tags": [
            "ui",
            "ink",
            "editing",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/utils/CodeColorizer.tsx",
              "sha256": "7bcea02083bf36d3b9f9a81677e46387502bcea06bc4caf298f6cbbf62c54ceb"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-ui-messages-max-sized-box",
          "sectionId": "section-ui-messages",
          "slug": "max-sized-box",
          "name": "MaxSizedBox controls message overflow",
          "description": "MaxSizedBox.tsx requires child elements to be Box with Text, expands them to StyledText, controls MINIMUM_MAX_HEIGHT and overflowDirection, and via OverflowContext shows notifications about hidden rows, so long output doesn't break the layout and remains navigable.",
          "tags": [
            "ui",
            "ink",
            "ui-messages",
            "ui-layout"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/shared/MaxSizedBox.tsx",
              "sha256": "8de50367e121cadeb133a15370e9b5c25c462754448c2ce141252e0fc7d19641"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.57
        },
        {
          "id": "aspect-todo-list-display",
          "sectionId": "section-ui-messages",
          "slug": "todo-list-display",
          "name": "TodoListDisplay visualizes the to-do list with code icons",
          "description": "TodoListDisplay iterates through TodoList.todos and draws for each item a Box with an icon , \" ,  or , colored in theme.status.success/warning/error or theme.text.accent, and the description is displayed in theme.text.primary color within the specified terminal width.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-messages"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/messages/TodoListDisplay.tsx",
              "sha256": "9aec9be70cb5f8e2c1d207325c19ca75ba47ac835ec56ed2ea9085c8c2b708d9"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.32
        },
        {
          "id": "aspect-mcp-status-view",
          "sectionId": "section-ui-messages",
          "slug": "mcp-status-view",
          "name": "McpStatus displays the status of MCP servers in the UI",
          "description": "The McpStatus component collects a list of servers, tools and prompts, calculates the connection status taking into account the cache (connected/connecting/disconnected are accompanied by // icons and theme.status colors), displays OAuth status and tips, and if there is no configuration, prints a link to documentation and /docs.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "mcp",
            "integrations"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/McpStatus.tsx",
              "sha256": "5ed1a7a442db5bdab883d1cddd99a191778379a0c95e90128ed1f11a4fd07677"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        }
      ]
    },
    {
      "id": "section-ui-hooks",
      "slug": "cli-ui-hooks",
      "title": "Interface - State Hooks",
      "entries": [
        {
          "id": "aspect-use-gemini-stream",
          "slug": "use-gemini-stream",
          "name": "useGeminiStream hook",
          "description": "The useGeminiStream hook manages the AbortController, the HistoryItem queue, runs the useReactToolScheduler, logs prompt events, handles slash/@ commands, and coordinates tool responses with the GeminiClient.",
          "tags": [
            "cli",
            "ink",
            "streaming",
            "ui",
            "ui-hooks"
          ],
          "importance": 0.79,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useGeminiStream.ts",
              "sha256": "76cc6a7084cd20043d4dcc5daa2938064b748061f112ae830f921901b6984136"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks"
        },
        {
          "id": "aspect-use-quota-fallback",
          "slug": "use-quota-fallback",
          "name": "Quotas and fallback models",
          "description": "useQuotaAndFallback tracks TerminalQuotaError, writes INFO messages to history, marks the session as fallback, initiates a dialog about /auth for Pro and sets Config to fallbackMode via setFallbackModelHandler.",
          "tags": [
            "cli",
            "fallback",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "importance": 0.73,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useQuotaAndFallback.ts",
              "sha256": "31dc9832bd20fe4dc780e97d3860bc6e912848adc127d70249154dc10f31fd46"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks"
        },
        {
          "id": "aspect-overflow-provider",
          "sectionId": "section-ui-hooks",
          "slug": "overflow-provider",
          "name": "OverflowProvider tracks overflowed blocks",
          "description": "OverflowProvider stores a lot of overflowed ids in the React context and issues add/remove actions so that components (for example HistoryItemDisplay) can synchronously mark elements that require ShowMore and manage the scroll state of the entire column.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/OverflowContext.tsx",
              "sha256": "12cbcb967e041854a09aa4122c38fdea76f665774ef3774a03836be646693191"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-ui-state-context",
          "sectionId": "section-ui-hooks",
          "slug": "ui-state-context",
          "name": "UIStateContext stores global Ink state",
          "description": "UIStateContext describes all interface state (dialogues, pending history, quota, IDE context, streamingState, refs) and through useUIState ensures the presence of a provider so that Ink components access data safely.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/contexts/UIStateContext.tsx",
              "sha256": "756061d8ad794a7c954f34b6bd3611ef3d06fb836f5eb4aaf32b37ff0da25f6f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.74
        },
        {
          "id": "aspect-keyboard-matchers",
          "sectionId": "section-ui-hooks",
          "slug": "keyboard-matchers",
          "name": "keyMatchers matches KeyBindings",
          "description": "keyMatchers creates a function for each Command that takes into account key/sequence and ctrl/shift/command/paste modifiers, allowing the UI to check custom binds without hard ifs.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/keyMatchers.ts",
              "sha256": "b15bc6028cff767f6509896b714754c0b3f6407a5ff136550a547efe40e9740b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.57
        },
        {
          "id": "aspect-auto-accept-indicator-hook",
          "sectionId": "section-ui-hooks",
          "slug": "auto-accept-indicator-hook",
          "name": "useAutoAcceptIndicator toggles ApprovalMode",
          "description": "The hook monitors Ctrl+Y and Shift+Tab combinations via useKeypress, switches Config.setApprovalMode between YOLO/DEFAULT and AUTO_EDIT/DEFAULT, instantly updates the local state and writes MessageType.INFO on error.",
          "tags": [
            "cli",
            "ink",
            "policy",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useAutoAcceptIndicator.ts",
              "sha256": "b66a2c84a47bc1addfd813dda5917d57893f17b456aee45e58273cdb55355118"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.48
        },
        {
          "id": "aspect-editor-settings-hook",
          "sectionId": "section-ui-hooks",
          "slug": "editor-settings-hook",
          "name": "useEditorSettings saves editor preferences",
          "description": "The hook manages the state of the dialog, checks allowEditorTypeInSandbox and checkHasEditorType before setting, writes MessageType.INFO about the selected editor, and handles setValue errors via setEditorError.",
          "tags": [
            "cli",
            "ink",
            "settings",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useEditorSettings.ts",
              "sha256": "5bf6805e05617ab5f34d45ef66226a431105dd3f79c53006ecb11a67c7336e4e"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.54
        },
        {
          "id": "aspect-message-queue-hook",
          "sectionId": "section-ui-hooks",
          "slug": "message-queue-hook",
          "name": "useMessageQueue saves messages while streaming",
          "description": "useMessageQueue stores trimmed user input while streamingState=Idle; when Config is initialized and the thread is completed, merges the queue via a double line break, clears it and calls submitQuery.",
          "tags": [
            "cli",
            "ink",
            "streaming",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useMessageQueue.ts",
              "sha256": "a801b4f9dd60c8cae721fdf9cdc2f158e35d4357286084a720ba9d5d6c6b2db0"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-react-tool-scheduler-hook",
          "sectionId": "section-ui-hooks",
          "slug": "react-tool-scheduler-hook",
          "name": "useReactToolScheduler adapts CoreToolScheduler",
          "description": "useReactToolScheduler creates a CoreToolScheduler with update handlers, stores a TrackedToolCall with liveOutput/pid and responseSubmittedToGemini and provides schedule and markToolsAsSubmitted, and mapToDisplay translates the statuses into HistoryItemToolGroup.",
          "tags": [
            "cli",
            "ink",
            "tools",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useReactToolScheduler.ts",
              "sha256": "b6c1c45e82a32715d190ee3e3b6445f3aef63ecdd1c9434487a6d7920a921de5"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.72
        },
        {
          "id": "aspect-use-logger-hook",
          "sectionId": "section-ui-hooks",
          "slug": "use-logger-hook",
          "name": "useLogger creates a Logger asynchronously",
          "description": "packages/cli/src/ui/hooks/useLogger.ts creates a Logger with sessionId, runs initialize without await so as not to block the UI from starting, and updates state when the logger is ready. The hook returns null before initialization.",
          "tags": [
            "ui",
            "ui-hooks",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useLogger.ts",
              "sha256": "e1c631d20abb7d5c28f364bfbd7397ff88223a86da3dcbea4faa425c1026626b"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.43
        },
        {
          "id": "aspect-use-kitty-keyboard-protocol",
          "sectionId": "section-ui-hooks",
          "slug": "use-kitty-keyboard-protocol",
          "name": "useKittyKeyboardProtocol caches Kitty protocol support",
          "description": "useKittyKeyboardProtocol calls isKittyProtocolSupported and isKittyProtocolEnabled from kittyProtocolDetector once at startup, fixing supported/enabled/checking in useState so that other hooks can quickly decide whether to use Kitty extensions without repeated checks.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useKittyKeyboardProtocol.ts",
              "sha256": "b1b23ad95a4daf1026f0bfae558d1e57dc4ec9064f702faa40d515697b18c7fe"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.42
        },
        {
          "id": "aspect-use-loading-indicator",
          "sectionId": "section-ui-hooks",
          "slug": "use-loading-indicator",
          "name": "useLoadingIndicator combines timer and wait phrases",
          "description": "useLoadingIndicator turns on the stopwatch via useTimer when StreamingState.Responding, captures the time on WaitingForConfirmation, picks up witty or informative phrases via usePhraseCycler, and resets the timer when returning to Idle, providing a consistent hint about response progress.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useLoadingIndicator.ts",
              "sha256": "2733a7b7850b2d8c682990ce5659d48980bc8c39cfebe1ed76b2d9cbbccc99f5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-use-model-command",
          "sectionId": "section-ui-hooks",
          "slug": "use-model-command",
          "name": "useModelCommand controls the model selection window",
          "description": "useModelCommand stores isModelDialogOpen in useState and provides openModelDialog/closeModelDialog so that the UI can be synchronously put into model selection mode without additional state.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "routing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useModelCommand.ts",
              "sha256": "f4593d31ea03b71c2008c8aa88897176e549a7b1d01eaa91bef6bf2d650d350a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.34
        },
        {
          "id": "aspect-use-phrase-cycler",
          "sectionId": "section-ui-hooks",
          "slug": "use-phrase-cycler",
          "name": "usePhraseCycler alternates witty and informative loading prompts",
          "description": "usePhraseCycler starts an interval on PHRASE_CHANGE_INTERVAL_MS, randomly selecting either witty loading or INFORMATIVE_TIPS with probability 1/6, supports user lists, captures a special message \"Waiting for user confirmation...\" and ensures that the timer is cleared in cleanup.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/usePhraseCycler.ts",
              "sha256": "208b57b2e7051db00303307329fd51d32b9817d62c5915fe2ba2acb229e6b9bb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.49
        },
        {
          "id": "aspect-use-settings-command",
          "sectionId": "section-ui-hooks",
          "slug": "use-settings-command",
          "name": "useSettingsCommand enables and closes the settings window",
          "description": "useSettingsCommand controls isSettingsDialogOpen via useState and returns open/close handlers, so the /settings slash command can simply pull the hook and show the modal window.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useSettingsCommand.ts",
              "sha256": "5d783347fa77d9460775ac3a4bfe481e62edf2840b0ac3b7a72fbb830db55c7c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.34
        },
        {
          "id": "aspect-use-state-and-ref",
          "sectionId": "section-ui-hooks",
          "slug": "use-state-and-ref",
          "name": "useStateAndRef keeps the current state in the ref",
          "description": "useStateAndRef returns [state, ref, setter], where the custom setter updates both React state and ref.current on every call (including function updates), which eliminates races when re-reading the just changed state within the same handler.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useStateAndRef.ts",
              "sha256": "71d5c7b00f3b31a9932237251993d3c8d6636c9826559267713b369a8efe1cfc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        },
        {
          "id": "aspect-use-terminal-size",
          "sectionId": "section-ui-hooks",
          "slug": "use-terminal-size",
          "name": "useTerminalSize tracks the size of the terminal",
          "description": "useTerminalSize reads process.stdout.columns/rows (substituting 60x20 by default), subscribes to the resize event, and updates the state on every change so components can adapt the layout in real time.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "terminal"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useTerminalSize.ts",
              "sha256": "0b84c0464586373a98bc59d55fcb17874dfa1ca62b8bb7645c10e73b7cf02b92"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.36
        },
        {
          "id": "aspect-use-theme-command",
          "sectionId": "section-ui-hooks",
          "slug": "use-theme-command",
          "name": "useThemeCommand handles theme selection and NO_COLOR errors",
          "description": "useThemeCommand opens the theme dialog, shows a warning if NO_COLOR is set, calls themeManager.setActiveTheme through applyTheme, and handleThemeSelect combines the user's custom themes and workspace, validates the presence of the selected theme and updates loadedSettings.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "settings"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useThemeCommand.ts",
              "sha256": "9635305b26952b27c650b58454ce6d1b88459f2c4552faf2ea187ff97d026602"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.54
        },
        {
          "id": "aspect-use-timer-hook",
          "sectionId": "section-ui-hooks",
          "slug": "use-timer-hook",
          "name": "useTimer starts a stopwatch with restart control",
          "description": "useTimer holds setInterval in timerRef, resets elapsedTime when resetKey changes or goes from inactive to active, clears the interval in cleanup and prevents leaks so the UI gets an accurate time counter.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useTimer.ts",
              "sha256": "6e0861641da59d2c5e7f535110403c250130c0df957ed7910bf69fb6698b655d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        }
      ]
    },
    {
      "id": "section-ui-hooks-completion",
      "slug": "ui-hooks-completion",
      "title": "Interface Completion hooks",
      "entries": [
        {
          "id": "aspect-history-manager-hook",
          "slug": "history-manager-hook",
          "name": "useHistory manages the UI message array",
          "description": "useHistory generates unique ids based on timestamp, prevents consecutive identical user messages, and provides an add/update/clear/load API for Ink history.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "importance": 0.54,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useHistoryManager.ts",
              "sha256": "911e0814e33c2642cf8be72865deed6774300687bffae39bfbb6127d63294433"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks-completion"
        },
        {
          "id": "aspect-input-history-hook",
          "slug": "input-history-hook",
          "name": "useInputHistory implements input navigation",
          "description": "useInputHistory stores the history index, remembers the original request when first raised, updates the input field, and resets the state after the command is sent.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useInputHistory.ts",
              "sha256": "2c08827dbf18ca933501fd8bb3907817839452b1b0f1cc6e3264fb33e8c8d521"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks-completion"
        },
        {
          "id": "aspect-at-completion-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "at-completion-hook",
          "name": "useAtCompletion indexes @include autocompletion",
          "description": "useAtCompletion runs a reducer of IDLE/INITIALIZING/SEARCHING statuses, initializes a FileSearchFactory with gitignore/geminiignore support and a 30-second cache, runs an asynchronous search with AbortController and 200 ms latency, and generates a Suggestion list for @-substitutions.",
          "tags": [
            "cli",
            "filesystem",
            "ink",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useAtCompletion.ts",
              "sha256": "b0cb05890a7c4a2894cb1c06c63109b2b6337fb1e7994b0bfd6d0c2fa86d8de0"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.62
        },
        {
          "id": "aspect-command-completion-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "command-completion-hook",
          "name": "useCommandCompletion combines slash/@/prompt prompts",
          "description": "The hook determines the autocomplete mode based on the cursor position, binds useAtCompletion, useSlashCompletion and usePromptCompletion, controls SuggestionsDisplay and handleAutocomplete so that commands are inserted with the required spaces and update the visibility of the list.",
          "tags": [
            "cli",
            "ink",
            "slash-commands",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useCommandCompletion.tsx",
              "sha256": "b7a51e30df8fd4835a9ebeb9f249e2251ddca8eb900ed46dc13a3d843acf6440"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.67
        },
        {
          "id": "aspect-prompt-completion-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "prompt-completion-hook",
          "name": "usePromptCompletion builds ghost prompt text",
          "description": "The hook for lines >=5 characters without slash/@ sends trimmed text to Gemini Flash Lite with a debounce of 250 ms, controls the AbortController, exposes the ghostText, and accept() inserts the entire sentence and resets after application.",
          "tags": [
            "cli",
            "ink",
            "streaming",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/usePromptCompletion.ts",
              "sha256": "b9472ef010526f3371a7edfde74e9393b35fb4b529f9646f049bd98023b9e396"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.65
        },
        {
          "id": "aspect-slash-completion-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "slash-completion-hook",
          "name": "useSlashCompletion builds a fuzzy command complier",
          "description": "useSlashCompletion parses the command path, caches AsyncFzf for subcommand levels, calls completion() when arguments are completed, determines perfect match, and updates the insertion range and tooltip list with alt names and hidden commands.",
          "tags": [
            "cli",
            "ink",
            "slash-commands",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useSlashCompletion.ts",
              "sha256": "a88e2fc012c5ad9b93f1783a4afde5c7edac829ad5803f03b64e84f648e4c939"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.68
        },
        {
          "id": "aspect-completion-navigation-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "completion-navigation-hook",
          "name": "useCompletion controls the hint window",
          "description": "useCompletion.ts stores suggestions, the current index and the visibility window: resetCompletionState resets the state, navigateUp/Down cycles the cursor and adjusts visibleStartIndex to MAX_SUGGESTIONS_TO_SHOW, preserving wrap-around and scrolling for reverse search and autocompletion.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useCompletion.ts",
              "sha256": "3888a02f673ef525ec05e2ed6c8b486cea46c4f033f4fe41fdd1bdfc91e5d39f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.63
        },
        {
          "id": "aspect-completion-state-api",
          "sectionId": "section-ui-hooks-completion",
          "slug": "completion-state-api",
          "name": "useCompletion gives setters for external control",
          "description": "useCompletion.ts stores the hints, active index and visibility window in the internal useState, but returns all setters externally along with the showSuggestions, isLoadingSuggestions and isPerfectMatch flags. resetCompletionState, navigateUp and navigateDown are wrapped in useCallback, so handlers can be memoized into Ink components without unnecessary redraws, while maintaining control over MAX_SUGGESTIONS_TO_SHOW.",
          "tags": [
            "cli",
            "ink",
            "ui",
            "ui-hooks",
            "ui-input"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useCompletion.ts",
              "sha256": "3888a02f673ef525ec05e2ed6c8b486cea46c4f033f4fe41fdd1bdfc91e5d39f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-shell-history-hook",
          "sectionId": "section-ui-hooks-completion",
          "slug": "shell-history-hook",
          "name": "useShellHistory stores the history of CLI commands",
          "description": "The hook calculates the history path via Storage.getHistoryFilePath, loads and expands multiline commands with escaped backslashes, supports up to 100 entries, uniqueizes input, and saves the updated list back to disk.",
          "tags": [
            "cli",
            "ink",
            "shell",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useShellHistory.ts",
              "sha256": "72c4d45e6b74b46ba9449513133cc380ae8f250a3b7ca6f8355800f9b6440c6d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.55
        }
      ]
    },
    {
      "id": "section-ui-hooks-integrations",
      "slug": "ui-hooks-integrations",
      "title": "Interface - Trust and update hooks",
      "entries": [
        {
          "id": "aspect-use-extension-updates",
          "slug": "use-extension-updates",
          "name": "Extension update management",
          "description": "useExtensionUpdates holds the state reducer, periodically calls checkForAllExtensionUpdates, defers auto-updates, requires confirmation via interactive consent, and writes notifications to history.",
          "tags": [
            "cli",
            "extensions",
            "ink",
            "ui",
            "updates",
            "ui-hooks"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useExtensionUpdates.ts",
              "sha256": "43f8678338c7b38d2023e18e36e9a60fc7c54f2d9d4b2af017cfd62d3e7a9188"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks-integrations"
        },
        {
          "id": "aspect-extension-updates-state",
          "slug": "extension-updates-state",
          "name": "Extension update status reducer",
          "description": "extensionUpdatesReducer stores a Status Map, counts batchChecksInProgress, combines SCHEDULE_UPDATE requests and marks notified so that the UI understands when to show restarts and completed updates.",
          "tags": [
            "cli",
            "extensions",
            "ink",
            "ui",
            "updates",
            "ui-hooks"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/state/extensions.ts",
              "sha256": "f9d6a369d959cbfe4385b05a50a82ab831a0857f2db1bc5478730658266c88bb"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks-integrations"
        },
        {
          "id": "aspect-workspace-migration-nudge",
          "slug": "workspace-migration-nudge",
          "name": "useWorkspaceMigration shows extension migration",
          "description": "useWorkspaceMigration reads workspace extensions, checks experimental.extensionManagement, adds the folder to workspacesWithMigrationNudge and opens the dialog only once per workspace.",
          "tags": [
            "cli",
            "extensions",
            "ink",
            "ui",
            "workspace",
            "ui-hooks"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useWorkspaceMigration.ts",
              "sha256": "c2c29a4389ad88f71109640dee6f4451ebd53a7e84735e23fcefff00393d5178"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-ui-hooks-integrations"
        },
        {
          "id": "aspect-use-folder-trust-hook",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "use-folder-trust-hook",
          "name": "useFolderTrust synchronizes the trust status of a folder",
          "description": "When mounting, the hook calls isWorkspaceTrusted, opens a dialog if the status is unknown, writes INFO about the untrusted folder, and when selecting a user, updates trustedFolders, marking the need for a restart when the state changes.",
          "tags": [
            "cli",
            "ink",
            "security",
            "trust",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useFolderTrust.ts",
              "sha256": "33cf6806193283ce4b78de1d6f1959932495803df1c23a7aa015c738e5ab81df"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.7
        },
        {
          "id": "aspect-permissions-modify-trust-hook",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "permissions-modify-trust-hook",
          "name": "usePermissionsModifyTrust changes the trust",
          "description": "The hook calculates the original TrustLevel, warns if DO_NOT_TRUST preserves the inherited trust, defers writing to trustedFolders if a restart is necessary, and gives commitTrustLevelChange to be applied after confirmation.",
          "tags": [
            "cli",
            "ink",
            "security",
            "trust",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/usePermissionsModifyTrust.ts",
              "sha256": "ba07797272f9e75dbe15e13c97317ee5b380ede3004e00f06e262c0704cbf683"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.66
        },
        {
          "id": "aspect-privacy-settings-hook",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "privacy-settings-hook",
          "name": "usePrivacySettings requests opt-in Code Assist",
          "description": "usePrivacySettings receives CodeAssistServer, determines the user's tariff, for the Free type retrieves remote dataCollectionOptIn via getCodeAssistGlobalUserSetting, can update the value and stores errors in the state.",
          "tags": [
            "cli",
            "ink",
            "security",
            "settings",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/usePrivacySettings.ts",
              "sha256": "97200d8aeb24993f4222856314f93b2228983b7a088e703073182c7bb965c472"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-git-branch-name-hook",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "git-branch-name-hook",
          "name": "useGitBranchName keeps track of the current branch",
          "description": "useGitBranchName.ts calls spawnAsync git rev-parse for HEAD, when detaching it inserts a short hash and watches .git/logs/HEAD via fs.watch; access errors are suppressed, so the UI updates the branch name when the HEAD changes, but does not crash in uncommitted projects.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useGitBranchName.ts",
              "sha256": "d50c75bb956378ade1211b4fb0196c01eda710bde3259e0e0b703b641b7bb36a"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.55
        },
        {
          "id": "aspect-git-head-watcher",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "git-head-watcher",
          "name": "useGitBranchName watches HEAD via fs.watch",
          "description": "useGitBranchName.ts after the initial fetchBranchName checks for the presence of .git/logs/HEAD and registers fs.watch, reacting to change/rename to re-query the branch or shortened hash. Log access errors are silently ignored, and the cleanup effect closes watcher?.close(), so the UI updates the branch name as commits occur, but does not crash for atypical repositories.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useGitBranchName.ts",
              "sha256": "d50c75bb956378ade1211b4fb0196c01eda710bde3259e0e0b703b641b7bb36a"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-use-ide-trust-listener",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "use-ide-trust-listener",
          "name": "useIdeTrustListener synchronizes IDE and CLI trust",
          "description": "useIdeTrustListener subscribes to IdeClient.addTrustChangeListener/addStatusChangeListener via useSyncExternalStore, stores connectionStatus and restartReason, compares isWorkspaceTrusted(settings.merged) with the previous value and sets needsRestart so that the CLI can prompt a restart when the trust changes.",
          "tags": [
            "cli",
            "ui",
            "ui-hooks",
            "trust",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useIdeTrustListener.ts",
              "sha256": "25f67417eae154c6dc79a0c90c0780d49baf07feb04d0a3bdb30ca4705155e76"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.66
        },
        {
          "id": "aspect-update-event-emitter",
          "sectionId": "section-ui-hooks-integrations",
          "slug": "update-event-emitter",
          "name": "updateEventEmitter propagates auto-update events",
          "description": "updateEventEmitter exports a generic EventEmitter that update handlers (handleAutoUpdate, update nag dialogs) use to notify the UI about download progress, errors, or the need for confirmation.",
          "tags": [
            "cli",
            "ui",
            "updates",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/updateEventEmitter.ts",
              "sha256": "8a738c0d2639aab84e663035f5910bb95dfae9357f1993e63c1b806259c8dad8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.46
        }
      ]
    },
    {
      "id": "section-ui-hooks-observability",
      "slug": "ui-hooks-observability",
      "title": "Interface Diagnostic hooks",
      "entries": [
        {
          "id": "aspect-console-messages-hook",
          "sectionId": "section-ui-hooks-observability",
          "slug": "console-messages-hook",
          "name": "useConsoleMessages buffers console events",
          "description": "useConsoleMessages stores a ConsoleMessageItem queue, batch adds messages every 16ms via startTransition, aggregates repeating events into a counter, and provides clearConsoleMessages to reset state.",
          "tags": [
            "cli",
            "ink",
            "observability",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useConsoleMessages.ts",
              "sha256": "96056d02ba593fbf0079d539075e9676a346b7fd8c382f41884033a640afd59f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.45
        },
        {
          "id": "aspect-flicker-detector-hook",
          "sectionId": "section-ui-hooks-observability",
          "slug": "flicker-detector-hook",
          "name": "useFlickerDetector catches Ink UI overflow",
          "description": "useFlickerDetector measures the height of the root DOMElement, compares it with the height of the terminal, takes into account the constrainHeight from UIState and, if exceeded, writes a recordFlickerFrame and issues an AppEvent.Flicker.",
          "tags": [
            "cli",
            "ink",
            "observability",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useFlickerDetector.ts",
              "sha256": "83c535146425a1e3a1ff690121b49f1c21710b8b2d23dfc586b60c03ab7d68f5"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.38
        },
        {
          "id": "aspect-memory-monitor-hook",
          "sectionId": "section-ui-hooks-observability",
          "slug": "memory-monitor-hook",
          "name": "useMemoryMonitor warns about RSS growth",
          "description": "The hook starts a timer once a minute, checks process.memoryUsage().rss and when the 7 GB threshold is exceeded, adds a MessageType.WARNING warning and stops further checks so as not to duplicate notifications.",
          "tags": [
            "cli",
            "ink",
            "observability",
            "ui",
            "ui-hooks"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useMemoryMonitor.ts",
              "sha256": "5f85a61d9cb0338ca7f0faf432c7dffc1c3674ff7fa5a111937ac1ba4045ab8e"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.4
        }
      ]
    },
    {
      "id": "section-ui-diagnostics",
      "slug": "cli-ui-diagnostics",
      "title": "Interface Diagnostics and statuses",
      "entries": [
        {
          "id": "aspect-detailed-messages-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "detailed-messages-display",
          "name": "Debug console DetailedMessagesDisplay",
          "description": "DetailedMessagesDisplay.tsx visualizes debug/warn/error messages with icons, counts repetitions and limits height via MaxSizedBox.",
          "tags": [
            "ui",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/DetailedMessagesDisplay.tsx",
              "sha256": "6ef36302b7850c65022781dde2046cefaed72422ce6879f84e122f7b78090a03"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.62
        },
        {
          "id": "aspect-console-summary",
          "sectionId": "section-ui-diagnostics",
          "slug": "console-summary",
          "name": "ConsoleSummaryDisplay highlights errors",
          "description": "ConsoleSummaryDisplay with errorCount>0 draws a line with  in the theme.status.error color and the hint \"ctrl+o for details\", hiding the block when there are no errors, so that users immediately see that they need to open the detailed console.",
          "tags": [
            "ui",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ConsoleSummaryDisplay.tsx",
              "sha256": "71cd891afe2fc1242cb1dc74067cc45c582e8df9f3a070fbba2f78ec760c7b5f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.46
        },
        {
          "id": "aspect-debug-console",
          "sectionId": "section-ui-diagnostics",
          "slug": "debug-console-display",
          "name": "Debug Console issues detailed messages",
          "description": "DetailedMessagesDisplay builds a Debug Console panel: wraps the ConsoleMessageItem list in a MaxSizedBox with a border, selects icons i/// by type, displays a repeat counter and a \"ctrl+o to close\" hint so that the logs remain readable.",
          "tags": [
            "ui",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/DetailedMessagesDisplay.tsx",
              "sha256": "6ef36302b7850c65022781dde2046cefaed72422ce6879f84e122f7b78090a03"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-auto-accept-indicator",
          "sectionId": "section-ui-diagnostics",
          "slug": "auto-accept-indicator",
          "name": "AutoAcceptIndicator shows policy modes",
          "description": "AutoAcceptIndicator highlights ApprovalMode.AUTO_EDIT and YOLO, showing toggle hotkeys and hiding in DEFAULT.",
          "tags": [
            "ui",
            "policy",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/AutoAcceptIndicator.tsx",
              "sha256": "f35829e809ea5519172e3e57c9c7d6c307ccc2951e5d2c3d1262b3a02763cbb2"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.64
        },
        {
          "id": "aspect-flicker-detector",
          "sectionId": "section-ui-diagnostics",
          "slug": "flicker-detector",
          "name": "The useFlickerDetector hook catches UI flickering",
          "description": "useFlickerDetector measures the rootUiRef via measureElement and, if the height exceeds the terminal with constrainHeight enabled, records a frame via recordFlickerFrame(config) and publishes an AppEvent.Flicker, helping the team track rendering bugs.",
          "tags": [
            "ui",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useFlickerDetector.ts",
              "sha256": "83c535146425a1e3a1ff690121b49f1c21710b8b2d23dfc586b60c03ab7d68f5"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-notifications",
          "sectionId": "section-ui-diagnostics",
          "slug": "notifications",
          "name": "Notifications aggregates warnings",
          "description": "Notifications.tsx outputs startupWarnings, update and initError messages, and a screen reader tooltip.",
          "tags": [
            "ui",
            "cli",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/Notifications.tsx",
              "sha256": "15f7adfc72b231c83024239d6a7878dd0999549863b6013043f3b6169239238d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.63
        },
        {
          "id": "aspect-context-usage-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "context-usage-display",
          "name": "ContextUsageDisplay shows the rest of the context",
          "description": "ContextUsageDisplay calculates the percentage of the remaining context limit via tokenLimit(model), shortens the caption to \"%\" when the terminal width is <100, and displays the value in theme.text.secondary color.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ContextUsageDisplay.tsx",
              "sha256": "f5e3d2da738929564d51bc99d2163283e7f909242be7e0a5217a55c8cab0e260"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.43
        },
        {
          "id": "aspect-memory-usage-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "memory-usage-display",
          "name": "MemoryUsageDisplay monitors RSS",
          "description": "MemoryUsageDisplay reads process.memoryUsage().rss every 2 seconds, formats the value via formatMemoryUsage and highlights theme.status.error when >=2GB in use.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/MemoryUsageDisplay.tsx",
              "sha256": "1198ebaa2aee2b4ec2652384d4d27bbf75a963794843f9c3bd073e4fc00e6b58"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.47
        },
        {
          "id": "aspect-model-stats-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "model-stats-display",
          "name": "ModelStatsDisplay details model metrics",
          "description": "ModelStatsDisplay via useSessionStats filters models with requests, calculates errors, average latency (calculateAverageLatency) and cache hit rate, shows tokens (prompt/cached/tool/thought) with color indication.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ModelStatsDisplay.tsx",
              "sha256": "97dfdb20c8a1df379e3b26d08c32901e283ae643586e330a80b7285c00910691"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.52
        },
        {
          "id": "aspect-stats-display-component",
          "sectionId": "section-ui-diagnostics",
          "slug": "stats-display-component",
          "name": "StatsDisplay summarizes session statistics",
          "description": "StatsDisplay applies computeSessionStats, colors success/agreements indicators via getStatusColor, displays wall time/agent active, splits API vs tool time and adds a ModelUsage table with cache savings.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/StatsDisplay.tsx",
              "sha256": "31df7eef2a97446f0a2dbad80450339fd890fd49894a84f452838ac7b78d709c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.56
        },
        {
          "id": "aspect-tool-stats-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "tool-stats-display",
          "name": "ToolStatsDisplay analyzes tool calls",
          "description": "ToolStatsDisplay iterates through metrics.tools.byName, showing call counts, successes and average duration, as well as a summary of user decisions (accept/reject/modify) and overall agreement rate.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ToolStatsDisplay.tsx",
              "sha256": "b25e07737746eccae14ee893a101a392e6ac62ddb510c1e28bb2dda9626a01ac"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-loading-indicator",
          "sectionId": "section-ui-diagnostics",
          "slug": "loading-indicator",
          "name": "LoadingIndicator visualizes the model's wait",
          "description": "LoadingIndicator listens to StreamingState, shows GeminiRespondingSpinner, outputs subject from thought or loading phrase and esc/timer hint, shifting the right block under output on narrow terminals.",
          "tags": [
            "ui",
            "ink",
            "streaming",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/LoadingIndicator.tsx",
              "sha256": "8fbd4d7ff9ca9747859ae7b27e57a57dc60dacb03391d79a152debcacb6c887b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.51
        },
        {
          "id": "aspect-gemini-responding-spinner",
          "sectionId": "section-ui-diagnostics",
          "slug": "gemini-responding-spinner",
          "name": "GeminiRespondingSpinner adapted for screen reader",
          "description": "GeminiRespondingSpinner uses useStreamingContext and useIsScreenReaderEnabled: when Responding renders CliSpinner with altText, otherwise returns nonRespondingDisplay or SCREEN_READER_LOADING text.",
          "tags": [
            "ui",
            "ink",
            "streaming",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/GeminiRespondingSpinner.tsx",
              "sha256": "6cfdb979625f9fedca2d41048d8460c173cac4edb0e8a63e4fbb2307d66c8df1"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.44
        },
        {
          "id": "aspect-context-summary-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "context-summary-display",
          "name": "ContextSummaryDisplay summarizes the active context",
          "description": "ContextSummaryDisplay combines geminiMdFileCount, context file names, MCP servers and blocked sources, takes into account open IDE files and adapts the output for a narrow terminal with Ctrl+T/Ctrl+G prompts.",
          "tags": [
            "ui",
            "ink",
            "workspace",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ContextSummaryDisplay.tsx",
              "sha256": "60cd43f608c812f5853b798d1bd1d9d67f3653154afdd6614e0b4e9b1fea843b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.58
        },
        {
          "id": "aspect-about-box",
          "sectionId": "section-ui-diagnostics",
          "slug": "about-box",
          "name": "AboutBox shows information about the environment",
          "description": "AboutBox.tsx renders an Ink Box with a theme.border.default border, outputs CLI Version, Model, Sandbox, OS, Auth Method columns and optionally GIT_COMMIT_INFO, GCP Project and IDE Client; the component colors the headers in theme.text.link and generates a HistoryItemAbout to inspect the environment.",
          "tags": [
            "ui",
            "ink",
            "observability",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/AboutBox.tsx",
              "sha256": "53b6024c538441068ae2867ab55cc46bca7e33bc88d14c4d4d2eca370ddfe92b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.37
        },
        {
          "id": "aspect-config-init-display",
          "sectionId": "section-ui-diagnostics",
          "slug": "config-init-display",
          "name": "ConfigInitDisplay shows MCP progress",
          "description": "ConfigInitDisplay subscribes to appEvents \"mcp-client-update\" while the client map is empty showing `Initializing...`, otherwise it considers MCPServerStatus.CONNECTED and prints `Connecting to MCP servers... (connected/total)`, accompanying GeminiSpinner; this way the user can see the progress of MCP initialization.",
          "tags": [
            "ui",
            "ink",
            "mcp",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ConfigInitDisplay.tsx",
              "sha256": "db2dcda92bc48a35f329f015f5f100e3a1a27b3b57ed766dda623c7f6d8ae90e"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.5
        },
        {
          "id": "aspect-debug-profiler-component",
          "sectionId": "section-ui-diagnostics",
          "slug": "debug-profiler-component",
          "name": "DebugProfiler captures idle and flicker frames",
          "description": "DebugProfiler patches process.stdout.write, recording frame times in FixedDeque, counts idle/total/flicker frames and after >=5 idle per second sends AppEvent.OpenDebugConsole and AppEvent.LogError; it also listens to stdin/resize as actions and registers AppEvent.Flicker via profiler.registerFlickerHandler, helping to catch infinite rerenders.",
          "tags": [
            "ui",
            "observability",
            "ink",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/DebugProfiler.tsx",
              "sha256": "36c76e1f1fe04b35800ecf810ff7bac72ce2ae48f350029dee644fa4ebab87fe"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.6
        },
        {
          "id": "aspect-extensions-list-view",
          "sectionId": "section-ui-diagnostics",
          "slug": "extensions-list-view",
          "name": "ExtensionsList highlights the state of extensions",
          "description": "ExtensionsList uses useUIState() to access commandContext.services.config!.getExtensions() and extensionsUpdateState; for each extension, displays the version, activity (active/disabled) and color status by ExtensionUpdateState (cyan - checking, yellow - update, green - up to date, red - error), providing an overview of installed packages.",
          "tags": [
            "ui",
            "ink",
            "extensions",
            "updates",
            "ui-diagnostics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/views/ExtensionsList.tsx",
              "sha256": "2af8ab4de7f37e83eb22904a3ff68c552aed007c2c0f47c519eee7ea481a907b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.46
        }
      ]
    },
    {
      "id": "section-core",
      "slug": "core-execution",
      "title": "Execution CLI Core",
      "entries": [
        {
          "id": "aspect-gemini-client",
          "slug": "gemini-client",
          "name": "GeminiClient and session",
          "description": "Critical: GeminiClient keeps history, configures tools from ToolRegistry, manages tokenLimit, runs LoopDetectionService, logs compression and fallback, which makes it the central control thread.",
          "tags": [
            "core",
            "execution",
            "streaming"
          ],
          "importance": 0.85,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/client.ts",
              "sha256": "10e018f9febed3ceda8f6535683e2e4859ab63458ab9515a59a9acf411452207"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-gemini-chat",
          "slug": "gemini-chat",
          "name": "Streaming GeminiChat",
          "description": "GeminiChat duplicates js-genai chat, validates candidates, retracts for InvalidStreamError, records history via ChatRecordingService and uses handleFallback for errors.",
          "tags": [
            "core",
            "streaming"
          ],
          "importance": 0.8,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/geminiChat.ts",
              "sha256": "ecca2b2d3bab715fdad416fb1b68ef32a4b1b493cb90273eb61cf7c23b209ee8"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-core-tool-scheduler",
          "slug": "core-tool-scheduler",
          "name": "CoreToolScheduler orchestrates tool calls",
          "description": "CoreToolScheduler checks tool registration, builds invocation, manages validating->awaiting_approval->executing statuses, logs ToolCallEvent and can trim long ShellTool output and save it in temp.",
          "tags": [
            "core",
            "tools",
            "execution"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/coreToolScheduler.ts",
              "sha256": "dbb20d22f6d2c0be6a7ffabb555237f45b82d1dae63be54830fdcb870d56b012"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-turn-runner",
          "slug": "turn-runner",
          "name": "Turn manages streaming and tool call events",
          "description": "Turn.run reads the Gemini stream, routes thoughts, text and FunctionCall to pendingToolCalls, collects quotes, handles Retry/InvalidStream and reports errors via reportError with history context.",
          "tags": [
            "core",
            "execution",
            "streaming"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/turn.ts",
              "sha256": "eacd8024a14131945e21babfaf5fbe2ee6f224af2f2072292a2af41865f0e324"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-cli-error-handling",
          "slug": "cli-error-handling",
          "name": "errors.ts unifies CLI error output",
          "description": "handleError, handleToolError and handleCancellationError format errors via JsonFormatter in JSON mode, set an exitCode, separate fatal/non-fatal tool errors and print messages in text mode.",
          "tags": [
            "cli",
            "execution",
            "core"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/errors.ts",
              "sha256": "39cac27e0d8b6581233e89a13eff61351e1f7bd11deb413b3ffee7b3050b2188"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-token-limit-table",
          "slug": "token-limit-table",
          "name": "tokenLimit sets the limits of Gemini models",
          "description": "tokenLimit.ts stores DEFAULT_TOKEN_LIMIT and overrides limits for gemini-1.5 and 2.5 models, returning a safe value even for unknown identifiers.",
          "tags": [
            "core",
            "execution"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/tokenLimits.ts",
              "sha256": "990d2ae2084711b87409048d9a6092667cccb40d697d612bc4c3b703e93ee0c5"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core"
        },
        {
          "id": "aspect-base-llm-client",
          "sectionId": "section-core",
          "slug": "base-llm-client",
          "name": "BaseLlmClient retracing JSON and embeddings",
          "description": "BaseLlmClient.generateJson collects GenerateContentConfig, cleans ```json```-wrappers, retraits up to 5 times via retryWithBackoff and logs malformed responses in telemetry. generateEmbedding validates the response dimension and throws errors, which is critical for utility LLM queries.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/baseLlmClient.ts",
              "sha256": "27dc7057071110aabdf686a0e401b4fb3fe8f3b0d0ca42c766ecb3dbc7131e86"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-gemini-request-alias",
          "sectionId": "section-core",
          "slug": "gemini-request-alias",
          "name": "GeminiCodeRequest and stringify PartListUnion",
          "description": "core/geminiRequest.ts defines the GeminiCodeRequest type as an alias PartListUnion and provides partListUnionToString, which builds a detailed text representation (including verbose markers) via partToString. This provides a single helper for logging and debugging.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/geminiRequest.ts",
              "sha256": "3f6269450fa36c031fd1b98df6b9fa23022f8ee48c25a0315dc30bc265c5f96f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.35
        },
        {
          "id": "aspect-core-logger",
          "sectionId": "section-core",
          "slug": "core-logger",
          "name": "Logger writes JSON log and session checkpoints",
          "description": "core/logger.ts stores logs.json in the project temp dir via Storage, restores messageId per session, backups broken files, serializes checkpoint-***.json with encodeTagName and supports backwards compatibility; also displays a list of recent user messages for context.",
          "tags": [
            "core",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/logger.ts",
              "sha256": "f4c7a27a384db53f6ecd3e93c1531eb8277ce040dafe2571a293ff76d25a9b09"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-fallback-types",
          "sectionId": "section-core",
          "slug": "fallback-types",
          "name": "FallbackIntent describes UI reactions",
          "description": "fallback/types.ts introduces the FallbackIntent (retry/stop/auth) and the FallbackModelHandler contract, which the CLI passes to the UI. This ties the policy fallback to the interface and explains why the UI must decide between immediate retry and authorization change.",
          "tags": [
            "fallback",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/fallback/types.ts",
              "sha256": "1ac3e822443475005acbc2d00589e98e474bef3630d83564b1d2b0710e1e1787"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        },
        {
          "id": "aspect-core-index-export",
          "sectionId": "section-core",
          "slug": "core-index-export",
          "name": "packages/core/src/index aggregates public API",
          "description": "index.ts re-exports config, core, utils, services, tools, telemetry and MCP types. Thanks to this, @google/gemini-cli-core provides a single point import for the CLI (e.g. sessionId, Logger, ToolRegistry).",
          "tags": [
            "core",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/index.ts",
              "sha256": "9e5cb84adcc708ccb615d8b4ce51b9a3b3164061bbb70715b11d8d32e6047f85"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-message-inspectors",
          "sectionId": "section-core",
          "slug": "message-inspectors",
          "name": "isFunctionResponse/isFunctionCall parse Content",
          "description": "utils/messageInspectors.ts provides helpers for detecting functionResponse and functionCall parts. They are used by nextSpeakerChecker and ToolScheduler to understand who is moving.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/messageInspectors.ts",
              "sha256": "945a42d931006001d5ae50da8c0a58cf64636a5a4feb858bce5b6bf8cef893cb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.35
        },
        {
          "id": "aspect-next-speaker-checker",
          "sectionId": "section-core",
          "slug": "next-speaker-checker",
          "name": "checkNextSpeaker decides who answers next",
          "description": "utils/nextSpeakerChecker.ts analyzes the curated history: if the last entry is functionResponse, it immediately selects model, otherwise it calls BaseLlmClient.generateJson with CHECK_PROMPT and the reasoning/next_speaker schema. This prevents the dialog from freezing.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/nextSpeakerChecker.ts",
              "sha256": "ffc25a5050099ad68d260087a1628143d70de3bab49fd1c261b3db27734f2afc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.57
        },
        {
          "id": "aspect-core-package-exports",
          "sectionId": "section-core",
          "slug": "core-package-exports",
          "name": "packages/core/index.ts exports key APIs for consumers",
          "description": "The core index re-exports src/index, Storage, model constants, serializeTerminalToObject, truncate and detectIdeFromEnv settings, telemetry and ClearcutLogger, providing external consumers with a compact API without direct access to the src structure.",
          "tags": [
            "core",
            "integrations"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/index.ts",
              "sha256": "2a4d7aaf209eba916ac227da8a7b5656026c03f2ab08d57085a0feec79135e16"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        }
      ]
    },
    {
      "id": "section-core-noninteractive",
      "slug": "core-noninteractive",
      "title": "Execution Non-interactive modes",
      "entries": [
        {
          "id": "aspect-noninteractive-cli",
          "slug": "noninteractive-cli",
          "name": "NonInteractive CLI loop",
          "description": "runNonInteractive patches the console, supports stream-json via JsonStreamFormatter (INIT/MESSAGE/TOOL_USE), parses slash and @-commands, executes tool calls, processes Loop/MaxTurns and EPIPE and upon completion writes stdout or JSON, saving turn telemetry.",
          "tags": [
            "cli",
            "noninteractive",
            "execution"
          ],
          "importance": 0.77,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/nonInteractiveCli.ts",
              "sha256": "5bc1e8661edeccff51927a4a083b594601152b5a145c1fc83c408624e791e468"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-core-noninteractive"
        },
        {
          "id": "aspect-noninteractive-tool-executor",
          "slug": "noninteractive-tool-executor",
          "name": "nonInteractiveToolExecutor uses CoreToolScheduler",
          "description": "executeToolCall creates a fresh CoreToolScheduler without an IDE and returns the response of the first completed call, which allows the non-interactive mode to reuse the common queuing and acknowledgment logic.",
          "tags": [
            "core",
            "noninteractive",
            "tools"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/nonInteractiveToolExecutor.ts",
              "sha256": "928abe631c6ba46a870b5a3080ff092c493b86a6116868f6e2f611dc17b2026c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core-noninteractive"
        }
      ]
    },
    {
      "id": "section-memory",
      "slug": "memory",
      "title": "Performance - Session memory",
      "entries": [
        {
          "id": "aspect-hierarchical-memory-loader",
          "slug": "hierarchical-memory-loader",
          "name": "loadHierarchicalGeminiMemory delegates memory loading",
          "description": "loadHierarchicalGeminiMemory brings cwd and home path to realpath, skips workspace search if we are in home, collects includeDirectories, extension files, filters and import format and causes server memory loading.",
          "tags": [
            "memory",
            "config",
            "core"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/config.ts",
              "sha256": "2e44709dc21afd8f73a47842da79d4ed40d5788fd650455af119dbbdffb288b2"
            }
          ],
          "sectionId": "section-memory",
          "lastUpdated": "2025-10-20"
        },
        {
          "id": "aspect-server-memory-loader",
          "slug": "server-memory-loader",
          "name": "loadServerHierarchicalMemory collects GEMINI.md",
          "description": "loadServerHierarchicalMemory combines includeDirectories, the current directory and home ~/.gemini, adds extension files, takes into account folderTrust and, through bfsFileSearch and filters, returns the combined content, the number of files and their paths.",
          "tags": [
            "memory",
            "core",
            "filesystem"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "sectionId": "section-memory",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-memory-context-concatenation",
          "slug": "memory-context-concatenation",
          "name": "readGeminiMdFiles concatenates context with markers",
          "description": "readGeminiMdFiles reads files in batches of 20, runs processImports and logs errors, and concatenateInstructions wraps the contents in --- Context from: <relative> --- blocks and skips empty files.",
          "tags": [
            "memory",
            "filesystem",
            "core"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "sectionId": "section-memory",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-memory-validate-import-path",
          "slug": "memory-validate-import-path",
          "name": "validateImportPath blocks exit from project",
          "description": "validateImportPath normalizes the @-path, checks it through isSubpath against allowed directories and cuts off attempts to go up, so memory imports do not read extraneous files.",
          "tags": [
            "memory",
            "security",
            "filesystem"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "sectionId": "section-memory",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-memory-import-depth-guard",
          "sectionId": "section-memory",
          "slug": "memory-import-depth-guard",
          "name": "processImports limits import depth",
          "description": "processImports monitors processedFiles and currentDepth in ImportState, when maxDepth=5 is reached, it returns the original content without child imports and thereby suppresses @-inclusion cycles.",
          "tags": [
            "memory",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.65
        },
        {
          "id": "aspect-memory-import-flat-format",
          "sectionId": "section-memory",
          "slug": "memory-import-flat-format",
          "name": "Flat import format collects files in a queue",
          "description": "With importFormat=\"flat\" the processor uses a flatFiles queue and a set of processedFiles, reads each @-link encountered once and concatenates the output into blocks of the form \"--- File: <path> ---\" for a Claude-compatible context.",
          "tags": [
            "memory",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-memory-import-code-skip",
          "sectionId": "section-memory",
          "slug": "memory-import-code-skip",
          "name": "findCodeRegions protects @ inside code",
          "description": "processImports uses marked.lexer to build code/codespans and skips @-directives that fall within these intervals, so Markdown examples and code snippets do not turn into real imports.",
          "tags": [
            "memory",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-memory-import-trace-comments",
          "sectionId": "section-memory",
          "slug": "memory-import-trace-comments",
          "name": "Import tags sources with HTML comments",
          "description": "In tree mode, processImports wraps each included file in pairs of <!-- Imported from ... --> and <!-- End of import ... --> comments, and outputs errors as HTML comments to make debugging context reproducible.",
          "tags": [
            "memory",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.45
        },
        {
          "id": "aspect-memory-discovery-batched-scan",
          "sectionId": "section-memory",
          "slug": "memory-discovery-batched-scan",
          "name": "getGeminiMdFilePathsInternal traverses directories in batches",
          "description": "The GEMINI.md search splits directories into batches of 10, runs Promise.allSettled, and continues even if individual paths fail, reducing EMFILE risk and not interrupting memory assembly.",
          "tags": [
            "memory",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-memory-discovery-path-dedup",
          "sectionId": "section-memory",
          "slug": "memory-discovery-path-dedup",
          "name": "Memory collector deduplicates paths and extensions",
          "description": "After batches, getGeminiMdFilePathsInternal combines the results, adds extensionContextFilePaths and runs through Set, returning a unique list of files even with repeated hits from includeDirectories.",
          "tags": [
            "memory",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.4
        },
        {
          "id": "aspect-memory-tool-modify-context",
          "sectionId": "section-memory",
          "slug": "memory-tool-modify-context",
          "name": "MemoryTool allows you to edit a recording before saving",
          "description": "MemoryTool implements ModifiableDeclarativeTool: getModifyContext gives functions to read the current and proposed content and creates updatedParams with modified_by_user, so the user can adjust the memory in the editor and return the modified text.",
          "tags": [
            "memory",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/memoryTool.ts",
              "sha256": "658629f398bd5f3faa5ed682f0dd759ca73e60687907409549788d5e3c82ab13"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        },
        {
          "id": "aspect-memory-multi-filename-support",
          "sectionId": "section-memory",
          "slug": "memory-multi-filename-support",
          "name": "MemoryTool supports multiple GEMINI.md",
          "description": "setGeminiMdFilename takes a string or array, normalizes them and stores them in currentGeminiMdFilename, and getAllGeminiMdFilenames returns a complete list - so the configuration can include several context files.",
          "tags": [
            "memory",
            "config"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/memoryTool.ts",
              "sha256": "658629f398bd5f3faa5ed682f0dd759ca73e60687907409549788d5e3c82ab13"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.35
        },
        {
          "id": "aspect-memory-discovery-project-root",
          "sectionId": "section-memory",
          "slug": "memory-discovery-project-root",
          "name": "findProjectRoot limits tree climbing",
          "description": "findProjectRoot goes up to .git, suppresses ENOENT in tests and returns null at the root so that discovery doesn't go beyond the project and clog the logs.",
          "tags": [
            "memory",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.45
        },
        {
          "id": "aspect-memory-discovery-deterministic-order",
          "sectionId": "section-memory",
          "slug": "memory-discovery-deterministic-order",
          "name": "Memory search sorts descending paths",
          "description": "After bfsFileSearch, getGeminiMdFilePathsInternalForEachDir sorts the downwardPaths and adds them to the Set, ensuring deterministic context ordering regardless of traversal order.",
          "tags": [
            "memory",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.4
        },
        {
          "id": "aspect-memory-read-null-preservation",
          "sectionId": "section-memory",
          "slug": "memory-read-null-preservation",
          "name": "readGeminiMdFiles saves entries with inaccessible files",
          "description": "On read error, readGeminiMdFiles returns {filePath, content: null}, logs the warning, and gives concatenateInstructions the ability to skip the block, preserving a list of paths for the UI.",
          "tags": [
            "memory",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.35
        },
        {
          "id": "aspect-memory-discovery",
          "slug": "memory-discovery",
          "name": "MemoryDiscovery is looking for GEMINI.md",
          "description": "memoryDiscovery.ts scans includeDirectories, cwd and global ~/.gemini, finds the project root by .git, uses bfsFileSearch with a maxDirs limit, filters through FileDiscoveryService.shouldIgnore and respects extensionContextFilePaths, providing controlled discovery of GEMINI.md files.",
          "tags": [
            "memory",
            "filesystem",
            "core"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryDiscovery.ts",
              "sha256": "2d53632cacf06f8b39f362db5ffa0420029ccff2b2ca46571fc08b0baf4df819"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-memory"
        },
        {
          "id": "aspect-memory-import-processor",
          "slug": "memory-import-processor",
          "name": "processImports expands @-links",
          "description": "processImports parses @-references without regex via findImports, skipping marked code blocks, monitoring depth and processedFiles, checking isSubpath against projectRoot and building a MemoryFile tree, so memory imports are unrolled safely and without loops.",
          "tags": [
            "memory",
            "filesystem"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/memoryImportProcessor.ts",
              "sha256": "c77a27ace35ea0933b7eec2ad250b575a93c340129be351650b519d9ca6452e5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-memory"
        },
        {
          "id": "aspect-session-file-catalog",
          "slug": "session-file-catalog",
          "name": "sessionUtils.ts filters and returns sessions",
          "description": "getAllSessionFiles reads chats/*.json, validates the ConversationRecord, marks corrupted files and calculates the current session, and getSessionFiles filters out only valid records.",
          "tags": [
            "cli",
            "memory"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sessionUtils.ts",
              "sha256": "540876771aa1ce9ba3256a19f40fa6116ce4191b6536c0375d693d87d2668d31"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-memory"
        },
        {
          "id": "aspect-chat-recording-service",
          "slug": "chat-recording-service",
          "name": "Recording sessions in ChatRecordingService",
          "description": "ChatRecordingService creates JSON in storage/chats/, writes sessionId/projectHash, stores messages with toolCalls, tokens and thoughts, can resume sessions and update lastUpdated with each event.",
          "tags": [
            "core",
            "memory"
          ],
          "importance": 0.73,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/chatRecordingService.ts",
              "sha256": "19e8e8a1e3c31b5ace0e48c03e0daac4fb11e2ee86ae137a2d0e547974ff6eb3"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-memory"
        },
        {
          "id": "aspect-session-id",
          "sectionId": "section-memory",
          "slug": "session-id",
          "name": "sessionId is fixed at the start of the process",
          "description": "utils/session.ts generates sessionId via randomUUID once per core import. This identifier is used by the logger and telemetry to link events.",
          "tags": [
            "core",
            "memory"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/session.ts",
              "sha256": "fc7d5fc8dd9af85e10c255e4387cb17c8a62dee00782a9cfb0c4dc7e380caee4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.32
        }
      ]
    },
    {
      "id": "section-agents",
      "slug": "agents",
      "title": "Execution - Subagents",
      "entries": [
        {
          "id": "aspect-agent-definition-contract",
          "slug": "agent-definition",
          "name": "Contract AgentDefinition",
          "description": "types.ts describes the AgentDefinition: sets the required fields promptConfig (systemPrompt, initialMessages and templated query), modelConfig with thinkingBudget, toolConfig with mixed references to declarative tools and FunctionDeclaration, inputConfig with types and required flags and outputConfig with zod-schema and processOutput, so all subagents declare constraints and structure in advance.",
          "tags": [
            "agents",
            "core"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/types.ts",
              "sha256": "607fb494087e5a374de3958dc4d2ff4d83d4d0ac0a3fc96960bea1645426d33f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-executor-loop",
          "slug": "agent-executor",
          "name": "AgentExecutor execution loop",
          "description": "AgentExecutor.create clones ToolRegistry, validates tools, inherits parent promptId, and run builds GeminiChat, runs the model to complete_task, broadcasting events through promptIdContext, executeToolCall and logAgentStart/Finish, which makes the agent cycle manageable and telemetered.",
          "tags": [
            "agents",
            "core",
            "execution"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-subagent-invocation",
          "slug": "subagent-invocation",
          "name": "SubagentInvocation bridges ToolResult",
          "description": "SubagentInvocation inherits BaseToolInvocation: it streams status in execute before starting, throws THOUGHT_CHUNK into updateOutput, calls AgentExecutor.create/run and returns ToolResult with llmContent/returnDisplay or ToolErrorType.EXECUTION_FAILED, so the subagent fits correctly into the tool pipeline.",
          "tags": [
            "agents",
            "tools",
            "execution"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/invocation.ts",
              "sha256": "6cdbbc9ee73d72c9ea850b4458599bec85eebff2aee701f2208ed042abd2c07c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-subagent-tool-wrapper",
          "slug": "subagent-tool-wrapper",
          "name": "SubagentToolWrapper registers a subagent as a tool",
          "description": "SubagentToolWrapper builds a Kind.Think-level DeclarativeTool, generates a JSON schema via convertInputConfigToJsonSchema, and in createInvocation expands SubagentInvocation, allowing subagents to be registered as regular tools with streaming output.",
          "tags": [
            "agents",
            "tools"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/subagent-tool-wrapper.ts",
              "sha256": "31e3f1fe99a20f0811c8bbe78bde2673590ff3e90880f5f1dfdf345c8c0e9395"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-input-schema",
          "slug": "agent-input-schema",
          "name": "JSON Schema for subagent parameters",
          "description": "convertInputConfigToJsonSchema traverses InputConfig.inputs, supports scalars and arrays, collects required, and throws an explicit error for unsupported types, ensuring that subagent arguments are described in a FunctionDeclaration-compatible format.",
          "tags": [
            "agents",
            "config"
          ],
          "importance": 0.56,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/schema-utils.ts",
              "sha256": "fabc1f292109d2831159097601257e8dbbbd8e50f6afcffffb11a105ae7d9771"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-template-string",
          "slug": "agent-template-string",
          "name": "templateString validates placeholders",
          "description": "templateString checks that all ${...} placeholders exist in the inputs, generates a detailed message about missing keys, and only then substitutes the values, preventing silent errors in promptConfig.",
          "tags": [
            "agents",
            "config"
          ],
          "importance": 0.45,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/utils.ts",
              "sha256": "c05eb80c1c39fc36e97bc671bade5d3c3346fd6b8445cfb7997d5116357978f0"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-registry",
          "slug": "agent-registry",
          "name": "Register of subagents",
          "description": "AgentRegistry loads built-in agents (CodebaseInvestigator), logs reconnection in debug, stores definitions in Map and serves them by name.",
          "tags": [
            "integrations",
            "agents",
            "core"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/registry.ts",
              "sha256": "a595277a73efdf71a3b0203f59dfa055ac54d3ff4efa0d4e90bd471e0a0fbe48"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-codebase-investigator",
          "slug": "codebase-investigator",
          "name": "Codebase Investigator Agent",
          "description": "codebase-investigator.ts describes a subagent with a JSON schema report, a limited set of read-only tools (ls, read-file, glob, grep), a DEFAULT_GEMINI_MODEL model and a 5 min/15 turn timeout.",
          "tags": [
            "integrations",
            "agents",
            "tools"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/codebase-investigator.ts",
              "sha256": "ca0001a18bed0cd2720bb128d5ca78217ce91dc1212f7b70a71df6a3fe9a63cd"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-thought-streaming",
          "slug": "agent-thought-streaming",
          "name": "Streaming agent's thoughts",
          "description": "callModel launches GeminiChat.sendMessageStream, reads StreamEventType.CHUNK and through parseThought extracts the model's thoughts: emitActivity broadcasts them as THOUGHT_CHUNK events, simultaneously accumulating function calls and text without thought, so the UI receives both reasoning and agent text in real time.",
          "tags": [
            "agents",
            "streaming",
            "observability"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-tool-call-execution",
          "slug": "agent-tool-call-execution",
          "name": "Making subagent tool calls",
          "description": "processFunctionCalls turns FunctionCall into ToolCallRequestInfo with promptId, runs executeToolCall in Promise.all and forwards SubagentActivityEvent TOOL_CALL_START/END or ERROR; for unauthorized names, it synthesizes functionResponse with an error and adds a final warning if all calls fail.",
          "tags": [
            "agents",
            "tools",
            "execution"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-complete-task-schema",
          "slug": "agent-complete-task-schema",
          "name": "Dynamic schema complete_task",
          "description": "prepareToolsList collects a FunctionDeclaration for all allowed tools and always adds a complete_task: if present, outputConfig converts the zod schema to JSON Schema via zodToJsonSchema, marks the required argument and description, thereby causing the model to return a structured final report.",
          "tags": [
            "agents",
            "config",
            "tools"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-noninteractive-allowlist",
          "slug": "agent-noninteractive-allowlist",
          "name": "Allowlist of tools for subagents",
          "description": "AgentExecutor.validateTools validates the allocated ToolRegistry and allows only read-only tools (ls, read-file, read-many-files, glob, grep, ripGrep, memory, web_search); when any other name is detected, it throws an error with an explanation, blocking non-status tools in non-interactive subagents.",
          "tags": [
            "agents",
            "tools",
            "security"
          ],
          "importance": 0.76,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-output-validation",
          "slug": "agent-output-validation",
          "name": "Validation of the result of complete_task",
          "description": "processFunctionCalls resolves complete_task only once per turn: checks for the presence of an argument named outputConfig.outputName, validates it via schema.safeParse and runs it through processOutput, otherwise cancels completion and returns functionResponse with an error so that the agent does not exit with an inconsistent result.",
          "tags": [
            "agents",
            "execution",
            "config"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-run-limits",
          "slug": "agent-run-limits",
          "name": "Subagent time and move limits",
          "description": "checkTermination monitors runConfig: terminates the loop when max_turns or max_time_minutes (in minutes from start) is exceeded and returns the appropriate AgentTerminateMode, ensuring that the subagent does not go into an infinite loop.",
          "tags": [
            "agents",
            "execution"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-system-prompt-rules",
          "slug": "agent-system-prompt-rules",
          "name": "Assembling the system industrial subagent",
          "description": "buildSystemPrompt templates systemPrompt by input, complements it with Environment Context from getDirectoryContextString (working directory structure) and attaches rules about absolute paths and the mandatory call to complete_task in a separate step so that the model respects non-interactive restrictions.",
          "tags": [
            "agents",
            "config",
            "workspace"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            },
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/environmentContext.ts",
              "sha256": "dd948b217b99add0ff09878f0d5c180340b65ca0c897aee38d57d6ec82db119c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-agent-activity-feed",
          "slug": "agent-activity-feed",
          "name": "SubagentActivityEvent activity channel",
          "description": "emitActivity wraps subagent events in SubagentActivityEvent with the isSubagentActivityEvent flag and types TOOL_CALL_START/END, THOUGHT_CHUNK and ERROR; onActivity receives a ready payload with the agent name and data so that the UI and telemetry can display the progress of the steps.",
          "tags": [
            "agents",
            "observability"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            },
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/types.ts",
              "sha256": "607fb494087e5a374de3958dc4d2ff4d83d4d0ac0a3fc96960bea1645426d33f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-agents"
        },
        {
          "id": "aspect-prompt-registry",
          "sectionId": "section-agents",
          "slug": "prompt-registry",
          "name": "PromptRegistry manages MCP prompts",
          "description": "PromptRegistry registers DiscoveredMCPPrompt, renames duplicates to serverName_prompt, returns lists of prompts sorted by name, and can clear server entries or the entire registry, providing a consistent list of MCP prompts.",
          "tags": [
            "agents",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/prompts/prompt-registry.ts",
              "sha256": "f88e19b7eed94afb39166c2a7de0f22ed3edbec806c632a7f9ed61964ecfa433"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-prompt-id-context",
          "slug": "prompt-id-context",
          "name": "promptIdContext passes identifiers between agents",
          "description": "AsyncLocalStorage promptIdContext stores the current prompt id; AgentExecutor.create reads the parent id and run runs a callModel inside promptIdContext.run(promptId) so that nested calls/subagents maintain a trace.",
          "tags": [
            "core",
            "agents",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/promptIdContext.ts",
              "sha256": "44e5cddd92b468f79748c74c91ce63291b576c05a27aa85379a013cf46ecb5b7"
            },
            {
              "path": "projects/GeminiCLI/packages/core/src/agents/executor.ts",
              "sha256": "e9bc511198f2fa093812f8f96af5459185691ad13d57266544e670cb80173b28"
            }
          ],
          "importance": 0.65,
          "sectionId": "section-agents",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-mcp-prompts-registry",
          "sectionId": "section-agents",
          "slug": "mcp-prompts-registry",
          "name": "getMCPServerPrompts returns server prompts",
          "description": "prompts/mcp-prompts.ts retrieves the PromptRegistry from Config and returns the registered prompts for a specific MCP server, allowing the UI to build prompts in /mcp prompt.",
          "tags": [
            "agents",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/prompts/mcp-prompts.ts",
              "sha256": "cdd35907e67fb31eb37d26d61ed0c137969d473ab497862534f6f0a7f9973007"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.42
        }
      ]
    },
    {
      "id": "section-routing",
      "slug": "routing",
      "title": "Execution - Model routing",
      "entries": [
        {
          "id": "aspect-model-router-service",
          "slug": "model-router-service",
          "name": "ModelRouterService combines strategies",
          "description": "ModelRouterService collects CompositeStrategy with the order fallback -> override -> classifier -> default, calls route and logs ModelRoutingEvent via logModelRouting; in case of exceptions, it forms a backup decision and throws the error, preserving the traceability of the model choice.",
          "tags": [
            "core",
            "execution",
            "telemetry",
            "routing"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/modelRouterService.ts",
              "sha256": "1b745bc24e46f76c5c1ccdb80f07ab1b0c813cd46f5f7d948a37757540df5449"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-composite-routing-strategy",
          "slug": "composite-routing",
          "name": "CompositeStrategy as chain of responsibility",
          "description": "CompositeStrategy implements chain-of-responsibility: it goes through non-terminal strategies with try/catch, falls to the terminal one, and finalizeDecision adds a source of the form router/<child> and latency by performance.now so that the entire chain has uniform telemetry.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/compositeStrategy.ts",
              "sha256": "41b003e4a80f57a2a472e3ed3e1def6ce049cac107c9567492860455d8b26de2"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-classifier-routing",
          "slug": "classifier-routing",
          "name": "ClassifierStrategy selects flash or pro",
          "description": "ClassifierStrategy takes the last history without functionCall/response, uses DEFAULT_GEMINI_FLASH_LITE_MODEL and generateJson with a system rubric, parses the response via zod and returns flash or pro, logging a warning and returning null on errors, so ML classification does not break the chain.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/classifierStrategy.ts",
              "sha256": "d1a0f3b68b96921d34143ee1c9bc33e5656b222879c5366d2b7bc44a79d30296"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-override-routing",
          "slug": "override-routing",
          "name": "OverrideStrategy respects manual model selection",
          "description": "OverrideStrategy reads config.getModel and if the user committed the model (not AUTO), immediately returns it with reason 'Routing bypassed', otherwise it gives null to the next link, while maintaining respect for manual overrides.",
          "tags": [
            "core",
            "config",
            "routing"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/overrideStrategy.ts",
              "sha256": "ceaa961862d2820de7bbbcf555eb4c148fdf9a3169342fc5315f967c8a2e1a8d"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-fallback-routing",
          "slug": "fallback-routing",
          "name": "FallbackStrategy switches model by flag",
          "description": "FallbackStrategy checks config.isInFallbackMode and through getEffectiveModel selects a Flash variant with reason 'In fallback mode', returning null until fallbackMode is activated, thereby linking routing to the quota state.",
          "tags": [
            "core",
            "fallback",
            "routing"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/fallbackStrategy.ts",
              "sha256": "eeee2c4b1ba5c9f7db7c09b125a273d23526eb85b04f08b6057261b8141ca514"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-routing-strategy-contract",
          "slug": "routing-strategy-contract",
          "name": "RoutingStrategy and TerminalStrategy Contract",
          "description": "routingStrategy.ts sets the interface: route receives RoutingContext, Config and BaseLlmClient, can return null, and TerminalStrategy guarantees a successful RoutingDecision. The decision itself carries model and metadata with source, latencyMs, reasoning and an optional error so that the chain can write detailed telemetry.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/routingStrategy.ts",
              "sha256": "844e05316411d312cd584657f469746d2cb40995457a13dcd80f04e8713eaf9c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-routing-context-signal",
          "slug": "routing-context-signal",
          "name": "Routing context with AbortSignal",
          "description": "The RoutingContext passes the full history (Content[]), the current PartListUnion of the request, and the AbortSignal to the strategies, allowing the router to honor the latest replicas and cancel LLM calls if the decision is no longer needed.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/routingStrategy.ts",
              "sha256": "844e05316411d312cd584657f469746d2cb40995457a13dcd80f04e8713eaf9c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-routing-default-strategy",
          "slug": "routing-default-strategy",
          "name": "DefaultStrategy returns the main Gemini",
          "description": "DefaultStrategy as a terminal strategy ignores the context and always returns DEFAULT_GEMINI_MODEL with zero latency and reasoning \"Routing to default model\", closing the chain, even if all heuristics did not work.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/defaultStrategy.ts",
              "sha256": "4f293efdadcc06243931d8aef3a138c1f5425e1e28d7b10aab7a59f4a129d208"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-routing-classifier-context",
          "slug": "routing-classifier-context",
          "name": "ClassifierStrategy filters request history",
          "description": "ClassifierStrategy takes up to 20 last messages, removes FunctionCall/Response, leaves the last 4 turns and calls generateJson on DEFAULT_GEMINI_FLASH_LITE_MODEL with temperature 0 and thinkingBudget 512 so that the classifier gives a deterministic choice between flash and pro.",
          "tags": [
            "core",
            "execution",
            "routing"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/classifierStrategy.ts",
              "sha256": "d1a0f3b68b96921d34143ee1c9bc33e5656b222879c5366d2b7bc44a79d30296"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-routing-classifier-promptid",
          "slug": "routing-classifier-promptid",
          "name": "Fallback promptId for classifier",
          "description": "Before calling generateJson, the strategy looks for the promptId in the promptIdContext; if the context is empty, it creates a fallback id of the form classifier-router-fallback-<timestamp>-<rand> and warns the console that it is saving the trace so that downstream logging does not lose connection.",
          "tags": [
            "core",
            "execution",
            "observability",
            "routing"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/routing/strategies/classifierStrategy.ts",
              "sha256": "d1a0f3b68b96921d34143ee1c9bc33e5656b222879c5366d2b7bc44a79d30296"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-routing"
        },
        {
          "id": "aspect-model-routing-logger",
          "slug": "model-routing-logger",
          "name": "logModelRouting writes model selection telemetry",
          "description": "logModelRouting first passes the event to ClearcutLogger, then, if the SDK is initialized, issues an OpenTelemetry logRecord with the body and attributes of the ModelRoutingEvent and calls recordModelRoutingMetrics so that the model selection is recorded as both a log and a metric.",
          "tags": [
            "routing",
            "telemetry",
            "metrics"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/loggers.ts",
              "sha256": "f4c398227ebd329975d74c5bedfc330224c9fb24d39091c58e3bd2712249b1e6"
            }
          ],
          "sectionId": "section-routing",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-model-routing-event",
          "slug": "model-routing-event",
          "name": "ModelRoutingEvent generates payload solutions",
          "description": "ModelRoutingEvent stores the model, source, delay, reasoning, error flag and message, uses getCommonAttributes for OpenTelemetry attributes, and gives a compact string body so that the telemetry receives the full routing context.",
          "tags": [
            "routing",
            "telemetry"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/types.ts",
              "sha256": "906673fbbacc6e3dcd7df75a00c7a3ba657c10b6c60b40aeb6bb60f13b1f07f4"
            }
          ],
          "sectionId": "section-routing",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-model-routing-metrics",
          "slug": "model-routing-metrics",
          "name": "recordModelRoutingMetrics takes into account latency and errors",
          "description": "recordModelRoutingMetrics checks the initialization of metrics, records routing latency in the histogram with the decision_model/source attributes and, if failed=true, increases the error counter with the reason text.",
          "tags": [
            "routing",
            "metrics",
            "telemetry"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/metrics.ts",
              "sha256": "17d9923e27796f67f404565f81d024da371d510d699bdbbe0fa2d97a6f1ef7d0"
            }
          ],
          "sectionId": "section-routing",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-config-set-model-fallback",
          "slug": "config-set-model-fallback",
          "name": "Config.setModel blocks pro in fallback",
          "description": "Config.setModel refuses to switch the model to the pro version if fallback quota mode is enabled, and only otherwise updates the model field, so manual selection does not bypass degrade mode.",
          "tags": [
            "config",
            "routing",
            "fallback"
          ],
          "importance": 0.57,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/config/config.ts",
              "sha256": "bc808ab4d5ff26f53ab6b121d72e8ddad85851245f0a26e2034127536164f0bb"
            }
          ],
          "sectionId": "section-routing",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-model-dialog-telemetry",
          "slug": "model-dialog-telemetry",
          "name": "ModelDialog logs model selection",
          "description": "ModelDialog offers Auto, Pro, Flash and Flash-Lite, when selected, calls config.setModel, creates a ModelSlashCommandEvent and writes a manual override to telemetry via logModelSlashCommand.",
          "tags": [
            "routing",
            "ui",
            "telemetry"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ModelDialog.tsx",
              "sha256": "3c7e40767811c4831e08dbe72dbdf6162e7c9b7965c4b8b593a2f993c5c9245b"
            },
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/types.ts",
              "sha256": "906673fbbacc6e3dcd7df75a00c7a3ba657c10b6c60b40aeb6bb60f13b1f07f4"
            }
          ],
          "sectionId": "section-routing",
          "lastUpdated": "2025-10-14"
        }
      ]
    },
    {
      "id": "section-tools",
      "slug": "tools",
      "title": "Execution - Tool API",
      "entries": [
        {
          "id": "aspect-tool-registry",
          "slug": "tool-registry",
          "name": "ToolRegistry and discovery",
          "description": "ToolRegistry manages the tool map, creates McpClientManager, connects discovered tools via spawn callCommand and, in case of errors, returns ToolErrorType with stdout/stderr.",
          "tags": [
            "tools",
            "mcp"
          ],
          "importance": 0.79,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/tool-registry.ts",
              "sha256": "5bf18ec43fe093a5865c8dbbe1a02416dc3a5179c71766366b8048ee4cd28e81"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-shell-tool",
          "slug": "shell-tool",
          "name": "ShellTool protection",
          "description": "ShellTool evaluates allowlist, parses subcommands, requires whitelisting in non-interactive mode, confirms exec via ToolExecuteConfirmationDetails and writes PID upon startup, monitoring background processes.",
          "tags": [
            "tools",
            "shell",
            "security"
          ],
          "importance": 0.78,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/shell.ts",
              "sha256": "048d147de74b01591d83e828787d058f0984eb035ddb825b01533b5fcd4f07d9"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-edit-tool",
          "slug": "edit-tool",
          "name": "EditTool and diff",
          "description": "EditTool reads the file through FileSystemService, counts occurrences, uses safeLiteralReplace, builds Diff.createPatch and logs FileOperationEvent for telemetry.",
          "tags": [
            "tools",
            "editing"
          ],
          "importance": 0.76,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/edit.ts",
              "sha256": "20e55850cba597d790627d9030bf93e6735a7cde8435533debe681ae086e0999"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-memory-tool",
          "slug": "memory-tool",
          "name": "MemoryTool and GEMINI.md",
          "description": "MemoryTool saves facts in ~/.gemini/GEMINI.md, guarantees the ## Gemini Added Memories header, adds diff previews, supports allowlist for auto-approve.",
          "tags": [
            "tools",
            "memory"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/memoryTool.ts",
              "sha256": "658629f398bd5f3faa5ed682f0dd759ca73e60687907409549788d5e3c82ab13"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-mcp-client-manager",
          "slug": "mcp-client-manager",
          "name": "McpClientManager and discovery",
          "description": "McpClientManager recreates populateMcpServerCommand clients, issues mcp-client-update, blocks discovery in untrusted folders and registers tools via ToolRegistry/PromptRegistry.",
          "tags": [
            "tools",
            "mcp"
          ],
          "importance": 0.73,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/mcp-client-manager.ts",
              "sha256": "8f05f73c93f0014de237e90bf87f26b5c1dc4b1f8702fecc5ae21ce086fade74"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-ripgrep-tool",
          "slug": "ripgrep-tool",
          "name": "RipGrepTool and rg download",
          "description": "RipGrepTool checks and, if necessary, loads rg into Storage.getGlobalBinDir(), validates paths through WorkspaceContext, aggregates results by files and cuts output to 20k matches.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/ripGrep.ts",
              "sha256": "fb53ab01c69fd4eed85fedb8c97543a6ffc5a7d12108eadff58b3d591b441337"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-smart-edit-strategy",
          "slug": "smart-edit-strategy",
          "name": "SmartEdit: Replacement Strategies",
          "description": "SmartEditTool combines exact, flexible and regex replacement, saves diff via DEFAULT_DIFF_OPTIONS, sends SmartEditStrategy/Correction events to telemetry and respects ApprovalMode.",
          "tags": [
            "tools",
            "editing"
          ],
          "importance": 0.75,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/smart-edit.ts",
              "sha256": "a26c05d8fc776119f11ee92eb903f9b03bc825d3448212362ff556eca92e76ee"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-glob-tool",
          "slug": "glob-tool",
          "name": "GlobTool filters and sorts results",
          "description": "GlobToolInvocation checks the path to see if it belongs to the WorkspaceContext, collects matches across all working roots, filters them through the FileDiscoveryService based on .gitignore/.geminiignore, and sorts the latest files first.",
          "tags": [
            "tools",
            "filesystem",
            "cli"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/glob.ts",
              "sha256": "ce1336a4ec9efaa6e331b259bf5d88d8944cf3ae0d5c076220299417a347b38e"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-read-file-tool",
          "slug": "read-file-tool",
          "name": "ReadFileTool limits reading and logs operations",
          "description": "ReadFileTool requires an absolute path inside the workspace or temp directory, takes into account .geminiignore, reports trimming of large files, and writes a FileOperationEvent with MIME and language for telemetry.",
          "tags": [
            "tools",
            "filesystem",
            "telemetry"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/read-file.ts",
              "sha256": "c53c18e4cefd175916067f0647eb5479112cf1b5caf06fa711759964d08814b6"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-read-many-files-tool",
          "slug": "read-many-files-tool",
          "name": "ReadManyFiles aggregates content by templates",
          "description": "ReadManyFilesTool combines paths/include glob patterns, complements them with dynamic excludes, filters FileDiscoveryService output, skips requests for images only when explicitly specified, and maintains a list of skipped files.",
          "tags": [
            "tools",
            "filesystem",
            "telemetry"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/read-many-files.ts",
              "sha256": "a463762e487e6649bd0d6045d0db165e6137eb12793cff70a0ac250442def534"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-write-file-tool",
          "slug": "write-file-tool",
          "name": "WriteFileTool confirms diffs and corrects content",
          "description": "WriteFileTool checks the absolute path, prohibits overwriting directories, runs ensureCorrectEdit/ensureCorrectFileContent to correct the input, builds a diff for confirmation, and logs FileOperationEvent after writing.",
          "tags": [
            "tools",
            "editing",
            "security"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/write-file.ts",
              "sha256": "dc8f2c33c9e7c2c43c1cc648bf10aac670f72feba912c462f0e2ae51d061249a"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-write-todos-tool",
          "slug": "write-todos-tool",
          "name": "WriteTodosTool captures the task plan",
          "description": "WriteTodosTool accepts a complete list of tasks, checks object structures, guarantees a single status of in_progress, and generates a human-readable report of the updated list.",
          "tags": [
            "tools",
            "cli",
            "ui"
          ],
          "importance": 0.48,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/write-todos.ts",
              "sha256": "404103bdede311758eee275c6d990ae85842b65bf7984f1634896716ba46986d"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-web-fetch-tool",
          "slug": "web-fetch-tool",
          "name": "WebFetchTool processes URLs with fallback",
          "description": "WebFetchTool calls Gemini with urlContext, with private IP it enables local fetchWithTimeout, converts HTML to text and logs fallback attempts, saving user confirmation if necessary.",
          "tags": [
            "tools",
            "fallback",
            "security"
          ],
          "importance": 0.59,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/web-fetch.ts",
              "sha256": "4c9c718cd84c1f058d012f9b8c167dfdf41086a801671129f40505435707e548"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-web-search-tool",
          "slug": "web-search-tool",
          "name": "WebSearchTool adds citations from Google Search",
          "description": "WebSearchTool calls googleSearch via Gemini, parses groundingSupports to place links in the text, generates a Sources block and returns an informative response or error ToolErrorType.WEB_SEARCH_FAILED.",
          "tags": [
            "tools",
            "integrations",
            "cli"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/web-search.ts",
              "sha256": "0a42a21960e8b91058f41e2e1a1e2b6b0c570f3a1efce719e7178770dd272395"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-grep-tool",
          "slug": "grep-tool",
          "name": "GrepTool chooses a search strategy",
          "description": "GrepTool first uses git grep with --untracked, then system grep with auto excludes and falls on JS fallback via globStream, while checking workspace, grouping results by files and supporting AbortSignal.",
          "tags": [
            "tools",
            "filesystem",
            "cli"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/grep.ts",
              "sha256": "a9412837dbf5a023b16cc2206e6e701ce633c1a5b757c0e5a4ffc249491701a0"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-ls-tool",
          "slug": "ls-tool",
          "name": "LSTool applies ignore and sorts directories",
          "description": "LSTool validates the absolute path in the workspace, combines custom ignores with FileDiscoveryService filters, counts git/gemini-ignored items, and lists directories first in sorted output.",
          "tags": [
            "tools",
            "filesystem",
            "cli"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/ls.ts",
              "sha256": "44498c47273279e0e144042380c29082a0b361a69ee365ab71191ab3eb15e9c2"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-discovered-mcp-tool",
          "slug": "discovered-mcp-tool",
          "name": "DiscoveredMCPTool monitors trust in MCP",
          "description": "DiscoveredMCPTool stores an allowlist of servers and tools, asks for confirmation, skips the trusted folder if trust=true, converts MCP content blocks to GenAI Part[] and formats the final output.",
          "tags": [
            "tools",
            "mcp",
            "security"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/mcp-tool.ts",
              "sha256": "c538f2e710dfefb6a6c927b56685ee2a626e31630c6696e384f754f8c16c126b"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-tool-error-taxonomy",
          "slug": "tool-error-taxonomy",
          "name": "ToolErrorType specifies the error taxonomy",
          "description": "tool-error.ts describes a set of codes for file, web, and MCP errors and, through isFatalToolError, marks only NO_SPACE_LEFT as a critical signal, allowing the scheduler to decide whether execution can continue.",
          "tags": [
            "tools",
            "core",
            "security"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/tool-error.ts",
              "sha256": "252fe39e3dcbd9b366df58ef9edcd63e5b44bf9b6f4fd3ceaf616a99f2cc0ae4"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-tools-file-exclusions-dynamic",
          "sectionId": "section-tools",
          "slug": "tools-file-exclusions-dynamic",
          "name": "FileExclusions combines basic and dynamic ignores",
          "description": "getDefaultExcludePatterns combines COMMON_IGNORE_PATTERNS, adds the current GEMINI.md, configuration getCustomExcludes and runtimePatterns, providing a single filter for reading files.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/ignorePatterns.ts",
              "sha256": "6d97b3711d5bdb870d701d3642f8655a5f85317ed6ea884e013b902eef011ac1"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-tools-file-exclusions-binary-extensions",
          "sectionId": "section-tools",
          "slug": "tools-file-exclusions-binary-extensions",
          "name": "extractExtensionsFromPatterns forms BINARY_EXTENSIONS",
          "description": "The utility walks through templates with *.ext and *.{jpg,png}, handles dot extensions correctly, and returns a sorted list of BINARY_EXTENSIONS that tools can quickly filter.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/ignorePatterns.ts",
              "sha256": "6d97b3711d5bdb870d701d3642f8655a5f85317ed6ea884e013b902eef011ac1"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.4
        },
        {
          "id": "aspect-recursive-file-search",
          "sectionId": "section-tools",
          "slug": "recursive-file-search",
          "name": "RecursiveFileSearch caches and speeds up file searches",
          "description": "fileSearch.ts implements RecursiveFileSearch: initialize loads Ignore rules, scans the project through crawl, builds ResultCache and AsyncFzf (v1 for >20k files), and search uses cache prefix hits or fuzzy search, respecting AbortSignal and ignore filters; the factory switches to DirectoryFileSearch when recursion is disabled.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/fileSearch.ts",
              "sha256": "a718271e04f1a015111753e06fae7cb8bf7b698b418c87e9380220c6cc950ae7"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.68
        },
        {
          "id": "aspect-file-exclusions",
          "sectionId": "section-tools",
          "slug": "file-exclusions",
          "name": "FileExclusions unifies ignore patterns of tools",
          "description": "ignorePatterns.ts collects COMMON/BINARY/MEDIA/SYSTEM exceptions, adds the current GEMINI.md, mixes config.getCustomExcludes and runtime patterns; getReadManyFilesExcludes and extractExtensionsFromPatterns give the tools a consistent list of filters and extensions.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/ignorePatterns.ts",
              "sha256": "6d97b3711d5bdb870d701d3642f8655a5f85317ed6ea884e013b902eef011ac1"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.62
        },
        {
          "id": "aspect-bfs-file-search",
          "sectionId": "section-tools",
          "slug": "bfs-file-search",
          "name": "bfsFileSearch searches for a file by name without doing a deep crawl",
          "description": "bfsFileSearch performs parallel directory queue traversal (batches of 15), respects ignoreDirs and FileDiscoveryService.shouldIgnoreFile, limits maxDirs and warns about inaccessible directories, allowing you to quickly find specific files by name.",
          "tags": [
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/bfsFileSearch.ts",
              "sha256": "509c45fd1b38b871f9aebec443b0c52344837a45179cc8112dcaba83862f23db"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.58
        },
        {
          "id": "aspect-shell-execution-service",
          "slug": "shell-execution-service",
          "name": "ShellExecutionService",
          "description": "The shellExecutionService service tries to use node-pty/lydell packages, serializes ANSI via xterm headless, limits the buffer to 16MB and can fall back to child_process with SIGKILL after 200 ms.",
          "tags": [
            "tools",
            "shell",
            "execution"
          ],
          "importance": 0.78,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/shellExecutionService.ts",
              "sha256": "234b8e6e081a7802e6fb0aa20365f1d39c069c8f00549992155e56092651f85f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-edit-corrector",
          "slug": "edit-corrector",
          "name": "EditCorrector corrects parameters before writing",
          "description": "ensureCorrectEdit caches previous corrections, looks up the latest file edits in the GeminiClient history, adjusts the escape and calls LLM if necessary, and ensureCorrectFileContent validates the contents of new files.",
          "tags": [
            "core",
            "editing",
            "tools"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/editCorrector.ts",
              "sha256": "773a085c0ed834ce6a70d161dcab771796a5610a739e467cc5291e8a8c525fea"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-tools"
        },
        {
          "id": "aspect-diff-options",
          "sectionId": "section-tools",
          "slug": "diff-options",
          "name": "DEFAULT_DIFF_OPTIONS and DiffStat statistics",
          "description": "tools/diffOptions.ts sets unified diff with context=3 and ignoreWhitespace, builds DiffStat (added/removed lines and characters) for model and user. These metrics are used in edit reports.",
          "tags": [
            "tools",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/diffOptions.ts",
              "sha256": "70ea20f08540a206614d849cd804480d16495ca95de6d0e55140b5ab387537d6"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.48
        },
        {
          "id": "aspect-mcp-client-core",
          "sectionId": "section-tools",
          "slug": "mcp-client-core",
          "name": "McpClient manages discovery, OAuth and statuses",
          "description": "tools/mcp-client.ts connects via SSE/stdio/http, tracks MCPServerStatus, publishes updateMCPServerStatus, automatically triggers OAuth via MCPOAuthProvider, caches prompts in the registry and notifies listeners when changes occur.",
          "tags": [
            "tools",
            "mcp",
            "integrations"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/mcp-client.ts",
              "sha256": "f1b6bff6ffc8918e3c61d522ecdac195c372bafce34e985a6da54a8bec0f1983"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-modifiable-tool",
          "sectionId": "section-tools",
          "slug": "modifiable-tool",
          "name": "modifyWithEditor creates temporary diff files",
          "description": "tools/modifiable-tool.ts defines ModifiableDeclarativeTool and modifyWithEditor: writes current/suggested content to tmp, opens diff via openDiff, reads edits and rebuilds Patch+updatedParams, then cleans files.",
          "tags": [
            "tools",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/modifiable-tool.ts",
              "sha256": "b227e59ae09cfdfe12a3000d9563ee25a2d5ac0286e2501f4852c2436a28ea31"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-tool-names",
          "sectionId": "section-tools",
          "slug": "tool-names",
          "name": "tool-names.ts eliminates dependency loops",
          "description": "tool-names.ts centralizes names (glob, write_todos, web_fetch, google_web_search) and contains TODOs for the rest so that agents and policies can be linked without importing specific implementations.",
          "tags": [
            "tools",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/tool-names.ts",
              "sha256": "9db0782b81f46e502e9c679e616c8b3cd15524c278824c9b894f1c48ffcfa7b5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-tools-runtime",
          "sectionId": "section-tools",
          "slug": "tools-runtime",
          "name": "ToolInvocation and message bus confirmation",
          "description": "tools/tools.ts defines the ToolInvocation, ToolBuilder interfaces and the base BaseToolInvocation, which publishes the ToolConfirmationRequest to the message bus and handles ASK_USER/ALLOW/DENY with a timeout, which is critical for new tools.",
          "tags": [
            "tools",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/tools.ts",
              "sha256": "26b4cb8e18a96899bce1713bfd33aa6f4ef828625fff791819fb0258565d67d0"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "id": "aspect-tool-utils-matching",
          "sectionId": "section-tools",
          "slug": "tool-utils-matching",
          "name": "doesToolInvocationMatch matches calls to patterns",
          "description": "utils/tool-utils.ts checks the tool name and argument pattern (including ShellTool and SHELL_TOOL_NAMES) so that policy and trust logic can match specific commands (eg git status).",
          "tags": [
            "tools",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/tool-utils.ts",
              "sha256": "7977c23f0f5e193f2fc77c36a4b8b2b415116016006433bc86a801e27a94547a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        }
      ]
    },
    {
      "id": "section-integrations",
      "slug": "integrations",
      "title": "Interface - Integrations",
      "entries": [
        {
          "id": "aspect-extension-enablement",
          "slug": "extension-enablement",
          "name": "ExtensionEnablementManager",
          "description": "extensionEnablement.ts stores overrides (enable/disable) with ! and subdirectories, reads/writes extension-enablement.json and allows the -e none flag to disable all extensions.",
          "tags": [
            "integrations",
            "extensions",
            "trust"
          ],
          "importance": 0.71,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/extensions/extensionEnablement.ts",
              "sha256": "8eab1596ecebbecf5c331c3d9e2863d8766445718c7caaad4af28f947baf12bc"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-zed-integration",
          "slug": "zed-integration",
          "name": "Zed ACP integration",
          "description": "zedIntegration.ts deploys AgentSideConnection, publishes auth methods (Google, API key, Vertex), synchronizes security.auth.selectedType settings and routes MCP servers to the Zed context.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/zed-integration/zedIntegration.ts",
              "sha256": "aef6068d350caaff3fd813de0969e5f8dbb0e595c84460b3facf93504a7e7c06"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-ide-client",
          "sectionId": "section-integrations",
          "slug": "ide-client",
          "name": "IdeClient manages the connection to the IDE",
          "description": "IdeClient looks for the IDE process, reads the config, validates the workspace, tries HTTP/Stdio MCP transports, stores the authToken and sends status/trust to listeners.",
          "tags": [
            "integrations",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/ide-client.ts",
              "sha256": "034171705fc9735c4ab4ec2921e7816338f7d87ed6b4c3a582c6ea660514d572"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.78
        },
        {
          "id": "aspect-acp-filesystem-service",
          "sectionId": "section-integrations",
          "slug": "acp-filesystem-service",
          "name": "ACP FileSystemService proxies IDE access",
          "description": "AcpFileSystemService reads the Zed ACP capability and, in their absence, falls back to the local FileSystemService, providing read/write MCP interfaces.",
          "tags": [
            "integrations",
            "filesystem",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/zed-integration/fileSystemService.ts",
              "sha256": "b6905d2cb24ece0759083ae45d2d4a87379499c2cefd4cb143df7c8edad4b866"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.68
        },
        {
          "id": "aspect-ide-context-store",
          "slug": "ide-context-store",
          "name": "IdeContextStore normalizes the IDE context",
          "description": "ideContextStore sorts openFiles by timestamp, resets redundant active editors, truncates allocations to IDE_MAX_SELECTED_TEXT_LENGTH, and notifies subscribers of IDE state changes.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/ideContext.ts",
              "sha256": "91be3b23aa00fb235234cd1325d8f8fed6f5f0c15ebd440ebb4d3d9f824dd2f9"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-mcp-prompt-loader",
          "slug": "mcp-prompt-loader",
          "name": "McpPromptLoader turns MCP prompts into commands",
          "description": "McpPromptLoader reads getMCPServerPrompts from Config, creates a SlashCommand with a help subcommand for each server, parses named and positional arguments, calls prompt.invoke and adds autocompletion for empty flags.",
          "tags": [
            "cli",
            "mcp",
            "ui",
            "integrations"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/McpPromptLoader.ts",
              "sha256": "3d138388748a155e50db67226fb1058793488dc089c32696d35fe1cd3c60b8cc"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-acp-schema",
          "slug": "acp-schema",
          "name": "Zed ACP schema captures the JSON-RPC contract",
          "description": "schema.ts describes the ACP protocol: lists agent/client methods, version, and through zod schemas validates init/session_prompt/fs_read_text_file requests, writeTextFile/RequestPermission responses and tool-call content structure, which guarantees consistency between the CLI and the IDE client.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/zed-integration/schema.ts",
              "sha256": "3aaa8932f6d79375e0f1293ce1842e3fba0fe7095d81396300003fc251c9e22a"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-acp-agent-bridge",
          "slug": "acp-agent-bridge",
          "name": "AgentSideConnection wraps ACP JSON-RPC",
          "description": "acp.ts builds AgentSideConnection: each incoming message is forwarded to a handler with zod validation (initialize, session/new, authenticate, prompt), Connection manages Writable/Readable streams, multiplexes pending requests and provides sessionUpdate/requestPermission/read/write methods for the IDE client.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/zed-integration/acp.ts",
              "sha256": "f1f93940a3ce328c884b97c6c60632944d983d7f2e9524b73ee9b3a7e268a555"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-ide-installer",
          "slug": "ide-installer",
          "name": "IDE installer looks for CLI and installs companion",
          "description": "ide-installer.ts tries to find the code command in the PATH or standard directories for macOS/Linux/Windows, after which spawnSync runs --install-extension google.gemini-cli-vscode-ide-companion and returns InstallResult; on failure, returns a human-readable message and advice on manual installation.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/ide-installer.ts",
              "sha256": "2173d3b03ee092f90f3ea0aab679f3490a5d73d8f9aa983d9757e307a7514dab"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-ide-process-discovery",
          "slug": "ide-process-discovery",
          "name": "process-utils looks for the parent IDE process",
          "description": "process-utils.ts climbs the process tree up to a maximum of 32 levels: on Unix it looks for the shell and its parent, on Windows it finds the grandparent of the root process using ps/PowerShell. Returns PID and IDE command even when intermediate processes crash, allowing you to accurately log connections.",
          "tags": [
            "integrations",
            "ide"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/process-utils.ts",
              "sha256": "0a7937cf78ee742589b7d2d64e80b471966f63cbf45fd434c3bf977d5dec3f40"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-integrations"
        },
        {
          "id": "aspect-a2a-config-loader",
          "slug": "a2a-config-loader",
          "name": "CoderAgentExecutor collects config for each task",
          "description": "getConfig calls setTargetDir on the workspace, loads env, then loadSettings and loadExtensions before loadConfig(taskId), ensuring that the server agent uses an identical CLI configuration.",
          "tags": [
            "integrations",
            "agents",
            "config"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/executor.ts",
              "sha256": "c4a2b0c41a54707d57acbe5b77b31d16cdd3b7a52a55166015d2fff8652f7000"
            }
          ],
          "importance": 0.62,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-a2a-task-metadata",
          "slug": "a2a-task-metadata",
          "name": "Task.getMetadata publishes MCP and tool states",
          "description": "Task.getMetadata collects a list of MCP servers with getAllMCPServerStatuses and descriptions of all ToolRegistry tools so that the A2A client can see the available operations and their schemes.",
          "tags": [
            "integrations",
            "agents",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/task.ts",
              "sha256": "32cd11d3fece94ac5740d9181814cf4ab0af89f07e610d52d0cbd4197e1791d5"
            }
          ],
          "importance": 0.64,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-a2a-scheduler-artifacts",
          "slug": "a2a-scheduler-artifacts",
          "name": "Scheduler output is broadcast to TaskArtifactUpdateEvent",
          "description": "_schedulerOutputUpdate casts the text or ANSI output of the tool call to the Artifact and publishes a TaskArtifactUpdateEvent via the ExecutionEventBus, providing streaming updates to the A2A UI.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/task.ts",
              "sha256": "32cd11d3fece94ac5740d9181814cf4ab0af89f07e610d52d0cbd4197e1791d5"
            }
          ],
          "importance": 0.58,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-a2a-yolo-autoapproval",
          "slug": "a2a-yolo-autoapproval",
          "name": "YOLO-policy auto confirms tool calls on the server",
          "description": "_schedulerToolCallsUpdate updates pendingToolCalls, stores confirmationDetails, and when ApprovalMode.YOLO calls onConfirm(ToolConfirmationOutcome.ProceedOnce), removing the wait for user confirmation.",
          "tags": [
            "integrations",
            "agents",
            "policy"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/task.ts",
              "sha256": "32cd11d3fece94ac5740d9181814cf4ab0af89f07e610d52d0cbd4197e1791d5"
            }
          ],
          "importance": 0.61,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-a2a-executor-execute",
          "slug": "a2a-executor-execute",
          "name": "execute controls task reconstruction and cancellation on a socket",
          "description": "CoderAgentExecutor.execute retrieves taskId/contextId, attaches a listener to socket.end for AbortController.abort, reconstructs Task from TaskStore if available and replaces eventBus, otherwise creates a new one and saves it.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/executor.ts",
              "sha256": "c4a2b0c41a54707d57acbe5b77b31d16cdd3b7a52a55166015d2fff8652f7000"
            }
          ],
          "importance": 0.63,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-a2a-executor-cancel",
          "slug": "a2a-executor-cancel",
          "name": "cancelTask publishes the final status and saves the Store",
          "description": "When canceled, CoderAgentExecutor.cancelTask stops pending tool calls, sends a status-update via eventBus and writes the updated SDKTask to the taskStore, neatly handling the absence of a task.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/agent/executor.ts",
              "sha256": "c4a2b0c41a54707d57acbe5b77b31d16cdd3b7a52a55166015d2fff8652f7000"
            }
          ],
          "importance": 0.55,
          "sectionId": "section-integrations",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-ide-process-guards",
          "sectionId": "section-integrations",
          "slug": "ide-process-guards",
          "name": "process-utils protects process tree traversal",
          "description": "process-utils.ts limits traversal to MAX_TRAVERSAL_DEPTH=32, uses getProcessInfo with ps or PowerShell JSON, normalizes empty responses, and safely wraps errors; this prevents hangs when searching for the IDE and gives the command access to the name/command of the parent process even if the children disappear.",
          "tags": [
            "integrations",
            "ide",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/process-utils.ts",
              "sha256": "0a7937cf78ee742589b7d2d64e80b471966f63cbf45fd434c3bf977d5dec3f40"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.45
        },
        {
          "id": "aspect-ide-constants",
          "sectionId": "section-integrations",
          "slug": "ide-constants",
          "name": "IDE restrictions: files, allocation and timeout",
          "description": "ide/constants.ts fixes integration limits (GEMINI_CLI_COMPANION name, maximum 10 open files, 16 KiB allocation, 10 minute timeout). These constants are used by IDEContext to throttle communication.",
          "tags": [
            "integrations",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/constants.ts",
              "sha256": "d9c5c876a0f378a9acc0f25fb4a55a1b18227fd358674a234eeb1ec617906d68"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-ide-detect",
          "sectionId": "section-integrations",
          "slug": "ide-detect",
          "name": "detectIde selects integration by env and process",
          "description": "ide/detect-ide.ts checks TERM_PROGRAM=vscode, reads a set of envs (Devin, Replit, Cursor, Codespaces, Cloud Shell, Firebase Studio, Trae) and uses verifyVSCode to distinguish between VS Code forks. This defines the IdeInfo for the installer and UI banners.",
          "tags": [
            "integrations",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/detect-ide.ts",
              "sha256": "2754b77f4bd66b4cc71145833b3df66a246383280d15fda1ed56e110ea73f4bc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-ide-schemas",
          "sectionId": "section-integrations",
          "slug": "ide-schemas",
          "name": "Zod diagrams of IDE context and diffs",
          "description": "ide/types.ts describes the FileSchema and IdeContextSchema (open files, trust flag, cursor) plus JSON-RPC diffAccepted/diffRejected notifications and OpenDiff/CloseDiff requests. These schemas validate IDE companion events.",
          "tags": [
            "integrations",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/ide/types.ts",
              "sha256": "4e9b41a3322adbb8c3a0ab4562b78bd26a01b27ed5ac5b355914cbc4aaf97675"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        }
      ]
    },
    {
      "id": "section-code-assist",
      "slug": "code-assist",
      "title": "Interface Code Assist",
      "entries": [
        {
          "id": "aspect-code-assist-generator",
          "slug": "code-assist-generator",
          "name": "createCodeAssistContentGenerator connects the backend",
          "description": "createCodeAssistContentGenerator only allows LOGIN_WITH_GOOGLE and CLOUD_SHELL: calls getOauthClient, runs setupUser to get projectId/userTier and returns CodeAssistServer, and getCodeAssistServer removes the LoggingContentGenerator wrapper to check if the backend is active.",
          "tags": [
            "integrations",
            "code-assist",
            "auth"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/codeAssist.ts",
              "sha256": "180290d089fcb963d5ae254820adc285a8354da4e77c69ed5802b08df5dada06"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-server",
          "slug": "code-assist-server",
          "name": "CodeAssistServer proxies the Cloud Code API",
          "description": "CodeAssistServer implements ContentGenerator by proxying REST to CODE_ASSIST_ENDPOINT: generateContentStream reads SSE via readline, loadCodeAssist processes VPC SC and returns STANDARD tier, onboardUser and countTokens use common requestPost/requestGet, meaning the CLI receives a unified Code Assist client.",
          "tags": [
            "integrations",
            "code-assist",
            "core"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/server.ts",
              "sha256": "aee4e2e1896c1df4828d8d5684d284c10e3b799500813b480d3753c6d5d80cfe"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-setup",
          "slug": "code-assist-setup",
          "name": "setupUser checks tier and project",
          "description": "setupUser takes projectId from env, calls loadCodeAssist, checks the current tier, throws ProjectIdRequiredError if there is no project and, if necessary, pulls onboardUser again until LRO completes, so Code Assist is always bound to a valid project and tier.",
          "tags": [
            "integrations",
            "code-assist",
            "auth"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/setup.ts",
              "sha256": "88f71fac6e4320e12311db80448bd48a9519be90bbd9691736a164328464ae6f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-oauth-flow",
          "slug": "code-assist-oauth",
          "name": "OAuth2 for Code Assist",
          "description": "oauth2.ts initializes OAuth2Client with proxy from Config, first tries encrypted storage or ADC in Cloud Shell, otherwise starts authWithWeb with local server/PKCE, timeout 5 minutes and state-check, or authWithUserCode, caches tokens via OAuthCredentialStorage and userAccountManager, providing fail-safe authorization.",
          "tags": [
            "auth",
            "integrations",
            "code-assist",
            "security"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/oauth2.ts",
              "sha256": "717ddc0b94b08d955093f67d886ddd4d66e592bd36aa5b0d19f4a663592fe695"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-credentials",
          "slug": "code-assist-credentials",
          "name": "Code Assist Token Storage",
          "description": "OAuthCredentialStorage uses HybridTokenStorage with the gemini-cli-oauth service, stores access/refresh tokens and expiry, if there are no entries, migrates the old ~/.gemini/oauth.json file and deletes it, and clearCredentials cleans both stores, ensuring a controlled transition to a protected scheme.",
          "tags": [
            "auth",
            "security",
            "code-assist"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/oauth-credential-storage.ts",
              "sha256": "f3122a6eabd88c28bbf3896d2ca0bb2a41bc561c27dfa2367c8121253579afc1"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-converter",
          "slug": "code-assist-converter",
          "name": "converter.ts adapts requests to Vertex",
          "description": "converter.ts converts GenerateContentParameters into a Vertex request: toGenerateContentRequest adds project/session/user_prompt_id, toContent filters for null parts, and fromGenerateContentResponse collects the GenerateContentResponse SDK, which allows CodeAssistServer to talk to the internal API without losing structure.",
          "tags": [
            "integrations",
            "code-assist",
            "core"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/converter.ts",
              "sha256": "53a15f058924691081add34c433055f3c8947e0ef457cb75c6b361cc095f24b2"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-types",
          "slug": "code-assist-types",
          "name": "Code Assist type structures",
          "description": "types.ts describes client contracts: ClientMetadata records the IDE, platform and version of the plugin, GeminiUserTier and IneligibleTierReasonCode repeat the Cloud Code proto fields, UserTierId lists free/legacy/standard, and OnboardUserStatus and HelpLinkUrl form onboarding statuses, ensuring type safety of requests to the private API.",
          "tags": [
            "integrations",
            "code-assist",
            "config"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/types.ts",
              "sha256": "e83e9f4bd7c029e4670fe7147b23109a36b01e6b57f76feca355e85f08e662fd"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-user-account-cache",
          "slug": "code-assist-user-account-cache",
          "name": "Google account cache for Code Assist",
          "description": "UserAccountManager stores active e-mail and history of old accounts in ~/.gemini/accounts.json: cacheGoogleAccount updates the list, getCachedGoogleAccount and clearCachedGoogleAccount are used by oauth2.ts so that reauthentication knows the current profile and can clear the cache when logging out.",
          "tags": [
            "integrations",
            "code-assist",
            "auth"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/userAccountManager.ts",
              "sha256": "5b1a6f3f28ee078709b2ecac033bca10f8094cfa7745b9b145960114768ed554"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-encrypted-storage",
          "slug": "code-assist-encrypted-storage",
          "name": "FORCE_ENCRYPTED_FILE forces OAuth to encrypted storage",
          "description": "oauth2.ts reads FORCE_ENCRYPTED_FILE_ENV_VAR and if true, loads/saves tokens via OAuthCredentialStorage, bypassing the file OAUTH.json; clearCachedCredentialFile synchronously clears the key-value and account history so that the cfg and keychain remain in the same state.",
          "tags": [
            "auth",
            "security",
            "integrations",
            "code-assist"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/oauth2.ts",
              "sha256": "717ddc0b94b08d955093f67d886ddd4d66e592bd36aa5b0d19f4a663592fe695"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-http-options",
          "slug": "code-assist-http-options",
          "name": "HttpOptions and endpoint Code Assist",
          "description": "CodeAssistServer accepts additional headers via HttpOptions and collects URLs as <endpoint>/<API_VERSION>:method, allowing CODE_ASSIST_ENDPOINT to be overridden via env; requestPost/requestStreamingPost throw AbortSignal from GenerateContentParameters and unify JSON/SSE calls.",
          "tags": [
            "integrations",
            "code-assist",
            "core"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/server.ts",
              "sha256": "aee4e2e1896c1df4828d8d5684d284c10e3b799500813b480d3753c6d5d80cfe"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-privacy-hook",
          "slug": "code-assist-privacy-hook",
          "name": "The usePrivacySettings hook controls opt-in",
          "description": "usePrivacySettings gets CodeAssistServer from config (erring if projectId is not set), loads tier via loadCodeAssist and only for FREE calls getCodeAssistGlobalUserSetting, interpreting 404 as default consent; updateDataCollectionOptIn calls setCodeAssistGlobalUserSetting and updates the local state.",
          "tags": [
            "integrations",
            "code-assist",
            "ui"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/usePrivacySettings.ts",
              "sha256": "97200d8aeb24993f4222856314f93b2228983b7a088e703073182c7bb965c472"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-privacy-free-notice",
          "slug": "code-assist-privacy-free-notice",
          "name": "CloudFreePrivacyNotice collects user consent",
          "description": "The CloudFreePrivacyNotice component connects usePrivacySettings, shows errors and a link to the privacy notice, and through RadioButtonSelect allows you to select opt-in/out; useKeypress allows you to close the window using Esc in case of an error or a paid tier, and a successful selection automatically calls onExit.",
          "tags": [
            "integrations",
            "code-assist",
            "ui"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/privacy/CloudFreePrivacyNotice.tsx",
              "sha256": "fdd08bad183fb9ff860f3d2bbb578a88273b21bd7c13ba8cf3d80a353e0e52e1"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-code-assist-gca",
          "slug": "code-assist-gca",
          "name": "GOOGLE_GENAI_USE_GCA initializes the client without a browser",
          "description": "initOauthClient checks GOOGLE_GENAI_USE_GCA and GOOGLE_CLOUD_ACCESS_TOKEN: if given, sets the access_token directly and immediately calls fetchAndCacheUserInfo, bypassing interactive OAuth, allowing you to work with pre-issued GCA tokens.",
          "tags": [
            "integrations",
            "code-assist",
            "auth"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/code_assist/oauth2.ts",
              "sha256": "717ddc0b94b08d955093f67d886ddd4d66e592bd36aa5b0d19f4a663592fe695"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-code-assist"
        },
        {
          "id": "aspect-editor-diff-launcher",
          "sectionId": "section-code-assist",
          "slug": "editor-diff-launcher",
          "name": "editor.ts selects editor diff commands",
          "description": "editor.ts checks for editors via command -v/where, respects the GUI sandbox, returns a DiffCommand with arguments (--wait, -d, etc.) and starts the spawn/spawnSync process with onEditorClose, providing a single call to diff in Code Assist.",
          "tags": [
            "code-assist",
            "editing",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/editor.ts",
              "sha256": "057f3c902e38c6cf91ebe73dc2d3cfc0e5b652ad9a53c07a9ed32318e61aceef"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-editor-settings-manager",
          "sectionId": "section-code-assist",
          "slug": "editor-settings-manager",
          "name": "editorSettingsManager generates a list of editors",
          "description": "editorSettingsManager polls EDITOR_DISPLAY_NAMES, through checkHasEditorType and allowEditorTypeInSandbox, marks editors as unavailable, adds tooltips (Not installed / Not available in sandbox) and returns a ready-made list for the UI.",
          "tags": [
            "code-assist",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/editors/editorSettingsManager.ts",
              "sha256": "3262b15aeeab92e6190e0795dbf9886977fadc6c3d7965c5e6611f7734c111e6"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.52
        },
        {
          "id": "aspect-privacy-notice-router",
          "sectionId": "section-code-assist",
          "slug": "privacy-notice-router",
          "name": "PrivacyNotice selects the desired notification",
          "description": "PrivacyNotice reads the authType from Config.getContentGeneratorConfig and inside the Ink frame renders a Gemini/Vertex/CloudFree notification so that the user sees the relevant terms before enabling Code Assist.",
          "tags": [
            "code-assist",
            "auth",
            "ink"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/privacy/PrivacyNotice.tsx",
              "sha256": "705a97b1c9dff468695ed30f0436105cfa780ba7ca867ae3c408a26e236e2f4c"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-privacy-notice-vertex",
          "sectionId": "section-code-assist",
          "slug": "privacy-notice-vertex",
          "name": "CloudPaidPrivacyNotice displays Vertex conditions",
          "description": "CloudPaidPrivacyNotice displays Vertex AI Service Specific Terms with link highlighting, attaches an Esc handler via useKeypress and prompts how to close the window, which ensures confirmation of the terms for Vertex clients.",
          "tags": [
            "code-assist",
            "auth",
            "ink"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/privacy/CloudPaidPrivacyNotice.tsx",
              "sha256": "11f6464d676ee30604ec943d29b355a173b20e026c7503672059c74a23dfa7c3"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        },
        {
          "id": "aspect-privacy-notice-gemini",
          "sectionId": "section-code-assist",
          "slug": "privacy-notice-gemini",
          "name": "GeminiPrivacyNotice shows Gemini API terms",
          "description": "GeminiPrivacyNotice lists links to Gemini API Terms, AI Studio and Developers Terms, highlights them in theme colors and closes with Esc, ensuring agreement before using the API key.",
          "tags": [
            "code-assist",
            "auth",
            "ink"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/privacy/GeminiPrivacyNotice.tsx",
              "sha256": "d323c90f8956f3a7e2ca5cb4c6e857e31d7630c8a6ce740ba9a6fe4ee8fe5798"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        }
      ]
    },
    {
      "id": "section-telemetry",
      "slug": "telemetry",
      "title": "Platform Telemetry",
      "entries": [
        {
          "id": "aspect-telemetry-loggers",
          "slug": "telemetry-loggers",
          "name": "Event logging",
          "description": "loggers.ts throws events to ClearcutLogger and OpenTelemetry, sends UiEvent to uiTelemetryService and counts ToolCall/FileOperation/ModelRouting metrics.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "importance": 0.77,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/loggers.ts",
              "sha256": "f4c398227ebd329975d74c5bedfc330224c9fb24d39091c58e3bd2712249b1e6"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-ui-telemetry",
          "slug": "ui-telemetry",
          "name": "UiTelemetryService",
          "description": "uiTelemetry.ts aggregates SessionMetrics by model and tool, updates listeners via EventEmitter and tracks prompt token count for UI.",
          "tags": [
            "telemetry",
            "ui"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/uiTelemetry.ts",
              "sha256": "5147dce5157f55ff73a7f0ca64273826d558db7a7ba401029b1b2d3bc28dd213"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-metrics",
          "slug": "telemetry-metrics",
          "name": "OpenTelemetry metrics",
          "description": "metrics.ts registers counters and histograms (tool call, API latency, token usage, agent run), includes GenAI semantic conventions and performance monitoring (startup, memory, flicker).",
          "tags": [
            "telemetry",
            "metrics"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/metrics.ts",
              "sha256": "17d9923e27796f67f404565f81d024da371d510d699bdbbe0fa2d97a6f1ef7d0"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-config-resolver",
          "slug": "telemetry-config-resolver",
          "name": "resolveTelemetrySettings and flexible targeting",
          "description": "resolveTelemetrySettings collects TelemetrySettings: prioritizes argv -> env -> settings, normalizes target/OTLP protocol via parseTelemetryTargetValue, validates and throws FatalConfigError for incorrect values, and also picks up logging of hints and useCollector.",
          "tags": [
            "telemetry",
            "config"
          ],
          "importance": 0.73,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/config.ts",
              "sha256": "d2e54dad5b52bc69c52ce5486a86f86676653378c8f51d8f574e08a90961ffcb"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-rate-limiter",
          "slug": "telemetry-rate-limiter",
          "name": "RateLimiter for OTEL",
          "description": "RateLimiter stores metric markers in the Map, divides the interval for high priority events, supports forced recording, statistics and cleanup, preventing OTEL metrics from being spammed.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/rate-limiter.ts",
              "sha256": "9f6cae3716ec63485bf546273d009db4580d66161f48fe817eab416562119c95"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-activity-detector",
          "slug": "telemetry-activity-detector",
          "name": "Activity detector for telemetry",
          "description": "ActivityDetector monitors the latest CLI activity, provides global isUserActive/recordUserActivity and thereby decides whether to run memory telemetry when idle.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/activity-detector.ts",
              "sha256": "9b16f804af33b2beabc91b57664bad57ffbefd3bbee6cf27ae8ff7f51407ef70"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-memory-monitor",
          "slug": "telemetry-memory-monitor",
          "name": "MemoryMonitor and high-water tracking",
          "description": "MemoryMonitor starts only when performance monitoring is enabled, checks user activity, uses HighWaterMarkTracker and RateLimiter, takes v8/process snapshots and writes recordMemoryUsage based on the growth context.",
          "tags": [
            "telemetry",
            "metrics"
          ],
          "importance": 0.77,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/memory-monitor.ts",
              "sha256": "1669f89147386601878be1ba3c492677c4d95e113da94b35f96331cb3c5d1207"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-file-exporters",
          "slug": "telemetry-file-exporters",
          "name": "Local OTEL exporters",
          "description": "FileSpanExporter/FileLogExporter/FileMetricExporter serialize OTEL spans, logs and metrics into local files, return ExportResult and declare cumulative AggregationTemporality for metrics.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/file-exporters.ts",
              "sha256": "81337d046c60c14ff97b97e452a1409ad4229352944f259ef79865d4490f4b8f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-sdk-initialization",
          "slug": "telemetry-sdk-initialization",
          "name": "initializeTelemetry configures the OpenTelemetry SDK",
          "description": "initializeTelemetry creates a NodeSDK with OTLP, GCP or file exporters, adds an HttpInstrumentation, runs initializeMetrics, and terminates the SDK via SIGINT/SIGTERM via shutdownTelemetry.",
          "tags": [
            "telemetry",
            "metrics"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/sdk.ts",
              "sha256": "0de4a9e11ec8d50c823464397e715da8e116b8fd3148864b416fe54a1ea457ff"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-clearcut-logger",
          "slug": "telemetry-clearcut-logger",
          "name": "ClearcutLogger buffers CLI events",
          "description": "ClearcutLogger stores events in FixedDeque, enriches them with Installation/UserAccount data, defines a surface (Cloud Shell, VS Code, GitHub) and batch sends logs to play.googleapis.com with retrays.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/clearcut-logger/clearcut-logger.ts",
              "sha256": "67bf8c228b7840a22beb93f895df9348b4a7072920e67bdaf86887eefdaf9a6c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-tool-call-decision",
          "slug": "telemetry-tool-call-decision",
          "name": "ToolCallDecision normalizes confirmation outcomes",
          "description": "getDecisionFromOutcome translates ToolConfirmationOutcome(ProceedAlways, Modify, Cancel) into accept/auto_accept/modify/reject values so that tool telemetry receives stable categories.",
          "tags": [
            "telemetry",
            "tools"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/tool-call-decision.ts",
              "sha256": "5998e6c2ab2667e9d863c5774556072b1b7c2f88216f98753f3582ea75917318"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-prompt-telemetry-logging",
          "slug": "prompt-telemetry-logging",
          "name": "logUserPrompt captures input before running the request",
          "description": "Before non-interactive execution, main creates a prompt_id and calls logUserPrompt with UserPromptEvent (input length, authType, text), which gives telemetry a complete picture even before calling runNonInteractive.",
          "tags": [
            "telemetry",
            "cli",
            "noninteractive"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.6,
          "sectionId": "section-telemetry",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-telemetry-local-runner",
          "sectionId": "section-telemetry",
          "slug": "telemetry-local-runner",
          "name": "local_telemetry raises local OTEL and Jaeger",
          "description": "scripts/local_telemetry.js downloads otelcol-contrib and Jaeger via ensureBinary, terminates old processes, writes collector-local.yaml, starts Jaeger and OTEL collector and via manageTelemetrySettings points the CLI to localhost:4317 for local debugging of traces.",
          "tags": [
            "telemetry",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/local_telemetry.js",
              "sha256": "a5a9da186fc5fc7d7ef0fd457687b9cf010b625d974753750bddfc695bd44980"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.6
        },
        {
          "id": "aspect-telemetry-gcp-export",
          "sectionId": "section-telemetry",
          "slug": "telemetry-gcp-export",
          "name": "telemetry_gcp exports signals to Google Cloud",
          "description": "scripts/telemetry_gcp.js requires OTLP_GOOGLE_CLOUD_PROJECT, gets otelcol-contrib, cleans up old processes, generates collector-gcp.yaml with exporter googlecloud, waits for port 4317 to open and starts collector, sending CLI telemetry to Cloud Logging and Monitoring.",
          "tags": [
            "telemetry",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/telemetry_gcp.js",
              "sha256": "8e33834590b4abd4b47ac0cc105464cc499a289fd04fb9337c227f621af5de2a"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.62
        },
        {
          "id": "aspect-telemetry-utils",
          "sectionId": "section-telemetry",
          "slug": "telemetry-utils",
          "name": "telemetry_utils manages artifacts and binary loading",
          "description": "scripts/telemetry_utils.js calculates OTEL_DIR in ~/.gemini/tmp from hash workspace, provides ensureBinary for downloading release artifacts, manageTelemetrySettings for enabling/rolling back telemetry and registerCleanup for stopping processes and restoring sandbox.",
          "tags": [
            "telemetry",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/telemetry_utils.js",
              "sha256": "1fdbe1e0cc2d3105b44f0d006839029ee62b2ae8dfe259a4722d4586e7fddace"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.61
        },
        {
          "id": "aspect-gcp-telemetry-exporters",
          "sectionId": "section-telemetry",
          "slug": "gcp-telemetry-exporters",
          "name": "Gcp*Exporter sends OTLP signals to GCP",
          "description": "gcp-exporters.ts extends TraceExporter with resourceFilter /^gcp\\./, MetricExporter with prefix custom.googleapis.com/gemini_cli and implements GcpLogExporter, which maps severityNumber to Cloud Logging levels, writes to log('gemini_cli') and waits for pendingWrites in forceFlush/shutdown.",
          "tags": [
            "telemetry",
            "metrics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/gcp-exporters.ts",
              "sha256": "f24b88498228e9a0145e2e709416e0154a4ff1df4bac4ef58a7bf56eea57da10"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.65
        },
        {
          "id": "aspect-high-water-mark-tracker",
          "sectionId": "section-telemetry",
          "slug": "high-water-mark-tracker",
          "name": "HighWaterMarkTracker filters memory spikes",
          "description": "HighWaterMarkTracker stores waterMarks and lastUpdateTimes per metric type, compares growth to the growthThresholdPercent threshold, updates the maximum and cleans up stale values cleanup(maxAgeMs), so MemoryMonitor writes values only for significant jumps.",
          "tags": [
            "telemetry",
            "metrics"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/high-water-mark-tracker.ts",
              "sha256": "75038c85bc3d408c0c0f2b47f774727c23503dc36201e9cb4d6bfa25d2d17e8b"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.54
        },
        {
          "id": "aspect-telemetry-common-attributes",
          "sectionId": "section-telemetry",
          "slug": "telemetry-common-attributes",
          "name": "telemetryAttributes adds session.id and email",
          "description": "telemetryAttributes.getCommonAttributes takes the sessionId from Config, InstallationManager.getInstallationId and cached email UserAccountManager, returning Attributes from user.email (if any) so that each OTEL signal has stable installation and user IDs.",
          "tags": [
            "telemetry",
            "config"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/telemetryAttributes.ts",
              "sha256": "1162682e3a3570b10db74bd1b0498d2cda54a769e0a8be25f90fa8934c912f31"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.5
        },
        {
          "id": "aspect-clearcut-event-keys",
          "sectionId": "section-telemetry",
          "slug": "clearcut-event-keys",
          "name": "EventMetadataKey synchronizes Clearcut keys",
          "description": "clearcut-logger/event-metadata-key.ts lists GEMINI_CLI_* identifiers for start events, tool calls, API responses and settings, leaves comments about ranges and next ID so that loggers use consistent values without hardcoded numbers.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/clearcut-logger/event-metadata-key.ts",
              "sha256": "850792efc27f4bb37a022c519226441135f26f95cd6626e9570559f71711e858"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.56
        },
        {
          "id": "aspect-telemetry-activity-types",
          "sectionId": "section-telemetry",
          "slug": "telemetry-activity-types",
          "name": "ActivityType captures CLI events",
          "description": "ActivityType lists user_input_start, tool_call_completed, stream_end, history_updated and other states so that telemetry-sdk and UI activity detectors use a single set of constants.",
          "tags": [
            "telemetry",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/activity-types.ts",
              "sha256": "d6032c3376b1840b99188fb9230a2c8bf8012ffbd0bf68f33a2b8cde8ebd32b4"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.42
        },
        {
          "id": "aspect-content-generator-factory",
          "slug": "content-generator-factory",
          "name": "createContentGenerator respects authentication modes",
          "description": "createContentGeneratorConfig parses the environment variables for GEMINI_API_KEY, GOOGLE_API_KEY and Vertex, and with authType LOGIN_WITH_GOOGLE/CLOUD_SHELL returns a configuration without keys, setting the proxy from Config.",
          "tags": [
            "core",
            "auth",
            "telemetry"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/contentGenerator.ts",
              "sha256": "fbb0f139ba405fa3bd4cf4b7c7c166cdf8e6a3dc177b1af05fa599a0b5f2645e"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-logging-content-generator",
          "slug": "logging-content-generator",
          "name": "LoggingContentGenerator wraps API calls",
          "description": "LoggingContentGenerator logs Gemini requests and responses via ApiRequest/ApiResponse events, flags authType, collects usageMetadata and catches errors for logApiError with classification.",
          "tags": [
            "core",
            "telemetry"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/core/loggingContentGenerator.ts",
              "sha256": "1bdc6a912d6fddc0ce8e474feb3fecd2990bf78658a858867f3ad9c1f94d57e5"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-telemetry"
        },
        {
          "id": "aspect-telemetry-constants",
          "sectionId": "section-telemetry",
          "slug": "telemetry-constants",
          "name": "SERVICE_NAME for OpenTelemetry export",
          "description": "telemetry/constants.ts sets SERVICE_NAME=gemini-cli, which is used by local and GCP exporters when building OTLP payload.",
          "tags": [
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/constants.ts",
              "sha256": "0aefc5c5eec0ed7ac1e738e67b2b193c03643093938754bcd2a664b590e501d0"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.25
        },
        {
          "id": "aspect-telemetry-index",
          "sectionId": "section-telemetry",
          "slug": "telemetry-index",
          "name": "telemetry/index exports sdk, loggers and metrics",
          "description": "telemetry/index.ts sets TelemetryTarget (local/gcp) with defaults, re-exports initializeTelemetry/shutdownTelemetry, a set of loggers, memory monitor, activity detector, metrics and OTEL enums - a single entry point for the CLI.",
          "tags": [
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/index.ts",
              "sha256": "251fc501ecb3e89a4645cfb80953e38ad70656f45fa07ea1d07973b90400e9cd"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.35
        },
        {
          "id": "aspect-telemetry-utils-language",
          "sectionId": "section-telemetry",
          "slug": "telemetry-utils-language",
          "name": "telemetry-utils maps file_path to language",
          "description": "telemetry/telemetry-utils.ts extracts the path from the tool call arguments and returns the language via getLanguageFromFilePath so that telemetry attaches the correct attributes.",
          "tags": [
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/telemetry/telemetry-utils.ts",
              "sha256": "04dd2a4208fe1869ddd84a43bcd538801311f269b55cbea328d63fdbf4db0529"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        }
      ]
    },
    {
      "id": "section-security",
      "slug": "security",
      "title": "Platform Security",
      "entries": [
        {
          "id": "aspect-trusted-folders",
          "slug": "trusted-folders",
          "name": "TrustedFolders and trust",
          "description": "trustedFolders.ts reads ~/.gemini/trustedFolders.json (strip-json-comments), supports TRUST_FOLDER/TRUST_PARENT/DO_NOT_TRUST levels, and syncs with the IDE via the ideContextStore.",
          "tags": [
            "security",
            "trust"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/trustedFolders.ts",
              "sha256": "ca29946eecc8c10df1a5fc7884d84db319dd1aefee628a458fd576f6e8187af1"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-policy-engine",
          "slug": "policy-engine",
          "name": "Tool Rules PolicyEngine",
          "description": "policy-engine.ts sorts rules by priority, supports wildcard server__* names, applies argsPattern (stable stringify) and converts ASK_USER to DENY in non-interactive mode.",
          "tags": [
            "security",
            "policy"
          ],
          "importance": 0.74,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/policy/policy-engine.ts",
              "sha256": "7c5c3ece94fc08180382e14a5b4346c7d2483cc31b65c6585b2c0523ca76ba42"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-loop-detection",
          "slug": "loop-detection",
          "name": "LoopDetectionService",
          "description": "The service monitors duplicate ToolCalls (threshold 5), analyzes the content in hash chunks, if necessary, runs an LLM check via LOOP_DETECTION_SYSTEM_PROMPT and logs LoopDetectedEvent.",
          "tags": [
            "security",
            "loop-detection"
          ],
          "importance": 0.79,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/loopDetectionService.ts",
              "sha256": "bb7cf45929c22db9e38c0fe135fb2ecaf791edfd20341c67c7ba0b78a41d86ad"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-policy-engine-config",
          "sectionId": "section-security",
          "slug": "policy-engine-config",
          "name": "PolicyEngine configuration",
          "description": "policy.ts builds PolicyEngineConfig: sets priorities ALLOW/ASK/DENY for MCP, tools.allowed/exclude, autoAccept read-only and takes into account ApprovalMode YOLO/AUTO_EDIT.",
          "tags": [
            "policy",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/policy.ts",
              "sha256": "059e8f114f9b175fa7388b5926dee3aba7b7a455b2e642e4d9fab2faa656e097"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.78
        },
        {
          "id": "aspect-shell-confirmation-dialog",
          "sectionId": "section-security",
          "slug": "shell-confirmation-dialog",
          "name": "ShellConfirmationDialog confirms commands",
          "description": "ShellConfirmationDialog.tsx displays a list of commands in a frame, renders them via RenderInline and allows you to select a ToolConfirmationOutcome: one-time or permanent permissions return approvedCommands, and esc/\"No\" sends Cancel, preventing unwanted shell launches.",
          "tags": [
            "security",
            "shell",
            "cli",
            "ink",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/ShellConfirmationDialog.tsx",
              "sha256": "a8ac486c69030b5d508b7688ba990007c90ad116688c5d4f292f27880475871f"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.74
        },
        {
          "id": "aspect-permissions-modify-trust",
          "sectionId": "section-security",
          "slug": "permissions-modify-trust",
          "name": "Dialogue for changing trust level",
          "description": "PermissionsModifyTrustDialog shows the current TrustLevel, takes into account inheritance from IDE/parent and allows you to select TRUST_FOLDER/TRUST_PARENT/DO_NOT_TRUST with CLI restart if necessary.",
          "tags": [
            "security",
            "trust",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/PermissionsModifyTrustDialog.tsx",
              "sha256": "2f126ea927957d3b3e0c85a2388c47ce9cf1e22bf89249dd5864f283a356495f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        },
        {
          "id": "aspect-user-startup-warnings",
          "slug": "user-startup-warnings",
          "name": "Checking for unsafe working dirs at startup",
          "description": "getUserStartupWarnings compares the actual workspace path and the home or root directory, returning warnings about starting in risk directories and highlighting the threat of context leaks.",
          "tags": [
            "security",
            "cli",
            "trust"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/userStartupWarnings.ts",
              "sha256": "2e8687bf102fad7d04b309e425c078d1e0307d60290223aa5cc3679ed9f9705a"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-folder-trust-hook",
          "slug": "folder-trust-hook",
          "name": "useFolderTrust synchronizes folder trust",
          "description": "useFolderTrust loads trustedFolders, tells the UI to select, adds an informational message for untrusted, and triggers a CLI restart when the trust level changes.",
          "tags": [
            "security",
            "ui",
            "trust"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/useFolderTrust.ts",
              "sha256": "33cf6806193283ce4b78de1d6f1959932495803df1c23a7aa015c738e5ab81df"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-folder-trust-dialog",
          "slug": "folder-trust-dialog",
          "name": "FolderTrustDialog triggers trust level selection",
          "description": "FolderTrustDialog.tsx shows a RadioButtonSelect with trust options for the current folder, its parent, or reject (esc), displays a theme.status.warning, and when isRestarting via setTimeout(250ms), calls relaunchApp to apply the changes.",
          "tags": [
            "security",
            "trust",
            "cli",
            "ink",
            "ui"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/components/FolderTrustDialog.tsx",
              "sha256": "93fdac6181fdeb698a22ff25bbe4d59ec6a7ce32db027a6cb6821fca2db24551"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-secure-browser-launcher",
          "slug": "secure-browser-launcher",
          "name": "SecureBrowserLauncher opens URL securely",
          "description": "secure-browser-launcher.ts before openBrowserSecurely validates URLs on http/https, runs execFile with platform-aware commands and fallback for Linux, and shouldLaunchBrowser checks BROWSER, CI and SSH/DISPLAY, which prevents injections and pointless attempts to open the browser.",
          "tags": [
            "security",
            "cli"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/secure-browser-launcher.ts",
              "sha256": "82b75cdf32739e92bf83117a50ee28a753607f3ab8b96891790fc93340306a05"
            }
          ],
          "lastUpdated": "2025-10-14",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-shell-configuration-detection",
          "slug": "shell-configuration-detection",
          "name": "getShellConfiguration selects the shell",
          "description": "getShellConfiguration reads ComSpec, distinguishes between PowerShell (returns -NoProfile/-Command) and cmd (/d /s /c), and on Unix returns bash -c, providing a uniform way to execute command lines.",
          "tags": [
            "security",
            "shell",
            "cli"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/shell-utils.ts",
              "sha256": "b397d7e9c51cd702ea2bba1dd787dddbbc58d9650aed4385df207a85c56a9ccf"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-shell-arg-escape",
          "slug": "shell-arg-escape",
          "name": "escapeShellArg escapes arguments",
          "description": "escapeShellArg wraps arguments in quotes: in PowerShell it doubles single ones, in cmd doubles, and in bash it uses shell-quote to prevent {{args}} from becoming injections.",
          "tags": [
            "security",
            "shell"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/shell-utils.ts",
              "sha256": "b397d7e9c51cd702ea2bba1dd787dddbbc58d9650aed4385df207a85c56a9ccf"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-shell-substitution-guard",
          "slug": "shell-command-substitution-guard",
          "name": "detectCommandSubstitution catches $(...) and backticks",
          "description": "detectCommandSubstitution tracks quotes, backticks and escaping character-by-character and returns true on $(), <(), >() or `` - checkCommandPermissions stops such commands before execution.",
          "tags": [
            "security",
            "shell",
            "policy"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/shell-utils.ts",
              "sha256": "b397d7e9c51cd702ea2bba1dd787dddbbc58d9650aed4385df207a85c56a9ccf"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-session-shell-allowlist",
          "slug": "session-shell-allowlist",
          "name": "Session allowlist stores approved commands",
          "description": "ShellProcessor passes sessionShellAllowlist to checkCommandPermissions and collects commands for confirmation, and useSlashCommandProcessor with ProceedAlways expands the set and restarts the command with a one-time set, saving the user from repeated confirmations.",
          "tags": [
            "security",
            "cli",
            "shell"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/services/prompt-processors/shellProcessor.ts",
              "sha256": "e8d03e64481181117ba22bbaf8828c27ad49f3dc69dcf06f6452aad9ae37b5cb"
            },
            {
              "path": "projects/GeminiCLI/packages/cli/src/ui/hooks/slashCommandProcessor.ts",
              "sha256": "671bfa8957e4aba2dc76777fda777c5f9935264df406d4d4c9e0eb1221ed4df1"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-strip-shell-wrapper",
          "slug": "strip-shell-wrapper",
          "name": "stripShellWrapper strips the command shell",
          "description": "stripShellWrapper removes wrappers like bash -c, sh -c, zsh -c or cmd.exe /c and removes outer quotes so that validation and telemetry parse the command itself.",
          "tags": [
            "security",
            "shell"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/shell-utils.ts",
              "sha256": "b397d7e9c51cd702ea2bba1dd787dddbbc58d9650aed4385df207a85c56a9ccf"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-shell-tool-noninteractive-allowlist",
          "slug": "shell-tool-noninteractive-allowlist",
          "name": "ShellTool checks allowed tools for non-interactive",
          "description": "ShellToolInvocation.shouldConfirmExecute via stripShellWrapper and parseAllowedSubcommands evaluates root commands; outside of interactivity and not in YOLO, it throws an error if the command is not allowed by --allowed-tools, otherwise it asks for confirmation and replenishes the allowlist.",
          "tags": [
            "security",
            "tools",
            "noninteractive"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/tools/shell.ts",
              "sha256": "048d147de74b01591d83e828787d058f0984eb035ddb825b01533b5fcd4f07d9"
            }
          ],
          "sectionId": "section-security",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-stable-stringify",
          "sectionId": "section-security",
          "slug": "stable-stringify",
          "name": "stableStringify gives PolicyEngine deterministic JSON",
          "description": "stableStringify sorts keys, replaces loops with \"[Circular]\", respects toJSON, and turns undefined/functions to null, so PolicyEngine compares rules against stable strings and doesn't crash on recursive arguments.",
          "tags": [
            "policy",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/policy/stable-stringify.ts",
              "sha256": "7e759f34a9570fc2207a4180df13489e0e5a39203298e83950fba096141faddb"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.76
        },
        {
          "id": "aspect-confirmation-message-bus",
          "slug": "confirmation-message-bus",
          "name": "MessageBus binds policy to confirmations",
          "description": "MessageBus checks the message structure, runs TOOL_CONFIRMATION_REQUEST through PolicyEngine and, depending on ALLOW/DENY/ASK_USER, either responds automatically or broadcasts the event to the UI.",
          "tags": [
            "core",
            "policy",
            "security"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/confirmation-bus/message-bus.ts",
              "sha256": "34ba7dadb7df7545dfad95649c86dfc813cf05e6e895d27d15bf22045e09f829"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-fallback-handler",
          "slug": "fallback-handler",
          "name": "handleFallback enables Flash fallback for OAuth",
          "description": "handleFallback checks authType LOGIN_WITH_GOOGLE, calls UI handler to resolve retry/stop/auth, enables fallbackMode in Config and logs FlashFallbackEvent for analytics.",
          "tags": [
            "core",
            "fallback",
            "security"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/fallback/handler.ts",
              "sha256": "cf2d01d9b652a54b4152f16b609b59027120855113c0cddec1530a72ebb08587"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-security"
        },
        {
          "id": "aspect-confirmation-bus-types",
          "sectionId": "section-security",
          "slug": "confirmation-bus-types",
          "name": "Event types confirmation message bus",
          "description": "confirmation-bus/types.ts captures unified MessageBusType (confirmation requests/responses, policy rejection, execution success/failure) and useful payload interfaces. These structures are used by the ToolRegistry and the UI to negotiate the confirmation pattern.",
          "tags": [
            "security",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/confirmation-bus/types.ts",
              "sha256": "45e8bf1e111b1943fff58c26fc54ce0b05b1e1bfdfc24d2195b1c812694f398e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-confirmation-bus-index",
          "sectionId": "section-security",
          "slug": "confirmation-bus-index",
          "name": "confirmation-bus/index re-exports the API",
          "description": "confirmation-bus/index.ts aggregates message-bus and types so that core/tools and UI receive a single export package. Thanks to this, @google/gemini-cli-core/index.ts can raise the entire confirmation bus in one line.",
          "tags": [
            "security",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/confirmation-bus/index.ts",
              "sha256": "de9cf885479acb7e815638ca9fec66d9f3c1aa94a67f9885f313954926702795"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.25
        },
        {
          "id": "aspect-policy-index",
          "sectionId": "section-security",
          "slug": "policy-index",
          "name": "policy/index combines engine and types",
          "description": "policy/index.ts exports policy-engine and types, which allows you to import PolicyDecision/PolicyRule from a single path and simplifies the public core API.",
          "tags": [
            "policy",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/policy/index.ts",
              "sha256": "967480fc704a04a89fb7e164b02f3e651f7dde114786f636a3488df73990f70f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-policy-types",
          "sectionId": "section-security",
          "slug": "policy-types",
          "name": "PolicyDecision and PolicyRule configure the engine",
          "description": "policy/types.ts defines an enum PolicyDecision (allow/deny/ask_user) and a PolicyRule with argsPattern, priority and a nonInteractive flag. These structures control the behavior of PolicyEngine for tool gating.",
          "tags": [
            "policy",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/policy/types.ts",
              "sha256": "23b2fb930295ef1f294bfc107e981ac75f7d2e6735c7bb61313788f46ad6c952"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-browser-launch-heuristic",
          "sectionId": "section-security",
          "slug": "browser-launch-heuristic",
          "name": "shouldAttemptBrowserLaunch filters CI/SSH environments",
          "description": "utils/browser.ts checks the BROWSER blocklist, CI/DEBIAN_FRONTEND, SSH_CONNECTION and DISPLAY/Wayland variables to decide whether to launch the browser for OAuth. This saves the CLI from trying to open the browser in headless environments.",
          "tags": [
            "auth",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/browser.ts",
              "sha256": "7938335726c5de7b27d312bbfac3b81d1ce03e4b8755881405a540fbaaf886f6"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.42
        },
        {
          "id": "aspect-fetch-utils",
          "sectionId": "section-security",
          "slug": "fetch-utils",
          "name": "fetchWithTimeout and private IPs",
          "description": "utils/fetch.ts introduces FetchError, defines private ranges and isPrivateIp to protect web-fetch, and fetchWithTimeout aborts requests and maps ABORT_ERR to ETIMEDOUT.",
          "tags": [
            "security",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/fetch.ts",
              "sha256": "472a4d46b522e8a8e15a49bce33a3bfc5f6a3d568dbdce6b68a54fe38dd3a1cd"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-quota-error-detection",
          "sectionId": "section-security",
          "slug": "quota-error-detection",
          "name": "quotaErrorDetection distinguishes between pro and generic limits",
          "description": "utils/quotaErrorDetection.ts can recognize \"Quota exceeded\" messages in StructuredError/API error/Gaxios response and separately allocates pro limits, which allows the CLI to select fallback and display the correct message.",
          "tags": [
            "core",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/quotaErrorDetection.ts",
              "sha256": "ba5a153e8e1c571696fd07cd176d57cfcbe5da93a49ce98ed6a0e4d3eb896a6c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        }
      ]
    },
    {
      "id": "section-sandbox",
      "slug": "sandbox",
      "title": "Infrastructure Sandbox",
      "entries": [
        {
          "id": "aspect-workspace-sandbox-command",
          "sectionId": "section-sandbox",
          "slug": "workspace-sandbox-command",
          "name": "sandbox_command.js selects a container",
          "description": "scripts/sandbox_command.js reads GEMINI_SANDBOX from user settings and .env, autodetect and docker/podman or macOS sandbox-exec, validates command availability and prints the selected runtime, allowing scripts to understand which sandbox is available.",
          "tags": [
            "workspace",
            "sandbox"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/sandbox_command.js",
              "sha256": "c5a6d9a2eac97dff00424be837e9c2a8180a6dd183efba572ad7b3bcb07bf350"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.64
        },
        {
          "id": "aspect-workspace-docker-sandbox",
          "sectionId": "section-sandbox",
          "slug": "workspace-docker-sandbox",
          "name": "Dockerfile builds sandbox image",
          "description": "The Dockerfile builds the image on node:20-slim, installs minimal system packages (python, g++, jq, gh, etc.), configures npm global prefix for the node user and globally installs tgz CLI/Core, specifying a reproducible sandbox with entrypoint gemini.",
          "tags": [
            "workspace",
            "sandbox",
            "build"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/Dockerfile",
              "sha256": "439d3172dc244524b349d8319f24b4ab4cd9932baa185c73af1e1be2411a2a26"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-sandbox-auth-preflight",
          "slug": "sandbox-auth-preflight",
          "name": "Checking OAuth before logging into sandbox",
          "description": "If there is a sandboxConfig, main raises a partial Config without extensions, validates the selected auth type and calls refreshAuth so that OAuth does not break in the container; an error is output and the process exits.",
          "tags": [
            "startup",
            "sandbox",
            "auth"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.7,
          "sectionId": "section-sandbox",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-sandbox-stdin-injection",
          "slug": "sandbox-stdin-injection",
          "name": "stdin is thrown into sandbox on restart",
          "description": "injectStdinIntoArgs before relaunch inserts the read stdin either into an existing --prompt, or adds a key so that when launched in a sandbox/child process the piped task is not lost.",
          "tags": [
            "startup",
            "sandbox",
            "noninteractive"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/gemini.tsx",
              "sha256": "78d921a197f93d626c39468c2741a89a1bb2db9d56b5dd983f2cbef0932b6267"
            }
          ],
          "importance": 0.52,
          "sectionId": "section-sandbox",
          "lastUpdated": "2025-10-13"
        },
        {
          "id": "aspect-sandbox-config",
          "slug": "sandbox-config",
          "name": "Sandbox command definition",
          "description": "sandboxConfig.ts checks GEMINI_SANDBOX/env, prefers sandbox-exec on macOS, otherwise docker/podman if boolean flag is given, and throws FatalSandboxError if the command is not available.",
          "tags": [
            "security",
            "sandbox"
          ],
          "importance": 0.73,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/config/sandboxConfig.ts",
              "sha256": "92449e74058d0fd333295f4d5db8e9160d4638fd5744815c178c5374f008886a"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-sandbox"
        },
        {
          "id": "aspect-sandbox-runtime",
          "sectionId": "section-sandbox",
          "slug": "sandbox-runtime",
          "name": "Launching a sandbox container",
          "description": "utils/sandbox.ts selects sandbox-exec or docker/podman, maps paths for Windows, forwards ports via socat and decides UID/GID based on SANDBOX_SET_UID_GID and distribution.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-13",
          "importance": 0.75
        },
        {
          "id": "aspect-build-sandbox",
          "slug": "build-sandbox",
          "name": "Assembling sandbox image",
          "description": "build_sandbox.js packages npm tgz for @google/gemini-cli and core, updates permissions, detects docker/podman, supports --authfile for podman on Windows and returns the final image.",
          "tags": [
            "automation",
            "sandbox",
            "build"
          ],
          "importance": 0.71,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/build_sandbox.js",
              "sha256": "bb84108f197a4e28092e9a0dbe770ffbfa4d8382c0b61facbf42a95fe3dab967"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-sandbox"
        },
        {
          "id": "aspect-sandbox-macos-permissive-open",
          "sectionId": "section-sandbox",
          "slug": "sandbox-macos-permissive-open",
          "name": "macOS permissive open profile",
          "description": "sandbox-macos-permissive-open.sb allows all operations by default, but disallows file-write* outside of TARGET/TMP/CACHE, home .gemini/.npm/.cache/.gitconfig, and the five INCLUDE_DIR_* paths, leaving the network unrestricted.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox-macos-permissive-open.sb",
              "sha256": "62369c396cf4be80eb740dd93bfda3d8487dd3fdef5a07d5e943b38ae4ed6139"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.47
        },
        {
          "id": "aspect-sandbox-macos-permissive-closed",
          "sectionId": "section-sandbox",
          "slug": "sandbox-macos-permissive-closed",
          "name": "macOS permissive closed profile",
          "description": "sandbox-macos-permissive-closed.sb preserves whitelisted entries, but blocks the network: disallows network-inbound/outbound except localhost:9229 for debugging.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox-macos-permissive-closed.sb",
              "sha256": "1b5f9ef5c1b037bb3ee7b247ffef32ec6af901346a22342f07d1032c62e83dda"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.49
        },
        {
          "id": "aspect-sandbox-macos-permissive-proxied",
          "sectionId": "section-sandbox",
          "slug": "sandbox-macos-permissive-proxied",
          "name": "macOS permissive proxied profile",
          "description": "sandbox-macos-permissive-proxied.sb routes all outbound traffic only through localhost:8877 (GEMINI_SANDBOX_PROXY_COMMAND) and leaves the network-bind right to the local proxy.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox-macos-permissive-proxied.sb",
              "sha256": "b754256ea32e23b0322ae1b15f1946be925b7e495b93f19cb11af42f05a6ad9b"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.5
        },
        {
          "id": "aspect-sandbox-macos-restrictive-proxied",
          "sectionId": "section-sandbox",
          "slug": "sandbox-macos-restrictive-proxied",
          "name": "macOS restrictive proxied profile",
          "description": "sandbox-macos-restrictive-proxied.sb starts with deny default, explicitly allows file-read*, process-fork/exec, sysctl set, limited writes and only exposes the network through proxy localhost:8877 along with debug port 9229.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox-macos-restrictive-proxied.sb",
              "sha256": "7624bfe02d84f70318f3f12efb869d07c7deb135f5d51c2b5d6b62dba498f6b4"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.58
        },
        {
          "id": "aspect-sandbox-seatbelt-include-dirs",
          "sectionId": "section-sandbox",
          "slug": "seatbelt-include-dirs",
          "name": "Seatbelt profile sandbox-exec connects workspace",
          "description": "When sandboxConfig.command === 'sandbox-exec', utils/sandbox.ts selects a profile from SEATBELT_PROFILE (by default permissive-open or a file in .gemini/settings), validates its presence and throws TARGET_DIR, TMP/HOME/CACHE, as well as up to five INCLUDE_DIR_i from workspaceContext so that seatbelt sees the necessary ones catalogues.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.66
        },
        {
          "id": "aspect-sandbox-entrypoint",
          "sectionId": "section-sandbox",
          "slug": "sandbox-entrypoint",
          "name": "Sandbox entrypoint prepares the CLI environment",
          "description": "The entrypoint function in utils/sandbox.ts translates PATH/PYTHONPATH to container paths, includes project sandbox.bashrc, raises socat for SANDBOX_PORTS and selects a command (npm run debug/start or gemini, with --inspect on DEBUG), generating 'bash -c ...' with the quoted CLI arguments.",
          "tags": [
            "sandbox",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.62
        },
        {
          "id": "aspect-sandbox-build-trigger",
          "sectionId": "section-sandbox",
          "slug": "build-sandbox-trigger",
          "name": "BUILD_SANDBOX rebuilds the sandbox image",
          "description": "With BUILD_SANDBOX, utils/sandbox.ts checks that the associated binary is used (the path contains gemini-cli/packages), and runs scripts/build_sandbox.js with the optional settings/sandbox.Dockerfile and the GEMINI_SANDBOX variable, ensuring that the image is built locally before starting the container.",
          "tags": [
            "sandbox",
            "build",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.64
        },
        {
          "id": "aspect-sandbox-run-config",
          "sectionId": "section-sandbox",
          "slug": "sandbox-run-config",
          "name": "Sandbox run mounts the working environment",
          "description": "When running docker/podman, utils/sandbox.ts adds SANDBOX_FLAGS, includes --add-host host.docker.internal, mounts the working directory, the user's .gemini/settings (creating it if necessary) and os.tmpdir, as well as the gcloud and ADC directory/file in read-only so that the container replicates the host's dev environment.",
          "tags": [
            "sandbox",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.63
        },
        {
          "id": "aspect-sandbox-extra-mounts-env",
          "sectionId": "section-sandbox",
          "slug": "sandbox-extra-mounts-env",
          "name": "Sandbox accepts custom mounts and variables",
          "description": "SANDBOX_MOUNTS in utils/sandbox.ts is parsed as from:to:opts, checks absolute paths and the existence of directories, logs mapping, and for VIRTUAL_ENV it creates settings/sandbox.venv inside the project and mounts it; SANDBOX_ENV adds key=value variables or crashes with FatalSandboxError if the format is incorrect.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.61
        },
        {
          "id": "aspect-sandbox-proxy-bridge",
          "sectionId": "section-sandbox",
          "slug": "sandbox-proxy-bridge",
          "name": "GEMINI_SANDBOX_PROXY_COMMAND proxy sandbox traffic",
          "description": "If GEMINI_SANDBOX_PROXY_COMMAND is specified, utils/sandbox.ts either raises a separate process with HTTPS_PROXY/NO_PROXY rebuild for sandbox-exec, or starts a proxy in its own container, creates gemini-cli-sandbox and gemini-cli-sandbox-proxy networks and waits for curl until 8877 so that all traffic goes through local proxy.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.65
        },
        {
          "id": "aspect-sandbox-user-mapping",
          "sectionId": "section-sandbox",
          "slug": "sandbox-user-mapping",
          "name": "Sandbox creates a user with the host UID/GID",
          "description": "shouldUseCurrentUserInSandbox reads SANDBOX_SET_UID_GID, for Debian/Ubuntu by default it turns on the mode and logs the solution, and if true sandbox starts `--user root`, adds groupadd/useradd with host UID/GID, goes to user via `su -p` and exports HOME so that the file permissions match the host.",
          "tags": [
            "sandbox",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/sandbox.ts",
              "sha256": "69d77cdeb565d6e23abce4053eb3592ddf1aefc907cad1b209301c047aa2a33d"
            }
          ],
          "lastUpdated": "2025-10-16",
          "importance": 0.68
        }
      ]
    },
    {
      "id": "section-automation",
      "slug": "automation",
      "title": "Operations Automation",
      "entries": [
        {
          "id": "aspect-build-script",
          "slug": "build-script",
          "name": "Assembly of workspaces",
          "description": "scripts/build.js pulls npm install in the absence of node_modules, runs generate and build --workspaces, then builds sandbox via sandbox_command if necessary.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.7,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/build.js",
              "sha256": "70524f121d754e0d9db49267597c74a0ac71c88f09ccb0dedb056c354a7c11fb"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-versioning",
          "slug": "versioning",
          "name": "Release versioning",
          "description": "scripts/version.js runs npm version through workspaces, updates config.sandboxImageUri, rebuilds package-lock for cli/core and keeps the process atomic.",
          "tags": [
            "automation",
            "release"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/version.js",
              "sha256": "b93043d154bbb0d45a13d0a8a9c03c20303263bf473a9cf7619490ca97a9630e"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-prepare-package",
          "slug": "prepare-package",
          "name": "Preparing packages for publication",
          "description": "prepare-package.js checks for the presence of packages/core and packages/cli and copies the README, LICENSE and .npmrc into them so that npm publications contain the required artifacts.",
          "tags": [
            "automation",
            "release"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/prepare-package.js",
              "sha256": "5e3027800cc4b0b5ac7a770315f2f80a6b627d7636728033e4e451cb7f1f1f36"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-prepare-github-release",
          "slug": "prepare-github-release",
          "name": "Publishing to GitHub registry",
          "description": "prepare-github-release.js repackages the bundle into packages/cli, rewrites .npmrc for the GitHub registry, and renames the packages to @google-gemini/* with a minimal manifest before publishing.",
          "tags": [
            "automation",
            "release"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/prepare-github-release.js",
              "sha256": "d1a6633a2b73e54f3b8b2e290b17cdfac179516706a2f78544126920b7666a1f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-check-lockfile",
          "slug": "check-lockfile",
          "name": "Validation of package-lock.json",
          "description": "check-lockfile.js goes through packages from package-lock.json, skipping workspaces, and raises an error if dependencies without resolved/integrity do not describe the registry or git/file source.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/check-lockfile.js",
              "sha256": "5c79f2cdaf29ffa0a97f97bfc182799ce54472078713ba0556ed74e923abcb09"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-check-build-status",
          "slug": "check-build-status",
          "name": "Checking if the CLI build is fresh",
          "description": "check-build-status.js compares mtime dist/.last_build with packages/cli/src sources, writes warnings to tmp/gemini-cli-warnings.txt and requires npm run build if there is a discrepancy.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/check-build-status.js",
              "sha256": "d94afb5ab89e41a89bc8972a11b9d0fc74e1e604cb07773fd604a05a2d7da188"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-generate-git-commit-info",
          "slug": "generate-git-commit-info",
          "name": "Generating git-commit.ts",
          "description": "generate-git-commit-info.js pulls git rev-parse and package.json version, creates packages/*/src/generated/git-commit.ts with GIT_COMMIT_INFO/CLI_VERSION constants for display in the CLI.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/generate-git-commit-info.js",
              "sha256": "0a25aad15ff2b569d047df9329af2ae8899b5358455692c95785042649ca9d34"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-build-package-script",
          "slug": "build-package-script",
          "name": "build_package.js builds a package from a directory",
          "description": "build_package.js makes sure it's running from packages/*, runs tsc --build, copies .md/.json/.sb via copy_files.js, and creates dist/.last_build as a fresh build marker.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/build_package.js",
              "sha256": "588f5e5b5c68b4c978d5e94aef841918832800cb9b8cab9cf01265665ba4b0d7"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-build-vscode-companion",
          "slug": "build-vscode-companion",
          "name": "build_vscode_companion builds the IDE companion",
          "description": "build_vscode_companion.js from the workspace root calls npm --workspace=gemini-cli-vscode-ide-companion run package to build the Companion package for VS Code.",
          "tags": [
            "automation",
            "ide",
            "build"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/build_vscode_companion.js",
              "sha256": "53e74506eb4e105ae7a5a49efaadfe73f57643ac0dd5e460910ff18bb094cd5f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-telemetry-runner",
          "slug": "telemetry-runner",
          "name": "telemetry.js selects the target telemetry script",
          "description": "telemetry.js reads workspace and user settings.json, accepts --target=local|gcp, validates the argument and runs local_telemetry.js or telemetry_gcp.js passing cwd.",
          "tags": [
            "automation",
            "telemetry"
          ],
          "importance": 0.57,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/telemetry.js",
              "sha256": "8da0926cadd333c49632dbdffea6fb315b106fbeeb75f5d16e2aaf284f76e952"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-cli-auto-update-handler",
          "slug": "cli-auto-update-handler",
          "name": "Auto-configuring CLI updates",
          "description": "handleAutoUpdate skips notifications when disableUpdateNag or run via npx/pnpx/bunx, concatenates the message with installationInfo, sends updateEventEmitter events and if an update command is available, launches a shell, monitors stderr and reports success or error; setUpdateHandler synchronizes UI history.",
          "tags": [
            "cli",
            "automation",
            "ui",
            "updates"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/handleAutoUpdate.ts",
              "sha256": "57b173da77f923199e1e2a34210f20dd8f05a728187a4ca146d1c45ab93b6af0"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-cli-installation-info-detection",
          "slug": "cli-installation-info-detection",
          "name": "Defining an Installation Package Manager",
          "description": "installationInfo.ts analyzes the actual path of the binary, distinguishes between git clone, npx/pnpx, Homebrew, pnpm, yarn, bun and local node_modules, returning the PackageManager, global installation flag, update command and messages taking into account disableAutoUpdate.",
          "tags": [
            "cli",
            "automation"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/installationInfo.ts",
              "sha256": "9f524b249d68f6cdffe2bb85722e88c31d23f27a6d0ec682af8dc9d3fa07d754"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-automation"
        },
        {
          "id": "aspect-bundle-copy-sb-assets",
          "slug": "bundle-copy-sb-assets",
          "name": "copy_bundle_assets copies .sb assets",
          "description": "copy_bundle_assets.js creates a bundle/ directory, finds the glob packages/**/*.sb and copies the schemas to the bundle root so that the publication contains sandbox artifacts.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.4,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/copy_bundle_assets.js",
              "sha256": "49f2e3bf843a5166bd00d0f47958e61088cb4059c3aca7f85800d6520d4b0711"
            }
          ],
          "sectionId": "section-automation",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-copy-files-dist",
          "slug": "copy-files-dist",
          "name": "copy_files moves documentation to dist",
          "description": "copy_files.js recursively copies all .md, .json and .sb from src/ to dist/src, creates directories and additionally puts examples of extensions for the cli package, saving documentation and templates in the assembly.",
          "tags": [
            "automation",
            "build"
          ],
          "importance": 0.42,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/copy_files.js",
              "sha256": "4ad77165623e2485cc1a74ec4a049c4c3dea7e63a23052b88455db2155dfbd71"
            }
          ],
          "sectionId": "section-automation",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-release-version-script",
          "slug": "release-version-script",
          "name": "get-release-version calculates the release number",
          "description": "get-release-version.js parses git tags and npm dist tags, takes into account rollback scenarios, checks for the existence of a version in npm/git/GitHub, validates the format and, if there is a conflict, increments the number, returning JSON with the releaseTag and the previous release.",
          "tags": [
            "automation",
            "release"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/get-release-version.js",
              "sha256": "e0f626b13b89b1f3ec6c313153692494910c705ca43aefe95c88954363d9eff8"
            }
          ],
          "sectionId": "section-automation",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-windows-path-test-script",
          "slug": "windows-path-test-script",
          "name": "test-windows-paths checks path normalization",
          "description": "test-windows-paths.js via path.join/resolve/normalize outputs relative and absolute paths, generates --- File --- markers, and prints the location of the script, helping to catch differences in Windows paths in tests.",
          "tags": [
            "automation",
            "testing"
          ],
          "importance": 0.35,
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/test-windows-paths.js",
              "sha256": "55148ec29f7e717d2722510479d08c26d4caa2477d1cee3dea046ed57cf8d6e4"
            }
          ],
          "sectionId": "section-automation",
          "lastUpdated": "2025-10-14"
        },
        {
          "id": "aspect-cli-lint-runner",
          "sectionId": "section-automation",
          "slug": "cli-lint-runner",
          "name": "scripts/lint.js controls actionlint, shellcheck, yamllint and Prettier",
          "description": "lint.js downloads actionlint and shellcheck binaries in TEMP_DIR, expands PATH, runs npm run lint:ci, shellcheck and yamllint, checks Prettier and runs a sensitive string scanner (gemini-<version>) against diff to repeat CI checks locally.",
          "tags": [
            "automation",
            "build"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/lint.js",
              "sha256": "b7b471d146563fcea36ee6ba9c34ec5f7e71d1745da9363eecb1205469aece56"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.66
        },
        {
          "id": "aspect-create-patch-pr",
          "sectionId": "section-automation",
          "slug": "create-patch-pr",
          "name": "create-patch-pr.js automates cherry-pick and PR for a patch",
          "description": "The script accepts commit/channel/pr via yargs, creates release/<tag>-pr-<pr> if necessary, generates hotfix/<tag>/<nextVersion>/<channel>/cherry-pick-<sha>/pr-<pr>, cherry-pick commit (including with conflicts, leaving merge commit), pushes the branch and opens PR via gh CLI, facilitating patch releases.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/releasing/create-patch-pr.js",
              "sha256": "7b2be1ff089b652c99e5d05c2466b4be42fd0120755ea38ab4adc62329481fdb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.64
        },
        {
          "id": "aspect-patch-comment",
          "sectionId": "section-automation",
          "slug": "patch-comment",
          "name": "patch-comment.js informs the original PR about the result of the release",
          "description": "patch-comment.js generates a Markdown comment via yargs/Octokit, distinguishing between success, general failure and the case of race-condition (when the release has already happened), provides links to GitHub release, npm tag and workflow run and supports test mode without API calls.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/releasing/patch-comment.js",
              "sha256": "4130a7b3abcf1af3ee81fcd91099728560fb6c0b2a1c17cf58f485444d35837e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-patch-create-comment",
          "sectionId": "section-automation",
          "slug": "patch-create-comment",
          "name": "patch-create-comment.js reacts to the result of create-patch-pr",
          "description": "The script analyzes the exit code and the create-patch-pr log: recognizes problems with GitHub App permissions, re-found branches or PRs, retrieves the hotfix-created branch, searches for PRs through the gh pr list and publishes a comment with further steps; supports test mode and dry-run modes.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/releasing/patch-create-comment.js",
              "sha256": "623a35194fd0584f267cbdb7c97d4f3e4c43617db693eb14486e425106333db7"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-patch-trigger",
          "sectionId": "section-automation",
          "slug": "patch-trigger",
          "name": "patch-trigger.js defines a channel and starts the release workflow",
          "description": "patch-trigger.js parses the name of the hotfix branch (supporting new and old formats) to determine the channel and original PR, runs gh workflow run release-patch-3-release.yml with fields type/dry_run/force_skip_tests and leaves a comment in the original PR about the start of the release.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/scripts/releasing/patch-trigger.js",
              "sha256": "40bba7b4dcd46b85fd4a2b64523fac110b17aa75eef969058ea32d0ad9260caf"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.57
        }
      ]
    },
    {
      "id": "section-testing",
      "slug": "testing",
      "title": "Quality - Testing",
      "entries": [
        {
          "id": "aspect-integration-global-setup",
          "slug": "integration-global-setup",
          "name": "Integration globalSetup",
          "description": "integration-tests/globalSetup.ts creates a temporary runDir in .integration-tests, cleans up old runs, resets NO_COLOR, reassigns HOME/USERPROFILE and GEMINI_CONFIG_DIR to runDir, sets TELEMETRY_LOG_FILE and integration mode flags, and when teardown deletes the directory if not KEEP_OUTPUT.",
          "tags": [
            "testing",
            "integration-tests"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/globalSetup.ts",
              "sha256": "21c627291a05b08e410e3e3be614e1225768f66926454c0607a5627e306b4bfe"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-vitest-config",
          "slug": "integration-vitest-config",
          "name": "Vitest e2e configuration",
          "description": "integration-tests/vitest.config.ts sets the timeout to 5 minutes, globalSetup, retry=2 and fileParallelism with a thread pool of 8-16, which sets the mode for running e2e tests.",
          "tags": [
            "testing",
            "integration-tests"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/vitest.config.ts",
              "sha256": "8b0579d0c6d83093425bdfff2a3a4b9703d90863a36e01cfca691268c0f7ec79"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-test-rig",
          "slug": "integration-test-rig",
          "name": "TestRig and environment setup",
          "description": "TestRig.setup creates a unique directory for the test, puts telemetry.log and settings with disableAutoUpdate, sandbox settings and the selected model, and _getCommandAndArgs switches the launch between node bundle/gemini.js and the installed \"gemini\" for npm releases.",
          "tags": [
            "testing",
            "integration-tests"
          ],
          "importance": 0.71,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/test-helper.ts",
              "sha256": "9cccc57f357c7f0e93dd699c30414851a086416f50d4ee6fb38afabd6b97ea2d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-interactive-run",
          "slug": "integration-interactive-run",
          "name": "Interactive e2e via node-pty",
          "description": "InteractiveRun wraps node-pty: expectText polls output via poll, type prints characters with an echo wait, sendKeys adds a delay, and expectExit sets a minute timer and returns an exit code, storing stdout for later parsing.",
          "tags": [
            "testing",
            "integration-tests"
          ],
          "importance": 0.68,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/test-helper.ts",
              "sha256": "9cccc57f357c7f0e93dd699c30414851a086416f50d4ee6fb38afabd6b97ea2d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-mcp-test-server",
          "slug": "integration-mcp-test-server",
          "name": "Test MCP server",
          "description": "TestMcpServer picks up express and StreamableHTTPServerTransport, issues a free port and connects McpServer so that integration tests run the protocol via HTTP.",
          "tags": [
            "testing",
            "mcp"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/test-mcp-server.ts",
              "sha256": "999de95f97818d63880a1cb98c361a8712ecb88c80ab1c9fa182ba65402e74a4"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-mock-command-context",
          "slug": "mock-command-context",
          "name": "CommandContext mocks for UI tests",
          "description": "createMockCommandContext builds a fully typed CommandContext: substitutes vi.fn() for the UI/logger, SessionStatsState and recursively merges overrides via DeepPartial.",
          "tags": [
            "testing",
            "ui"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/test-utils/mockCommandContext.ts",
              "sha256": "cdba24bd8319e87a75a2769b470cbf1f507361b5c5342dc0a811e3caae797bdc"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-render-with-providers",
          "slug": "render-with-providers",
          "name": "Ink render in tests",
          "description": "renderWithProviders wraps the component in Config/Settings/UI/Vim/Keypress Ink providers, recalculates mainAreaWidth via calculateMainAreaWidth and allows tests to override UIState.",
          "tags": [
            "testing",
            "ui"
          ],
          "importance": 0.63,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/test-utils/render.tsx",
              "sha256": "c08cfc334125e80042813863fc22991b28a9f3d119c87f2d796b323cf03c4643"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-vitest-custom-matchers",
          "slug": "vitest-custom-matchers",
          "name": "Vitest matcher for TextBuffer",
          "description": "customMatchers.ts registers expect.toHaveOnlyValidCharacters, which checks the TextBuffer for ANSI/Backspace and newline so that UI snapshots do not pass through with garbage characters.",
          "tags": [
            "testing",
            "ui"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/test-utils/customMatchers.ts",
              "sha256": "e942170bd8d59ceaf3de8f618558a98e11a719d95f28e6de0ef80bb6dbcbaa6f"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-test-helper",
          "slug": "integration-test-helper",
          "name": "test-helper.ts manages integration runs",
          "description": "TestRig creates a working directory in INTEGRATION_TEST_FILE_DIR, writes .gemini/settings.json with disableAutoUpdate and a local telemetry outfile, launches bundled gemini or the installed binary, filters Podman telemetry from stdout and reads tool events from telemetry.log or stdout if the file is missing.",
          "tags": [
            "testing",
            "integration-tests"
          ],
          "importance": 0.67,
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/test-helper.ts",
              "sha256": "9cccc57f357c7f0e93dd699c30414851a086416f50d4ee6fb38afabd6b97ea2d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-mock-workspace-context",
          "slug": "mock-workspace-context",
          "name": "createMockWorkspaceContext overrides WorkspaceContext",
          "description": "createMockWorkspaceContext generates a list of directories, mocks getDirectories and isPathWithinWorkspace via vi.fn, allowing tests to check access without actual files.",
          "tags": [
            "testing",
            "workspace"
          ],
          "importance": 0.5,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/test-utils/mockWorkspaceContext.ts",
              "sha256": "434ac680f1a7fabf391a22b112ba34d44db251a1a88ced06d9b15e4d48edb1a2"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-mock-tool-fixtures",
          "slug": "mock-tool-fixtures",
          "name": "MockTool and MockModifiableTool for tool tests",
          "description": "mock-tool.ts provides BaseDeclarativeTool stubs, allows you to set execute/shouldConfirmExecute and check output update and edit confirmation scripts in policy tests.",
          "tags": [
            "testing",
            "tools"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/test-utils/mock-tool.ts",
              "sha256": "358632b24438630e0ad5b63d22c3833602d31826d50c157290fcd4caddbdb78d"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-testing"
        },
        {
          "id": "aspect-integration-telemetry-test",
          "sectionId": "section-testing",
          "slug": "integration-telemetry-test",
          "name": "Telemetry integration test",
          "description": "integration-tests/telemetry.test.ts uses TestRig, runs the command and waits for the user_prompt and session.count metric events, confirming that the CLI is writing telemetry in test mode.",
          "tags": [
            "testing",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/telemetry.test.ts",
              "sha256": "3cd424e8a8069b505827954e7c9c2b40a84465832b9ae48c83f01d681815a215"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.48
        },
        {
          "id": "aspect-integration-ctrlc-exit",
          "sectionId": "section-testing",
          "slug": "integration-ctrlc-exit",
          "name": "Graceful Ctrl+C test in interactive mode",
          "description": "integration-tests/ctrl-c-exit.test.ts simulates Ctrl+C in an interactive launch, waits for the \"Press Ctrl+C again to exit\" prompt, takes into account the features of Windows (kill) and on Unix checks for a null exit and the final message, insuring the UX of the exit.",
          "tags": [
            "testing",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/ctrl-c-exit.test.ts",
              "sha256": "d4981861bd6346aeb8a6762bf023e50c86d40ab3d580868df38187a7be2fe389"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.46
        },
        {
          "id": "aspect-integration-json-output",
          "sectionId": "section-testing",
          "slug": "integration-json-output",
          "name": "JSON output mode test",
          "description": "integration-tests/json-output.test.ts checks JSON mode: successful response with stats, correct error message with enforced auth (parses JSON from stderr) and resistance to tool errors, guaranteeing the stability of the JSON API.",
          "tags": [
            "testing",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/json-output.test.ts",
              "sha256": "55cfb4c70e9d0daebcf8e5957fb1ce531454a33a1000af934bf8d7fe0f1d1002"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-integration-extensions-install",
          "sectionId": "section-testing",
          "slug": "integration-extensions-install",
          "name": "Local extension installation test",
          "description": "integration-tests/extensions-install.test.ts expands the temporary manifest, runs install/list/update/uninstall and checks the output to confirm that the CLI is managing local extensions correctly.",
          "tags": [
            "testing",
            "extensions"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/integration-tests/extensions-install.test.ts",
              "sha256": "5ecb54f4cb271b46ac57be193547273e14c40e7203ecd5c1d58662555a2f25d4"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.49
        },
        {
          "id": "aspect-create-extension-test-util",
          "sectionId": "section-testing",
          "slug": "create-extension-test-util",
          "name": "createExtension generates extension fixtures",
          "description": "test-utils/createExtension.ts creates an extension directory with config.json, optionally adds GEMINI.md or an arbitrary context file and INSTALL_METADATA so that Vitest scripts quickly pick up the extension structure without manual serialization.",
          "tags": [
            "cli",
            "extensions",
            "testing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/test-utils/createExtension.ts",
              "sha256": "209d81ac67f570344e619e286662b54436ef94601b8f0e33e175852830dfdcfd"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.43
        },
        {
          "id": "aspect-create-extension-fixture",
          "sectionId": "section-testing",
          "slug": "create-extension-fixture",
          "name": "createExtension collects the extension fixture structure",
          "description": "test-utils/createExtension.ts accepts default options (extensionsDir, name, version, mcpServers, installMetadata) and synchronously creates the extension directory. The addContextFile and contextFileName flags add GEMINI.md or an arbitrary file, and JSON configs are written via fs.writeFileSync, which makes it easier to configure Vitest scripts.",
          "tags": [
            "cli",
            "extensions",
            "integration-tests"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/test-utils/createExtension.ts",
              "sha256": "209d81ac67f570344e619e286662b54436ef94601b8f0e33e175852830dfdcfd"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.47
        },
        {
          "id": "aspect-test-utils-429",
          "sectionId": "section-testing",
          "slug": "test-utils-429",
          "name": "testUtils simulate 429 for fallback tests",
          "description": "utils/testUtils.ts allows you to enable simulate429 (by auth type and after N requests), reset the counter and disable it after fallback. createSimulated429Error generates an error with status=429.",
          "tags": [
            "testing",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/testUtils.ts",
              "sha256": "cb1a793e6e42ef5bfeb4406855121b38694c28dfa7a95e27deb4948ce3111f83"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.28
        }
      ]
    },
    {
      "id": "section-core-utils",
      "slug": "core-utils",
      "title": "Execution Core Utilities",
      "entries": [
        {
          "id": "aspect-fatal-error-taxonomy",
          "sectionId": "section-core-utils",
          "slug": "fatal-error-taxonomy",
          "name": "Fatal core errors and exit codes",
          "description": "errors.ts defines a basic FatalError with exit codes for auth/input/sandbox/turn/tool scripts, provides getErrorMessage and toFriendlyError, which turn Gaxios responses into Forbidden/Unauthorized/BadRequest so that the CLI prints clear messages and exits with predictable codes.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/errors.ts",
              "sha256": "993e93da21d76c649c6279f68b49e7d6e2b059eca7f886b93d1f0530830e20d5"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.66
        },
        {
          "id": "aspect-google-api-error-parser",
          "sectionId": "section-core-utils",
          "slug": "google-api-error-parser",
          "name": "Google Structural API Error Parser",
          "description": "parseGoogleApiError expands nested JSON/string Gaxios errors, extracts google.rpc details (QuotaFailure, RetryInfo, ErrorInfo, etc.) even from the message field and returns a single GoogleApiError object so that subsequent classifiers can parse the code and metadata.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/googleErrors.ts",
              "sha256": "b31a7581e76d4f63459403d0df1f91942a2092001f3f25d8f0bf35c40ce8939f"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.55
        },
        {
          "id": "aspect-quota-error-classifier",
          "sectionId": "section-core-utils",
          "slug": "quota-error-classifier",
          "name": "Terminal/Retryable Quota Classifier",
          "description": "classifyGoogleError goes through the details from parseGoogleApiError, translates 429 errors into TerminalQuotaError for daily limits or delay >5 minutes and into RetryableQuotaError with calculated retryDelayMs for minute ceilings, which directly controls the fallback strategy and retries.",
          "tags": [
            "core",
            "fallback"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/googleQuotaErrors.ts",
              "sha256": "c63b8bfdfe3c805e3b7f0f01d6d2273725acac58a3452b0480be4b8f904ebb50"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.72
        },
        {
          "id": "aspect-retry-with-backoff",
          "sectionId": "section-core-utils",
          "slug": "retry-with-backoff",
          "name": "retryWithBackoff switches models at 429",
          "description": "retryWithBackoff runs a function with exponential backoff and jitter, uses classifyGoogleError for Terminal/Retailable quotas, can pull onPersistent429 to activate the fallback model and restart attempts, and also checks shouldRetryOnContent for streaming responses.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/retry.ts",
              "sha256": "df8ca8ab061e6ed8f830ab9d9246bdc8fbd2c605aec8a1e84baa8b8a01e4b6d4"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.74
        },
        {
          "id": "aspect-error-reporting-export",
          "sectionId": "section-core-utils",
          "slug": "error-reporting-export",
          "name": "reportError saves JSON reports",
          "description": "reportError generates a report gemini-client-error-<type>-<timestamp>.json in tmp, serializes error/context, makes a backup when stringify crashes (for example due to BigInt), and if FS is unavailable, logs the minimum version so that the engineer always receives a link or at least a log about the failure.",
          "tags": [
            "core",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/errorReporting.ts",
              "sha256": "78a8f367c8ea7341dba36b3b4ab92cb76689943786f086d1da460747af6d7057"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.5
        },
        {
          "id": "aspect-schema-validator",
          "sectionId": "section-core-utils",
          "slug": "schema-validator",
          "name": "SchemaValidator validates JSON schemas",
          "description": "SchemaValidator creates an Ajv with strictSchema=false, connects ajv-formats and through validate(schema, data) returns a human-readable error instead of an exception, so the CLI can validate the parameters of custom commands and settings before running.",
          "tags": [
            "config",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/schemaValidator.ts",
              "sha256": "23cc02e30b8ecce5de816d5d3327c54cdb291b7d6cfaf0e64cdfa1b9557fabb7"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.52
        },
        {
          "id": "aspect-cli-relaunch-exit-code",
          "sectionId": "section-core-utils",
          "slug": "cli-relaunch-exit-code",
          "name": "processUtils sets the exit code to restart the CLI",
          "description": "processUtils.ts declares the constant RELAUNCH_EXIT_CODE = 42 and implements relaunchApp(), which waits for runExitCleanup() before calling process.exit. This way, the parent process can restart the CLI with special code without disrupting the order in which the cleanups complete.",
          "tags": [
            "cli",
            "execution",
            "startup"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/processUtils.ts",
              "sha256": "7be66cf02f85463c86ca4d899323c00ddf3939be423e9c84f8ea1d9221eddc73"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.5
        },
        {
          "id": "aspect-installation-manager",
          "sectionId": "section-core-utils",
          "slug": "installation-manager",
          "name": "InstallationManager stores installationId in Storage",
          "description": "utils/installationManager.ts reads/creates the UUID in the Storage.getInstallationIdPath() file, creates a directory if necessary and returns the constant 123456789 in case of errors so as not to break anonymous metrics.",
          "tags": [
            "core",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/installationManager.ts",
              "sha256": "672ee62bc26289f6733a200d6d53459fab72b1cf7b81e8dc6584b02eaf947666"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-assume-exhaustive",
          "sectionId": "section-core-utils",
          "slug": "assume-exhaustive",
          "name": "assumeExhaustive and checkExhaustive protect the switch from new cases",
          "description": "checks.ts exports assumeExhaustive (helps TypeScript identify missing branches) and checkExhaustive which throws an Error with a message `unexpected value`, so unexpected enum values show up instantly at runtime.",
          "tags": [
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/checks.ts",
              "sha256": "21a181024fd7f692d2e064f2b60258d1dd556c5b428622dd23bff7e8850d1cef"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        }
      ]
    },
    {
      "id": "section-core-fs-utils",
      "slug": "core-fs-utils",
      "title": "Execution File Utilities",
      "entries": [
        {
          "id": "aspect-path-corrector",
          "sectionId": "section-core-fs-utils",
          "slug": "path-corrector",
          "name": "correctPath looks for the path in the workspace",
          "description": "correctPath first checks the direct path from targetDir, then looks for matches in all WorkspaceContext and FileSystemService directories; if there are several or none files, it returns an understandable error, otherwise it gives the absolute path for further loading.",
          "tags": [
            "core",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/pathCorrector.ts",
              "sha256": "42fdd626d8635ef74b1ab09b097b944b6e5491a6c8fda254ea8e8e0e12c46ac2"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.62
        },
        {
          "id": "aspect-workspace-path-reader",
          "sectionId": "section-core-fs-utils",
          "slug": "workspace-path-reader",
          "name": "readPathFromWorkspace reads directories",
          "description": "readPathFromWorkspace validates that the path is within the workspace, supports single files and recursive directories via glob, filters .gitignore/.geminiignore, and builds PartUnion with the start/end markup of each file so that LLM gets the full context.",
          "tags": [
            "core",
            "filesystem",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/pathReader.ts",
              "sha256": "3ebadd419e24428303dadaa20c72b0de91bd7ff2d090db27ab74a851ddcd9b24"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.7
        },
        {
          "id": "aspect-file-utils-bom-reader",
          "sectionId": "section-core-fs-utils",
          "slug": "file-utils-bom-reader",
          "name": "fileUtils reads files based on BOM",
          "description": "fileUtils.ts through detectBOM and readFileWithEncoding recognizes UTF-8/16/32 and removes BOM, isBinaryFile combines null byte checking and fraction of non-printables, and processSingleFileContent limits to 20 MB, distinguishes between svg/binary and returns a structured result for read_many_files.",
          "tags": [
            "filesystem",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/fileUtils.ts",
              "sha256": "d2a361d2adec6812761c4f7df1f14aec0cf8957bc6f3e35b3ae5199a23d06bd8"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.66
        },
        {
          "id": "aspect-path-utilities",
          "sectionId": "section-core-fs-utils",
          "slug": "path-utilities",
          "name": "paths.ts normalizes and escapes paths",
          "description": "paths.ts provides tildeifyPath, shortenPath and makeRelative, escapePath/unescapePath for safe display in the terminal, and Windows case-sensitive getProjectHash and isSubpath so that the UI and sandbox get canonical workspace paths.",
          "tags": [
            "filesystem",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/paths.ts",
              "sha256": "efa7df52ef8f67374673074be410935dca9151f967a75ce3b9b5107ee0d9f80e"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.45
        },
        {
          "id": "aspect-git-repo-detection",
          "sectionId": "section-core-fs-utils",
          "slug": "git-repo-detection",
          "name": "gitUtils finds the root of the repository",
          "description": "gitUtils.isGitRepository and findGitRoot climb directories, check .git as a directory or worktree file, handle filesystem errors, and return null/false, helping WorkspaceContext and memoryDiscovery understand project boundaries without calling git.",
          "tags": [
            "workspace",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/gitUtils.ts",
              "sha256": "28700fdb9c3ca7ddb9779a9f27255db23f3d85f89b6306742dc84a8321567af0"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.47
        },
        {
          "id": "aspect-filesearch-crawler",
          "sectionId": "section-core-fs-utils",
          "slug": "filesearch-crawler",
          "name": "file crawlsearcher caches crawl results",
          "description": "filesearch/crawler.ts creates a fdir with a Unix delimiter and an Ignore directory filter, returns relative paths to cwd and, with cache enabled, uses fingerprint ignore + maxDepth as a key to read/write results to crawlCache with TTL.",
          "tags": [
            "core",
            "filesystem",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/crawler.ts",
              "sha256": "4d87f929eb7acb938ccefa12ed0bf84af4febb2ca3134c361528e18c8d95a686"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.61
        },
        {
          "id": "aspect-filesearch-posix-normalization",
          "sectionId": "section-core-fs-utils",
          "slug": "filesearch-posix-normalization",
          "name": "crawler normalizes paths and respects maxDepth/ignore",
          "description": "filesearch/crawler.ts translates the cwd and crawl directive into POSIX delimiters so that fdir and path.posix produce stable relative paths. Directories are filtered via ignore.getDirectoryFilter(), if a maxDepth is present it is applied to the scanner, and read errors like a missing folder result in an empty list being returned instead of an exception.",
          "tags": [
            "core",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/crawler.ts",
              "sha256": "4d87f929eb7acb938ccefa12ed0bf84af4febb2ca3134c361528e18c8d95a686"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.52
        },
        {
          "id": "aspect-system-encoding",
          "sectionId": "section-core-fs-utils",
          "slug": "system-encoding",
          "name": "systemEncoding caches the encoding definition",
          "description": "systemEncoding.ts caches the result of getSystemEncoding: on Windows it parses chcp and maps the code page, on Unix it reads LC_ALL/LC_CTYPE/LANG or locale charmap, and if it fails, it uses chardetDetect(buffer); getCachedEncodingForBuffer reuses the found encoding and allows you to reset it in tests.",
          "tags": [
            "core",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/systemEncoding.ts",
              "sha256": "8c798f7c048de14d589ce63786b03b0495e6b2d506ac6fe07dfc580aa676af6b"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.58
        },
        {
          "id": "aspect-file-discovery",
          "slug": "file-discovery",
          "name": "FileDiscoveryService",
          "description": "FileDiscoveryService initializes GitIgnoreParser and GeminiIgnoreParser, applies the respectGitIgnore/respectGeminiIgnore filters, and produces a report with counters of filtered files.",
          "tags": [
            "filesystem",
            "core"
          ],
          "importance": 0.69,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/fileDiscoveryService.ts",
              "sha256": "ec24a90b9c1670e91cde81442b433142b40af54bf82c0cf1106bb3725637a80a"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core-fs-utils"
        },
        {
          "id": "aspect-file-system-service",
          "slug": "file-system-service",
          "name": "FileSystemService abstracts read/write and lookup",
          "description": "StandardFileSystemService implements FileSystemService, reads and writes UTF-8 files and uses globSync to look for name matches across multiple directories, giving a single layer for tooling.",
          "tags": [
            "core",
            "filesystem"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/fileSystemService.ts",
              "sha256": "aa37bf1db5a56af4c0f130da1f4b7a602c20c725938046478dab18041852f2d1"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core-fs-utils"
        },
        {
          "id": "aspect-git-checkpointing-service",
          "slug": "git-checkpointing-service",
          "name": "GitService and checkpoints",
          "description": "GitService initializes a hidden repository in the storage history dir, registers a separate .gitconfig, mirrors .gitignore and creates/restores checkpoint commits through shadowGitRepository.",
          "tags": [
            "core",
            "filesystem"
          ],
          "importance": 0.72,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/services/gitService.ts",
              "sha256": "6fb2f666d705f1d6c2b2a9165037bbe248cbcda9862f3e46f354e8ba7d02790c"
            }
          ],
          "lastUpdated": "2025-10-13",
          "sectionId": "section-core-fs-utils"
        },
        {
          "id": "aspect-filesearch-crawl-cache",
          "sectionId": "section-core-fs-utils",
          "slug": "filesearch-crawl-cache",
          "name": "crawlCache TTL caches file crawling",
          "description": "utils/filesearch/crawlCache.ts stores crawl results in Map+timers, the key is built by directory, ignore content and depth. This speeds up repeated requests to the FileDiscoveryService.",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/crawlCache.ts",
              "sha256": "5c2e39f59e588046cd9f736f2e936417124cd2eeeaa432c52b722754f0ffcec4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.44
        },
        {
          "id": "aspect-filesearch-ignore",
          "sectionId": "section-core-fs-utils",
          "slug": "filesearch-ignore",
          "name": "Ignore.add separates directory and file rules",
          "description": "utils/filesearch/ignore.ts loads .gitignore/.geminiignore, adds directives, distinguishes between patterns with/without slashes and stores fingerprint. getDirectoryFilter and getFileFilter optimize traversal.",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/ignore.ts",
              "sha256": "50b3645cdbd33db428c1d2e749c6fb1cb50f5516b2fdc7bb379cbc68de8eb58d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-filesearch-result-cache",
          "sectionId": "section-core-fs-utils",
          "slug": "filesearch-result-cache",
          "name": "ResultCache reuses prefix queries",
          "description": "utils/filesearch/result-cache.ts stores the results of a query and selects the longest prefix so that subsequent queries start with a subset of files (for example, \"foo\" -> \"foobar\").",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/filesearch/result-cache.ts",
              "sha256": "8b8fd77115d18e1a70172e6b192229ac6d903a09f5db708fd19627acff820ccb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.42
        },
        {
          "id": "aspect-gemini-ignore-parser",
          "sectionId": "section-core-fs-utils",
          "slug": "gemini-ignore-parser",
          "name": "GeminiIgnoreParser reads .geminiignore and normalizes paths",
          "description": "utils/geminiIgnoreParser.ts loads .geminiignore, filters comments, normalizes paths (actually into unix format) and checks project affiliation. Returns isIgnored and a list of patterns.",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/geminiIgnoreParser.ts",
              "sha256": "b37c8f6d77fb0a6140de32410fba610513043489b1f29e5083be631775cd57a9"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-get-folder-structure",
          "sectionId": "section-core-fs-utils",
          "slug": "get-folder-structure",
          "name": "getFolderStructure builds a BFS directory tree",
          "description": "utils/getFolderStructure.ts traverses the directory width with a limit of 200 elements, respects DEFAULT_FILE_FILTERING_OPTIONS and FileDiscoveryService, sets the hasMoreFiles/hasMoreSubfolders flags and ignores node_modules/.git.",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/getFolderStructure.ts",
              "sha256": "dd100cf9e43e40795c01670d2b6160138d92e920f57a5372b552cbef38068977"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.52
        },
        {
          "id": "aspect-git-ignore-parser",
          "sectionId": "section-core-fs-utils",
          "slug": "git-ignore-parser",
          "name": "GitIgnoreParser supports nested .gitignores",
          "description": "utils/gitIgnoreParser.ts caches patterns per directory, takes into account .git/info/exclude and rewrites relative paths for nested .gitignores, preventing them from going outside the project.",
          "tags": [
            "filesystem",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/gitIgnoreParser.ts",
              "sha256": "e07e0e2398034e3ca113f1a9b9dce42a52ed660825ac6ec7f2de2f50cffc93f6"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-resolve-path",
          "sectionId": "section-core-fs-utils",
          "slug": "resolve-path",
          "name": "resolvePath normalizes user paths",
          "description": "resolvePath extends %USERPROFILE% and ~ to os.homedir(), returns an empty string for empty input, and normalizes the result via path.normalize so CLI commands get consistent absolute paths on all platforms.",
          "tags": [
            "core",
            "filesystem",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/cli/src/utils/resolvePath.ts",
              "sha256": "94fedfd5aea0e9aece2a6d58a46a273636422509acb5ff1cad6b2a29efee0730"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.37
        },
        {
          "id": "aspect-download-ripgrep",
          "sectionId": "section-core-fs-utils",
          "slug": "download-ripgrep",
          "name": "downloadRipGrep downloads and unpacks a suitable ripgrep binary",
          "description": "downloadRipGrep.js determines the target by platform and architecture, downloads the archive from microsoft/ripgrep-prebuilt into the XDG cache, unpacks it via tar or extract-zip and puts the binary in third_party/get-ripgrep/bin so that the CLI can use ripgrep outside of npm dependencies.",
          "tags": [
            "filesystem",
            "tools",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/third_party/get-ripgrep/src/downloadRipGrep.js",
              "sha256": "a27ce412bc7a1f768facae64307f7171f3e193f889cce8b427243dce4f966a80"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.48
        },
        {
          "id": "aspect-ripgrep-binary-path",
          "sectionId": "section-core-fs-utils",
          "slug": "ripgrep-binary-path",
          "name": "rgPath returns the path to the downloaded ripgrep binary",
          "description": "index.js from third_party/get-ripgrep generates the path to bin/rg based on the platform (adding the .exe on Windows) so that the rest of the CLI can call ripgrep directly after downloading.",
          "tags": [
            "filesystem",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/third_party/get-ripgrep/src/index.js",
              "sha256": "8c33092c03d4c3d7437163177375d35b1bccd3cf8d71e0ced85dc97cd76edd82"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.32
        }
      ]
    },
    {
      "id": "section-core-data-utils",
      "slug": "core-data-utils",
      "title": "Execution Caches and Serialization",
      "entries": [
        {
          "id": "aspect-structured-response-utils",
          "sectionId": "section-core-data-utils",
          "slug": "structured-response-utils",
          "name": "Structured response assembly utilities",
          "description": "generateContentResponseUtilities.ts pulls text, FunctionCall and JSON from the GenerateContentResponse and Part lists, concatenates them into a string for the CLI, allowing combined responses to be displayed consistently and tool calls to be logged.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/generateContentResponseUtilities.ts",
              "sha256": "b507334823ad9af23b65524c1903bc0d0636e02ccf518a30fca726f95f7c52f0"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.46
        },
        {
          "id": "aspect-tool-output-summarizer",
          "sectionId": "section-core-data-utils",
          "slug": "tool-output-summarizer",
          "name": "summarizeToolOutput compresses tool results",
          "description": "summarizer.ts gives defaultSummarizer (just JSON) and llmSummarizer, which, with long output, generates a prompt with rules, calls GeminiClient on Flash Lite and returns a shortened text or the original result in case of an error, saving the trace in the logs.",
          "tags": [
            "core",
            "tools",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/summarizer.ts",
              "sha256": "e372187520e778cd674c9035b5372743af9492e51169104e4add77d8259351bd"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.58
        },
        {
          "id": "aspect-lru-cache",
          "sectionId": "section-core-data-utils",
          "slug": "lru-cache",
          "name": "LruCache limits cache size",
          "description": "LruCache<K, V> stores data in a Map, wraps the key to the end on get, and removes the oldest one when maxSize is reached, allowing additional infrastructure services to limit memory without third-party dependencies.",
          "tags": [
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/LruCache.ts",
              "sha256": "d1999f9d3c64fc43a800f45896c9445efffc94ed69380548485a9a6a2387b409"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.32
        },
        {
          "id": "aspect-safe-json-stringify",
          "sectionId": "section-core-data-utils",
          "slug": "safe-json-stringify",
          "name": "safeJsonStringify hides circular references",
          "description": "safeJsonStringify uses WeakSet to track objects and replaces repeated references with the string '[Circular]', which protects logs and telemetry from failures when serializing structures with loops.",
          "tags": [
            "core",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/safeJsonStringify.ts",
              "sha256": "ce451dc3c6d60fb4af7510591e75db442b0119d2916b95ab2f8edaed70e4dade"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.34
        },
        {
          "id": "aspect-terminal-serializer",
          "sectionId": "section-core-data-utils",
          "slug": "terminal-serializer",
          "name": "serializeTerminalToObject generates ANSI tokens",
          "description": "terminalSerializer.ts, through the Cell helper class, bypasses the @xterm/headless buffer, groups characters with the same attributes, converts color palettes and RGB to hex, and marks the cursor inverse, allowing history and logs to save exact snapshots of the terminal.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/terminalSerializer.ts",
              "sha256": "33ab9274b80f37772f4f93fc49d9b295feb74748e0460993ef2ed1dd46dbe78d"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.55
        },
        {
          "id": "aspect-thought-parser",
          "sectionId": "section-core-data-utils",
          "slug": "thought-parser",
          "name": "parseThought structures thoughts",
          "description": "parseThought looks for the first occurrence of '**...**' as subject, the rest of the text returns description and neatly falls back to the whole line if there are no markers, allowing summaries of the model's thoughts to be displayed in the story.",
          "tags": [
            "memory",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/thoughtUtils.ts",
              "sha256": "2d35679cf73ff5aaf388271e50387b5d854a006b492e50af470ea2eef925a756"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.36
        },
        {
          "id": "aspect-user-account-cache",
          "sectionId": "section-core-data-utils",
          "slug": "user-account-cache",
          "name": "UserAccountManager caches Google mails",
          "description": "UserAccountManager reads Storage.getGoogleAccountsPath(), filters corrupted JSON to {active:null, old:[]}, moves the previous active to old when cacheGoogleAccount and is able to clear/count accounts so that authorization and telemetry know the last user.",
          "tags": [
            "auth",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/userAccountManager.ts",
              "sha256": "5b1a6f3f28ee078709b2ecac033bca10f8094cfa7745b9b145960114768ed554"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.57
        },
        {
          "id": "aspect-safe-literal-replace",
          "sectionId": "section-core-data-utils",
          "slug": "safe-literal-replace",
          "name": "textUtils avoids wildcard substitutions",
          "description": "safeLiteralReplace checks for '$' and escapes them as '$$$$', and isBinary parses the first bytes of the buffer to NUL, so text post-processors don't expose wildcard substitutions and can quickly filter out binary data.",
          "tags": [
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/textUtils.ts",
              "sha256": "8f56b06ad589afff19779d3e430bead48ebe3dc3f2293184c6784fc5c7ded160"
            }
          ],
          "lastUpdated": "2025-10-15",
          "importance": 0.3
        },
        {
          "id": "aspect-json-formatter",
          "sectionId": "section-core-data-utils",
          "slug": "json-formatter",
          "name": "JsonFormatter generates JSON output mode",
          "description": "JsonFormatter removes ANSI via stripAnsi, includes SessionMetrics and JsonError as needed, and formatError adds type/message/code, providing a stable JSON API for non-interactive mode clients.",
          "tags": [
            "core",
            "execution"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/output/json-formatter.ts",
              "sha256": "802c44b6eadcc6dbcb7270cc9ad17339b876f07792e8e4f970cb32a4bb5dd3b3"
            }
          ],
          "lastUpdated": "2025-10-14",
          "importance": 0.63
        },
        {
          "id": "aspect-stream-json-formatter",
          "sectionId": "section-core-data-utils",
          "slug": "stream-json-formatter",
          "name": "StreamJsonFormatter outputs JSONL and aggregates metrics",
          "description": "output/stream-json-formatter.ts serializes JsonStreamEvent to JSONL, writes them to stdout and converts SessionMetrics to StreamStats (total/input/output tokens, duration, tool_calls) for streaming CLI mode.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/output/stream-json-formatter.ts",
              "sha256": "88d8c2f4b7acb4c282b286fe63b3d5ce297ce0325472ca7a5d9fae56cde850f8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-output-types",
          "sectionId": "section-core-data-utils",
          "slug": "output-types",
          "name": "JsonStreamEventType describes the stream-json contract",
          "description": "output/types.ts introduces OutputFormat, JsonOutput, and INIT/MESSAGE/TOOL_USE/RESULT/ERROR event types with stats and tool_calls fields. These contracts consume the stream-json formatter and external integrations.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/output/types.ts",
              "sha256": "77e1075a8bf9a97b4ce1bbdb7f244b08bb40da8d51199cd3b1584b94871eb74f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-formatters-memory",
          "sectionId": "section-core-data-utils",
          "slug": "formatters-memory",
          "name": "formatMemoryUsage formats bytes into human-readable form",
          "description": "utils/formatters.ts converts bytes to KB/MB/GB (accurate to 0.1/0.01) and provides bytesToMB; used by telemetry and CLI charts.",
          "tags": [
            "telemetry",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/formatters.ts",
              "sha256": "41603ddab4924434714a08f793a0a58031d1b298af6794324d041e9205f940cb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-language-detection",
          "sectionId": "section-core-data-utils",
          "slug": "language-detection",
          "name": "getLanguageFromFilePath by extension",
          "description": "utils/language-detection.ts contains a map of extensions -> human-readable language (JS, Python, YAML, Dockerfile, GraphQL, etc.) and uses the basename for dot files. Serves as a helper function for telemetry and Tools.",
          "tags": [
            "core",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/language-detection.ts",
              "sha256": "15cae8d1f074007d9ac4e485fe13f98a955bfddb4267e950f190b1a169485d75"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.4
        },
        {
          "id": "aspect-llm-edit-fixer",
          "sectionId": "section-core-data-utils",
          "slug": "llm-edit-fixer",
          "name": "FixLLMEditWithInstruction fixes failed search/replace",
          "description": "utils/llm-edit-fixer.ts generates a system prompt, caches the results in LruCache(50), calls BaseLlmClient.generateJson with the gemini-2.5-flash model and schema SearchReplaceEdit. Provides an explanation and a noChangesRequired flag.",
          "tags": [
            "editing",
            "core"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/llm-edit-fixer.ts",
              "sha256": "7c8c0bc4092baf6bb0f9fc2932e067ef16e1c17b02c0b1426ed06ee1934d180e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-part-utils",
          "sectionId": "section-core-data-utils",
          "slug": "part-utils",
          "name": "partUtils converts PartListUnion",
          "description": "utils/partUtils.ts implements partToString (with verbose thoughts/code markers), getResponseText, flatMapTextParts and appendToLastTextPart - the basis for formatting prompts and parsing responses.",
          "tags": [
            "core",
            "streaming"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/core/src/utils/partUtils.ts",
              "sha256": "da2a10f3d405bf958a0a0a321b01b77e944f6ad9caf15b7a8193dc0852bf901f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.46
        }
      ]
    },
    {
      "id": "section-a2a-server",
      "slug": "a2a-server",
      "title": "Integrations A2A server",
      "entries": [
        {
          "id": "aspect-a2a-agent-card",
          "slug": "a2a-agent-card",
          "name": "AgentCard publishes Gemini SDLC Agent profile",
          "description": "app.ts describes the coderAgentCard: name, version, code_generation skills and includes updateCoderAgentCardUrl to substitute the current port so that /.well-known/agent-card.json always produces a valid server URL.",
          "tags": [
            "integrations",
            "agents"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/app.ts",
              "sha256": "68a85a0bcae971d69629b252dc1ee0311693c00fe360e701305acd5fafc25565"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-task-store-selection",
          "slug": "a2a-task-store-selection",
          "name": "createApp selects TaskStore and enables NoOp proxy",
          "description": "createApp reads GCS_BUCKET_NAME: if present, uses GCSTaskStore for executor and NoOpTaskStore for handler, otherwise expands InMemoryTaskStore. This makes it possible to save tasks in GCS without duplicate entries from the HTTP handler.",
          "tags": [
            "integrations",
            "agents",
            "automation"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/app.ts",
              "sha256": "68a85a0bcae971d69629b252dc1ee0311693c00fe360e701305acd5fafc25565"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-post-tasks",
          "slug": "a2a-post-tasks",
          "name": "POST /tasks creates a task and saves the SDKTask",
          "description": "The /tasks endpoint generates taskId/contextId via uuidv4, collects agentSettings from the body, calls CoderAgentExecutor.createTask and saves toSDKTask to the selected TaskStore; if there is an error, it logs and returns JSON { error } with code 500.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "importance": 0.66,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/app.ts",
              "sha256": "68a85a0bcae971d69629b252dc1ee0311693c00fe360e701305acd5fafc25565"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-metadata-endpoints",
          "slug": "a2a-metadata-endpoints",
          "name": "Endpoints /tasks/metadata return task state",
          "description": "GET /tasks/metadata checks that the TaskStore is InMemoryTaskStore and streams getMetadata for all TaskWrappers; GET /tasks/:taskId/metadata loads a task from TaskStore via reconstruct and returns metadata or 404.",
          "tags": [
            "integrations",
            "agents",
            "observability"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/app.ts",
              "sha256": "68a85a0bcae971d69629b252dc1ee0311693c00fe360e701305acd5fafc25565"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-main-startup",
          "slug": "a2a-main-startup",
          "name": "main starts the server and updates the AgentCard URL",
          "description": "main() calls createApp and listen on CODER_AGENT_PORT (0 by default), pulls the actual port from server.address(), updates the AgentCard, and logs human-readable card/health addresses; errors lead to logger.error and process.exit(1).",
          "tags": [
            "integrations",
            "startup",
            "agents"
          ],
          "importance": 0.57,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/app.ts",
              "sha256": "68a85a0bcae971d69629b252dc1ee0311693c00fe360e701305acd5fafc25565"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-request-storage",
          "slug": "a2a-request-storage",
          "name": "AsyncLocalStorage stores the original Express request",
          "description": "requestStorage wraps handlers through AsyncLocalStorage.run({req}, next) so that the Executor can receive a raw socket connection and cancel the task if the client breaks the connection.",
          "tags": [
            "integrations",
            "execution"
          ],
          "importance": 0.54,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/requestStorage.ts",
              "sha256": "47c5c05adcd30ec643782df7e4b19f0ced94138cafbe05c3e5ca234deaafb1e0"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-server-guard",
          "slug": "a2a-server-guard",
          "name": "server.ts wraps main with error handlers",
          "description": "When run directly, server.ts compares argv and import.meta.url, subscribes to uncaughtException and exits with code 1, and catches unhandled errors from main().",
          "tags": [
            "integrations",
            "execution",
            "observability"
          ],
          "importance": 0.52,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/http/server.ts",
              "sha256": "7cd56558fda61b653929ab7a4ddcf6d7eaba9d57328e1ccdc8f98817a9e5f49b"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-config-auth",
          "slug": "a2a-config-auth",
          "name": "loadConfig configures agent authentication",
          "description": "loadConfig selects ApprovalMode by GEMINI_YOLO_MODE, builds ConfigParameters and calls refreshAuth: for USE_CCPA -> LOGIN_WITH_GOOGLE, for GEMINI_API_KEY -> USE_GEMINI, otherwise logs an error and throws an exception.",
          "tags": [
            "integrations",
            "config",
            "auth"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/config.ts",
              "sha256": "947d8a1e09be04cd676e3420b5bdd8b6eb4f8129d32e336c62c76af6d46507ca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-config-memory",
          "slug": "a2a-config-memory",
          "name": "loadConfig loads server memory and GEMINI.md",
          "description": "ConfigParameters are complemented by userMemory and a file counter via loadServerHierarchicalMemory(workspaceDir,[workspaceDir],false,...), which allows the agent to inherit .gemini context and extension memory.",
          "tags": [
            "integrations",
            "config",
            "memory"
          ],
          "importance": 0.62,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/config.ts",
              "sha256": "947d8a1e09be04cd676e3420b5bdd8b6eb4f8129d32e336c62c76af6d46507ca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-config-target-dir",
          "slug": "a2a-config-target-dir",
          "name": "setTargetDir switches the agent's workspace",
          "description": "setTargetDir looks at CODER_AGENT_WORKSPACE_PATH or workspacePath from AgentSettings, does chdir and logs the path; in case of error, returns the original cwd so that the agent does not crash.",
          "tags": [
            "integrations",
            "config",
            "workspace"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/config.ts",
              "sha256": "947d8a1e09be04cd676e3420b5bdd8b6eb4f8129d32e336c62c76af6d46507ca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-config-env",
          "slug": "a2a-config-env",
          "name": "loadEnvironment looks for .env starting from GEMINI_DIR",
          "description": "loadEnvironment looks for .env, preferring <cwd>/.gemini/.env, then .env in the ascending directory, and finally checks .gemini/.env next to the current project and home ~/.env, using dotenv.config with override=true.",
          "tags": [
            "integrations",
            "config",
            "startup"
          ],
          "importance": 0.56,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/config.ts",
              "sha256": "947d8a1e09be04cd676e3420b5bdd8b6eb4f8129d32e336c62c76af6d46507ca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-config-merge-mcp",
          "slug": "a2a-config-merge-mcp",
          "name": "mergeMcpServers merges extension configs",
          "description": "mergeMcpServers copies mcpServers from settings and extensions, skipping duplicates with the same key, allowing extensions to supply new MCPs without overwriting user values.",
          "tags": [
            "integrations",
            "config",
            "mcp"
          ],
          "importance": 0.55,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/config.ts",
              "sha256": "947d8a1e09be04cd676e3420b5bdd8b6eb4f8129d32e336c62c76af6d46507ca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-settings-merge",
          "slug": "a2a-settings-merge",
          "name": "loadSettings combines user and workspace settings",
          "description": "loadSettings reads ~/.gemini/settings.json and <workspace>/.gemini/settings.json, removes comments, expands $ENV variables and logs path errors, then returns the merged object.",
          "tags": [
            "integrations",
            "config",
            "settings"
          ],
          "importance": 0.6,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/settings.ts",
              "sha256": "f09d8e49fb05b8705038d07eef29ad693989989c59efc0d8eee9a19841dcd539"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-extensions-loader",
          "slug": "a2a-extensions-loader",
          "name": "loadExtensions connects .gemini/extensions from workspace and home",
          "description": "extension.ts scans .gemini/extensions in the project and home directory, validates gemini-extension.json, loads contextFiles and install metadata, warns about errors and deduplicates extensions by name.",
          "tags": [
            "integrations",
            "config",
            "extensions"
          ],
          "importance": 0.58,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/config/extension.ts",
              "sha256": "d5eea4f67cfb2f1265118c091218318e909c13009ddd7d16fc93b30586285a65"
            }
          ],
          "lastUpdated": "2025-10-20",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-gcs-init",
          "slug": "a2a-gcs-init",
          "name": "GCSTaskStore initializes the bucket at startup",
          "description": "GCSTaskStore.initializeBucket enumerates existing buckets via @google-cloud/storage and creates a new one if not found; creation/initialization errors are turned into exceptions to prevent the agent from working with unverified storage.",
          "tags": [
            "integrations",
            "automation"
          ],
          "importance": 0.59,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/persistence/gcs.ts",
              "sha256": "959babfac02c03937564c31834ffbdadd04c33e6acf8bb8243abf36e6151080c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-gcs-save",
          "slug": "a2a-gcs-save",
          "name": "GCSTaskStore.save archives metadata and workspace",
          "description": "save() gzip-compresses metadata, archives the working directory via tar.c into a temporary file, loads it into GCS with a resumable stream and cleans out the temporary tar; If the workspace is empty, it logs the pass.",
          "tags": [
            "integrations",
            "filesystem",
            "automation"
          ],
          "importance": 0.65,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/persistence/gcs.ts",
              "sha256": "959babfac02c03937564c31834ffbdadd04c33e6acf8bb8243abf36e6151080c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-gcs-load",
          "slug": "a2a-gcs-load",
          "name": "GCSTaskStore.load restores workspace and metadata",
          "description": "load() downloads metadata.gz, restores PersistedState, calls setTargetDir(agentSettings) and, if there is a workspace archive, unpacks it tar.x into the task directory, ensuring reproducibility.",
          "tags": [
            "integrations",
            "filesystem",
            "automation"
          ],
          "importance": 0.64,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/persistence/gcs.ts",
              "sha256": "959babfac02c03937564c31834ffbdadd04c33e6acf8bb8243abf36e6151080c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-noop-store",
          "slug": "a2a-noop-store",
          "name": "NoOpTaskStore protects against re-writing tasks",
          "description": "NoOpTaskStore implements the TaskStore interface, but save ignores calls and only delegates load to the real store, allowing HTTP handlers to read tasks without recording races.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "importance": 0.48,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/persistence/gcs.ts",
              "sha256": "959babfac02c03937564c31834ffbdadd04c33e6acf8bb8243abf36e6151080c"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-push-task-failed",
          "slug": "a2a-push-task-failed",
          "name": "pushTaskStateFailed publishes final error message",
          "description": "pushTaskStateFailed generates a status-update with state=\"failed\" and error text, adds coderAgent state-change and error metadata before publishing via eventBus so that clients close the stream correctly.",
          "tags": [
            "integrations",
            "agents",
            "execution"
          ],
          "importance": 0.53,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/utils/executor_utils.ts",
              "sha256": "c6d748eee4e0fcf8eb6bd0d4b1fd271e398b88677dfb5a01b7a1090a7f1b1675"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-logger",
          "slug": "a2a-logger",
          "name": "Winston logger formats A2A server output",
          "description": "utils/logger.ts creates a winston logger with an info level, combines timestamp(fmt \"YYYY-MM-DD HH:mm:ss.SSS A\") and a custom printf that prints JSON rest fields on a new line. Console transport provides a unified log format.",
          "tags": [
            "integrations",
            "observability"
          ],
          "importance": 0.45,
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/utils/logger.ts",
              "sha256": "a5c171bd79bd2da77aa2ee043e4c60739bb952e0c2d1494d6e0d42cca65be347"
            }
          ],
          "lastUpdated": "2025-10-16",
          "sectionId": "section-a2a-server"
        },
        {
          "id": "aspect-a2a-coder-agent-types",
          "sectionId": "section-a2a-server",
          "slug": "a2a-coder-agent-types",
          "name": "a2a-server/types.ts describes the CoderAgent and persisted state events",
          "description": "types.ts declares the CoderAgentEvent enumeration, agent message structures (ToolCallConfirmation, Thought, etc.), task metadata with MCPServerStatus and Tool schemas, as well as the getPersistedState/setPersistedState functions, binding the saved state to the __persistedState key.",
          "tags": [
            "integrations",
            "agents",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/a2a-server/src/types.ts",
              "sha256": "00dda84a9296316d5d74fb762fdb9cf490609562a0ef92ca7c3531c58934332f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        }
      ]
    },
    {
      "id": "section-ide-companion",
      "slug": "ide-companion",
      "title": "Integrations VSCode companion",
      "entries": [
        {
          "id": "aspect-vscode-extension-activation",
          "sectionId": "section-ide-companion",
          "slug": "vscode-extension-activation",
          "name": "extension.ts activates Gemini CLI IDE Companion",
          "description": "activate creates an OutputChannel, checks for the latest version via the marketplace extensionquery API, registers the DiffContentProvider and gemini.diff.accept/cancel commands, starts IDEServer and displays information to the user, updating environment variables when the workspace or trust changes.",
          "tags": [
            "integrations",
            "ide",
            "extensions"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/src/extension.ts",
              "sha256": "24bcb97516d298fde3792dfead82f6e492b7541ff782ad382cded37e6ba9eca4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        },
        {
          "id": "aspect-vscode-diff-manager",
          "sectionId": "section-ide-companion",
          "slug": "vscode-diff-manager",
          "name": "DiffManager manages companion extension diff tabs",
          "description": "DiffManager creates gemini-diff virtual documents via the DiffContentProvider, opens vscode.diff with a cache-busting URI, keeps track of the active editor, and sends JSON-RPC ide/diffAccepted or ide/diffClosed notifications on accept/close, removing content and tabs from the window.",
          "tags": [
            "integrations",
            "ide",
            "editing"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/src/diff-manager.ts",
              "sha256": "635e030e075e019380879a215a7c43a90b536f7986d1e1bfe3805497958f162a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.68
        },
        {
          "id": "aspect-vscode-ide-server",
          "sectionId": "section-ide-companion",
          "slug": "vscode-ide-server",
          "name": "IDEServer provides HTTP MCP server for VSCode companion",
          "description": "IDEServer runs Express with CORS protection, checks the Authorization Bearer token and Host, registers openDiff/closeDiff tools in McpServer, saves port and workspace in tmp files, supports keep-alive ping and sends ide/contextUpdate to all sessions when open files change.",
          "tags": [
            "integrations",
            "ide",
            "mcp",
            "security"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/src/ide-server.ts",
              "sha256": "ed87e5f594b79876c0b10ed6b16b1833506e7ad246157a40bf129b54976556e8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.78
        },
        {
          "id": "aspect-open-files-manager",
          "sectionId": "section-ide-companion",
          "slug": "open-files-manager",
          "name": "OpenFilesManager tracks active VSCode files",
          "description": "OpenFilesManager stores up to MAX_FILES of open files, marks the current one as isActive, updates the cursor and selected text (trimming to 16KiB) via onDidChangeTextEditorSelection, reacts to closing/deleting/renaming and issues onDidChange for the IDE context with debounce.",
          "tags": [
            "integrations",
            "ide",
            "workspace"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/src/open-files-manager.ts",
              "sha256": "6fe1b5cae4ec0fd3ba4c1927c1e7633fba47d2c88b51c21db869cc844ebac7ae"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-ide-logger",
          "sectionId": "section-ide-companion",
          "slug": "ide-logger",
          "name": "createLogger writes to OutputChannel only when logging is enabled",
          "description": "createLogger checks extensionMode === Development and the gemini-cli.debug.logging.enabled setting, so in production the log channel is silent until the user explicitly enables detailed companion extension logging.",
          "tags": [
            "integrations",
            "ide",
            "observability"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/src/utils/logger.ts",
              "sha256": "ddfb2b19c457f594796a5659fc76806327284dcf0f9dcf0628fee3b88d7e2a02"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.35
        },
        {
          "id": "aspect-check-vscode-release",
          "sectionId": "section-ide-companion",
          "slug": "check-vscode-release",
          "name": "check-vscode-release.js checks if a new companion release is needed",
          "description": "The script calls gcloud storage ls in the signed VSIX bucket, parses the latest version and commit SHA, compares git log and diff NOTICES.txt between this SHA and origin/main and displays a summary of whether the release needs to be published and whether the dependencies have changed.",
          "tags": [
            "integrations",
            "ide",
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/scripts/check-vscode-release.js",
              "sha256": "30c5ea3d201693216bf802407097e1051bc46e92bf70049d6f9d5e71a3323634"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.52
        },
        {
          "id": "aspect-generate-companion-notices",
          "sectionId": "section-ide-companion",
          "slug": "generate-companion-notices",
          "name": "generate-notices.js collects companion dependency licenses",
          "description": "generate-notices.js reads package.json and package-lock, recursively builds a list of extension dependencies, looks for their licenses in node_modules and generates NOTICES.txt with delimiters and links to repositories so that the release contains all licenses.",
          "tags": [
            "integrations",
            "ide",
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/scripts/generate-notices.js",
              "sha256": "d7c2a3f04d3b8085778b9b260245e3d89e3e022cca045a3dbf2c1c4da0f9e3f8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-vscode-esbuild-config",
          "sectionId": "section-ide-companion",
          "slug": "vscode-esbuild-config",
          "name": "esbuild.js assembles extension.ts into a CommonJS bundle",
          "description": "esbuild.js defines entryPoints, disables minify in dev, enables the problem matcher plugin for accurate error output, injects import.meta.url via banner and excludes vscode from the bundle, supporting --watch and --production modes.",
          "tags": [
            "build",
            "integrations",
            "ide"
          ],
          "sources": [
            {
              "path": "projects/GeminiCLI/packages/vscode-ide-companion/esbuild.js",
              "sha256": "b35529dd8703cab4e796efb361798d42c757accca1187c5feccdf7061c1f7835"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        }
      ]
    }
  ]
}
