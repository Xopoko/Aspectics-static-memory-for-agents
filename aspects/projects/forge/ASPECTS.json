{
  "sections": [
    {
      "id": "section-architecture",
      "slug": "architecture",
      "title": "System Architecture",
      "entries": [
        {
          "id": "aspect-architecture-forge-api-bootstrap",
          "sectionId": "section-architecture",
          "slug": "forge-api-bootstrap",
          "name": "ForgeAPI wiring service and infrastructure layers",
          "description": "`ForgeAPI` (`forge_api/src/forge_api.rs`) creates a `ForgeInfra` instance and wraps it in `ForgeServices`, then implements the `API` trait by delegating chat, workflow, conversation, shell, and provider operations to `ForgeApp` or the service container. The `init(restricted, cwd)` factory ensures every request shares the same environment sandbox and restricted shell settings while exposing streaming chat via `MpscStream` and persistence helpers like `upsert_conversation` and `update_workflow`.",
          "tags": [
            "architecture",
            "llm",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_api/src/forge_api.rs",
              "sha256": "914165264d15be627ba2066f9b095761328b8fb8680773c34f44d76be4aa1056"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.9
        },
        {
          "id": "aspect-architecture-forge-app-chat-orchestrator",
          "sectionId": "section-architecture",
          "slug": "forge-app-chat-orchestrator",
          "name": "ForgeApp chat pipeline delegates orchestration",
          "description": "`ForgeApp::chat` (`forge_app/src/app.rs`) loads the active conversation, provider, and models, configures a walker from workflow limits, registers templates, attaches event payloads, and picks an agent subscribed to the event before constructing `Orchestrator`. It collects files, resolves tool definitions, enforces failure budgets, and streams results via `MpscStream`, persisting the updated conversation after dispatch completes or surfaces errors.",
          "tags": [
            "architecture",
            "orchestration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/app.rs",
              "sha256": "88d5e5e6467870b4efa9fce5398d6c30af8b56a4e087c01683d4512f2d7a9c8f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.88
        },
        {
          "id": "aspect-architecture-infra-factory",
          "sectionId": "section-architecture",
          "slug": "infra-factory",
          "name": "ForgeInfra bootstraps environment, repositories, and executor",
          "description": "`ForgeInfra::new` (`forge_infra/src/forge_infra.rs`) creates the environment facade, command executor (restricted shell aware), file IO services, directory readers, HTTP client, git-aware walker, SQLite conversation repository, app-config repository, and content-addressable cache. Each component is stored behind `Arc`s and exposes the trait bounds (`EnvironmentInfra`, `CommandInfra`, `CacheRepository`, etc.) expected by higher layers, keeping platform plumbing isolated from business logic.",
          "tags": [
            "architecture",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/forge_infra.rs",
              "sha256": "1678609afd5e6da6154e270b9a64823a5c74dcecef17950c3f277910dc165182"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.82
        },
        {
          "id": "aspect-architecture-main-entrypoint",
          "sectionId": "section-architecture",
          "slug": "main-entrypoint",
          "name": "Main entry sets panic reporting and UI bootstrap",
          "description": "`main.rs` (`forge_main/src/main.rs`) installs a panic hook that formats errors via `TitleFormat` and reports them through the tracker before aborting. It parses CLI arguments, falls back to piped stdin for prompts, resolves optional sandbox worktrees or directories, and constructs the UI with `ForgeAPI::init(restricted, cwd)` so interactive and scripted modes share the same runtime plumbing.",
          "tags": [
            "architecture",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/main.rs",
              "sha256": "7e42a3690afea780c09f17c19410f81799ab3d9c17593d7259b61ec9987d8fd9"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.8
        },
        {
          "id": "aspect-tools-stream-abstraction",
          "sectionId": "section-architecture",
          "slug": "mpsc-stream",
          "name": "MpscStream converts async tasks into Stream outputs",
          "description": "`MpscStream` (`forge_stream/src/mpsc_stream.rs`) spawns a task with a bounded channel, implements `Stream` over the receiver, and aborts the producer task when dropped. This lets chat orchestrators expose streaming responses without leaking background work.",
          "tags": [
            "architecture",
            "orchestration",
            "streaming",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_stream/src/mpsc_stream.rs",
              "sha256": "7b59c9c36603be265755bad0884b469965a7a700d6ebf88923929cbe8afe5b50"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-architecture-service-composition",
          "sectionId": "section-architecture",
          "slug": "service-composition",
          "name": "ForgeServices composes domain services from infra",
          "description": "`ForgeServices::new` (`forge_services/src/forge_services.rs`) wires every application service—conversation persistence, templates, attachments, workflow I/O, filesystem tools, shell execution, follow-ups, MCP, providers, and policy—by cloning the shared infrastructure. The struct implements the `Services` trait with concrete associated types so higher layers can call domain operations without touching the underlying filesystem, network, or repositories directly.",
          "tags": [
            "architecture",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/forge_services.rs",
              "sha256": "5d7200d16aa6cdc643a9bb3d343f1d31c11af4fcc7d575076c3d2c96f6c0018a"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.86
        },
        {
          "id": "aspect-architecture-api-trait-contract",
          "sectionId": "section-architecture",
          "slug": "api-trait-contract",
          "name": "API trait centralizes Forge workspace operations",
          "description": "`forge_api::API` defines async hooks for discovery, tool enumeration, chat streaming via `MpscStream`, workflow CRUD, conversation compaction, shell access, MCP sync, login, provider switching, and agent/model selection.",
          "tags": [
            "architecture",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_api/src/api.rs",
              "sha256": "59449b8ea0f9233987896bdde08729a57e9776b4295ea785c04df258e1d3a08f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.76
        },
        {
          "sectionId": "section-architecture",
          "slug": "forge-api-crate-reexports",
          "name": "Forge API crate re-exports",
          "description": "`forge_api/src/lib.rs` re-exports the API trait, `ForgeAPI`, DTOs, plan and usage models, and the entire domain so consumers can import a single crate for request and service types.",
          "tags": [
            "architecture",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_api/src/lib.rs",
              "sha256": "6ed86a671f700df5aaa1e661dbdeb7e320ba9c046409a27c48976652dea6b2a7"
            }
          ],
          "importance": 0.5,
          "id": "aspect-architecture-forge-api-crate-reexports",
          "lastUpdated": "2025-10-22"
        }
      ]
    },
    {
      "id": "section-cli",
      "slug": "cli",
      "title": "CLI & UI",
      "entries": [
        {
          "id": "aspect-cli-agent-switching",
          "sectionId": "section-cli",
          "slug": "cli-agent-switching",
          "name": "Agent switching updates configuration and announces mode",
          "description": "`UI::on_agent_change` (`forge_main/src/ui.rs`) validates the requested agent against `get_agents`, persists it via `set_operating_agent`, and prints a stylized banner combining the upper-snake agent id and title. The method keeps CLI state in sync so subsequent prompts and conversations use the new agent without requiring manual config edits.",
          "tags": [
            "cli",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/ui.rs",
              "sha256": "f9520d2a58e92ade9060b9196f61fd81733c5c4833b4d1945415ef7838baa65e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.72
        },
        {
          "id": "aspect-cli-command-surface",
          "sectionId": "section-cli",
          "slug": "cli-command-surface",
          "name": "Clap CLI exposes prompts, workflows, and admin commands",
          "description": "`Cli` (`forge_main/src/cli.rs`) defines prompt, command-file, workflow, event, sandbox, and restricted-shell flags, then groups subcommands for extensions, resource listing, banner, info, config, session, and MCP management. Clap derives nested structs like `ListCommandGroup` to power porcelain output and typed arguments for providers, tools, and conversations.",
          "tags": [
            "cli",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/cli.rs",
              "sha256": "5f319dd07b1b869940a93321bafbd5ec73c39a88346aeca92a0bacd418c59be1"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.78
        },
        {
          "id": "aspect-cli-config-manager",
          "sectionId": "section-cli",
          "slug": "cli-config-manager",
          "name": "Config manager mutates provider, agent, and model settings",
          "description": "`ConfigManager` (`forge_main/src/config/handler.rs`) routes `config set/get/list` commands. It validates providers, agents, and models through the API, persists selections via the provider and agent setters, and prints porcelain or formatted output. Errors surface with hints listing available IDs, keeping configuration edits safe for both scripts and humans.",
          "tags": [
            "cli",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/config/handler.rs",
              "sha256": "46a1a5c32c700cacb845fa4da53e5f70bb1c78db96bf3fc1b9055e474785ac1a"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.72
        },
        {
          "id": "aspect-cli-sandbox-worktrees",
          "sectionId": "section-cli",
          "slug": "cli-sandbox-worktrees",
          "name": "Sandbox helper creates isolated git worktrees",
          "description": "`Sandbox::create` (`forge_main/src/sandbox.rs`) ensures the current directory is a git repository, derives the repo root, and provisions a sibling worktree with optional branch creation. It gracefully reuses existing worktrees, emits TitleFormat status messages, and returns the canonicalized path for the UI to adopt as the working directory.",
          "tags": [
            "cli",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/sandbox.rs",
              "sha256": "97bf74dd18a86e46de6b6001a727d4b992906a70a1c75d2e06eaac247bbd91ac"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-cli-conversation-selector",
          "sectionId": "section-cli",
          "slug": "conversation-selector",
          "name": "ConversationSelector formats titles with relative timestamps",
          "description": "`ConversationSelector` (`forge_main/src/conversation_selector.rs`) filters conversations that have titles, formats relative `updated_at` durations, pads titles for alignment, and delegates the selection UI to `ForgeSelect` on a blocking task.",
          "tags": [
            "cli",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/conversation_selector.rs",
              "sha256": "536a783a922885e275a431d827bee38924d5a7630ebec9f2e418457ffaf781b1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-cli-env-session",
          "sectionId": "section-cli",
          "slug": "cli-env-session",
          "name": "CLI environment variables restore sessions and agents",
          "description": "`env.rs` (`forge_main/src/env.rs`) defines the `FORGE_CONVERSATION_ID` and `FORGE_ACTIVE_AGENT` overrides, parsing UUIDs into `ConversationId` and wrapping agent slugs in `AgentId`. Unit tests show invalid values fall back to `None`, so the CLI can resume a session or active agent from the shell without crashing when the variables are absent or malformed.",
          "tags": [
            "cli",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/env.rs",
              "sha256": "3fc638e25f701f03d93367727f6b0077299e2e9ee6123aed7091554b45f9a81f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-cli-console-loop",
          "sectionId": "section-cli",
          "slug": "cli-console-loop",
          "name": "Console prompt drives editor-backed command loop",
          "description": "`Console` (`forge_main/src/input.rs`) wraps `ForgeEditor` in a `Mutex` so the prompt can be re-used across retries, maps `ReadResult` variants into shell exit, continue, or command parsing, and logs successful prompts through `tracker::prompt`. The helper also exposes `upload` to stream file contents to stdout before turning them into `Command::Message`, mirroring the interactive UX.",
          "tags": [
            "cli",
            "commands",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/input.rs",
              "sha256": "d9291fd989d7dadea5df689918a9016b157d899934d0f012b8eb30ff08af63e1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-cli-info-layout",
          "sectionId": "section-cli",
          "slug": "cli-info-layout",
          "name": "Info formatter assembles environment and metrics panels",
          "description": "`Info` (`forge_main/src/info.rs`) collects titled sections of key/value items, converts them into column-aligned rows, and exposes `From<&Environment>` and `From<&Metrics>` implementations to surface paths, shell metadata, git branch, duration, and file change statistics. The builder deduplicates layout concerns for `:info`, list commands, and tools screens.",
          "tags": [
            "cli",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/info.rs",
              "sha256": "e70a07df18491b8deccf8114d952b4b254ca5786745a362cb51299c22ad4a6d9"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.55
        },
        {
          "id": "aspect-cli-tools-overview",
          "sectionId": "section-cli",
          "slug": "cli-tools-overview",
          "name": "Tools overview prints availability with checkbox markers",
          "description": "`format_tools` (`forge_main/src/tools_display.rs`) turns the `ToolsOverview` response into `Info` sections for system, agent, MCP servers, and failures, rendering `[✓]` next to tools enabled for the active agent and `[✗]` with truncated errors for failed MCP servers. That consistent markup feeds the porcelain lists used by `forge tools`.",
          "tags": [
            "cli",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/tools_display.rs",
              "sha256": "3cd60767221fc7f8ee43c81680c5fbf0540f9a25a8ec5ee91d8c815f25fad175"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.52
        },
        {
          "id": "aspect-cli-column-formatter",
          "sectionId": "section-cli",
          "slug": "cli-column-formatter",
          "name": "Column formatter pads porcelain tables for the CLI",
          "description": "`format_columns` (`forge_main/src/cli_format.rs`) maps any `ToRow` into rows, computes max widths per column, and prints space-padded cells so long command names and descriptions stay aligned. Trait impls for tuples and `Vec<String>` let command listings, tool catalogs, and IDs share one formatting pipeline.",
          "tags": [
            "cli",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/cli_format.rs",
              "sha256": "b3b86e9db57f3e32058e70e2496e5c7508dcb1ac8a5aab555c628e1f8c197f96"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.4
        },
        {
          "id": "aspect-cli-banner",
          "sectionId": "section-cli",
          "slug": "cli-banner",
          "name": "Banner prints mode-aware tips and supports overrides",
          "description": "`display` (`forge_main/src/banner.rs`) loads a default ASCII banner from the embedded file but honors a `FORGE_BANNER` environment override, appends the running version, and aligns CLI versus interactive command hints depending on `cli_mode`. Each label is padded to the widest key so the intro screen remains legible.",
          "tags": [
            "cli",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/banner.rs",
              "sha256": "19a538c4511cdd5b0145e259d16a4cfcb8ae723ed281028dc2c31c80dfbe760b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        },
        {
          "id": "aspect-cli-auto-update",
          "sectionId": "section-cli",
          "slug": "cli-auto-update",
          "name": "Auto-update flow checks npm and prompts for restart",
          "description": "`on_update` (`forge_main/src/update.rs`) skips dev builds, uses `update_informer` to poll the `forgecode` npm package on the configured cadence, and either auto-runs or seeks confirmation via `ForgeSelect::confirm`. Successful upgrades call `execute_shell_command_raw` to run `npm update -g`, then request an immediate exit, while failures emit tracker events for diagnostics.",
          "tags": [
            "cli",
            "commands",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/update.rs",
              "sha256": "d941f79a2ff9fe2e55782c6b00456ddb0280bc9847e2bc3ed28c113bed7ddc49"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-cli-input-completer",
          "sectionId": "section-cli",
          "slug": "input-completer",
          "name": "Input completer fuses commands and fuzzy files",
          "description": "`InputCompleter` (`forge_main/src/completer/input_completer.rs`) delegates slash prefixed lines to command completion, otherwise uses `SearchTerm` to extract the `@` query, walks the tree via `Walker::max_all`, and scores candidates with `nucleo` fuzzy matching before returning `Suggestion` spans.",
          "tags": [
            "cli",
            "search",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/completer/input_completer.rs",
              "sha256": "7a697773e3be87bc73448db9ecb4dfeadcc353559596c288a2f3124d6db2dbcb"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-cli-command-completer",
          "sectionId": "section-cli",
          "slug": "command-completer",
          "name": "Command completer prefixes slash commands",
          "description": "`CommandCompleter` (`forge_main/src/completer/command.rs`) iterates the `ForgeCommandManager`, adds `/` prefixes for slash commands while preserving `!` shell shortcuts, and returns `Suggestion` entries when the display name matches the typed prefix.",
          "tags": [
            "cli",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/completer/command.rs",
              "sha256": "e06e4c4d6b33e65c7154211b3da3f83fbd24ccdd5137c6c7b0adc1877d2199fb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-cli-search-term-parser",
          "sectionId": "section-cli",
          "slug": "search-term-parser",
          "name": "Search term parser guards UTF-8 boundaries",
          "description": "`SearchTerm` (`forge_main/src/completer/search_term.rs`) protects against mid codepoint cursors, finds the nearest `@` marker, and returns a `Span` plus substring so fuzzy completion only runs on the intended token, with snapshot tests covering multilingual inputs.",
          "tags": [
            "cli",
            "search",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/completer/search_term.rs",
              "sha256": "5716932885c7500046fa987b6479529b0bd3797d70d69faad45a9e25d57d1129"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.52
        },
        {
          "sectionId": "section-cli",
          "slug": "ui-state-struct",
          "name": "UI state container",
          "description": "`UIState` (`forge_main/src/state.rs`) tracks the working directory and optional `ConversationId`, derives setters for ergonomic updates, and seeds state from `Environment`, giving the UI loop a single mutable struct for session context.",
          "tags": [
            "cli",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/state.rs",
              "sha256": "0bee4ade3dfd5472d68522a6b1d7ead34d14ebdcbf98f5ab333e169f7847817c"
            }
          ],
          "importance": 0.46,
          "id": "aspect-cli-ui-state-struct",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-cli",
          "slug": "forge-main-crate-root",
          "name": "Forge main crate exports",
          "description": "`forge_main/src/lib.rs` wires CLI modules and exports `Cli`, `ConfigManager`, `Sandbox`, `UI`, and a lazy static `TRACKER`, defining the terminal entry surface with global telemetry access.",
          "tags": [
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/lib.rs",
              "sha256": "066ab82eab8da3e1e8351fd7ff882293adf59cdc53f0acceb1013b8ce7e88e12"
            }
          ],
          "importance": 0.57,
          "id": "aspect-cli-forge-main-crate-root",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-cli-completer-module",
          "sectionId": "section-cli",
          "slug": "completer-module",
          "name": "Completer module links command and input completers",
          "description": "`forge_main/src/completer/mod.rs` wires the `CommandCompleter` and `InputCompleter` implementations behind a single module so the CLI can initialise Reedline completions without touching private submodules.",
          "tags": [
            "cli",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/completer/mod.rs",
              "sha256": "cadce5230328fb31502572a7062754e0b3b3031c8996a582a52d4d8bf26edb8b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        },
        {
          "id": "aspect-cli-config-module",
          "sectionId": "section-cli",
          "slug": "config-module",
          "name": "Config module re-exports manager and display helpers",
          "description": "`forge_main/src/config/mod.rs` exposes `ConfigManager` and the `build_config_info` helper, bundling display, error, and handler logic under one import for the CLI configuration commands.",
          "tags": [
            "cli",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/config/mod.rs",
              "sha256": "6628383e6ddcba2d316cac238406e57dc7e71add76aa70fab44767ddaf933617"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-cli-forge-select-lib",
          "sectionId": "section-cli",
          "slug": "forge-select-lib",
          "name": "forge_select lib exports prompt builders",
          "description": "`forge_select/src/lib.rs` re-exports `ForgeSelect` and the input, select, confirm, and multi-select builders so callers pull dialoguer-backed prompts from a single facade crate.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_select/src/lib.rs",
              "sha256": "2a12499e28edef0c015603e20b0edf197d12d8139433f51527e9a1805a5bb2fd"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-cli-forge-select-readme",
          "sectionId": "section-cli",
          "slug": "forge-select-readme",
          "name": "forge_select README documents builder-based prompts",
          "description": "`crates/forge_select/README.md` explains the builder pattern for select, confirm, input, and multi-select prompts, noting the shared `ColorfulTheme` and owned vs cloned option variants so downstream crates configure CLI interactions correctly.",
          "tags": [
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_select/README.md",
              "sha256": "5b7e35f2815fe881382427ad3e0081fa3146509158e15bd9f8c2a41068e5cdc6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        }
      ]
    },
    {
      "id": "section-terminal-ui",
      "slug": "terminal-ui",
      "title": "Terminal UI",
      "entries": [
        {
          "id": "aspect-display-diff-format",
          "sectionId": "section-terminal-ui",
          "slug": "diff-format",
          "name": "DiffFormat highlights changes with dynamic line widths",
          "description": "`DiffFormat::format` (`forge_display/src/diff.rs`) uses `TextDiff` to group operations, computes column widths from actual change indices, and formats additions/removals with colored prefixes. It reports lines added/removed so summaries can include change metrics.",
          "tags": [
            "ui",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_display/src/diff.rs",
              "sha256": "a59b57ea09854bb1e8f3b8a26d6072d65f0c539d951ca573c680f4fde9b40573"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-display-markdown-format",
          "sectionId": "section-terminal-ui",
          "slug": "markdown-format",
          "name": "MarkdownFormat renders terminal-friendly markdown",
          "description": "`MarkdownFormat` (`forge_display/src/markdown.rs`) configures `MadSkin` styles for inline code, code blocks, and strikeout text, limits consecutive newlines via regex replacement, and returns trimmed strings ready for ANSI display in the UI.",
          "tags": [
            "ui",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_display/src/markdown.rs",
              "sha256": "a34325b5ebe793f22771975651056ca70137588a0ddbed9963b9190a8e0c4eb2"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-cli-prompt-banner",
          "sectionId": "section-terminal-ui",
          "slug": "prompt-banner",
          "name": "ForgePrompt renders agent, directory, and usage indicators",
          "description": "`ForgePrompt` (`forge_main/src/prompt.rs`) composes a two-line prompt showing the active agent, current directory, optional git branch, and a right-aligned `[version/model/tokens]` indicator, plus multiline and history search affordances.",
          "tags": [
            "prompt",
            "search",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/prompt.rs",
              "sha256": "22cf118ed8a9c539f0e1f224d09fc235d422c762382358819ee2a3b44b506d86"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.66
        },
        {
          "id": "aspect-tools-spinner-manager",
          "sectionId": "section-terminal-ui",
          "slug": "spinner-manager",
          "name": "Spinner manager tracks elapsed time for UI feedback",
          "description": "`SpinnerManager` (`forge_spinner/src/lib.rs`) randomly selects status verbs, configures an Indicatif spinner, and spawns a task that updates the message with elapsed seconds. The helper preserves the spinner when printing intermediate messages so conversational output stays responsive.",
          "tags": [
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_spinner/src/lib.rs",
              "sha256": "e66a630a570eeac837b1d58a9ca739d8e3a026536f1b19da95cb9fd911a42277"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-cli-editor-keybindings",
          "sectionId": "section-terminal-ui",
          "slug": "terminal-editor-keybinds",
          "name": "ForgeEditor configures Reedline history and shortcuts",
          "description": "`ForgeEditor` (`forge_main/src/editor.rs`) stores history in the config directory, wires a cyan columnar completion menu, and installs custom keybindings for tab-completion, clear-screen, reverse-search, and newline insertion on top of Emacs mode.",
          "tags": [
            "search",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/editor.rs",
              "sha256": "45ca091f46d8e975dedd910a43837bc1237b767f454a2a53aa9795a9947be7ad"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-domain-title-format",
          "sectionId": "section-terminal-ui",
          "slug": "title-format-categories",
          "name": "TitleFormat standardizes status headings for UI updates",
          "description": "`TitleFormat` (`forge_domain/src/chat_response.rs`) bundles headline, optional subtitle, and a `Category` enum so system messages can consistently label action, info, error, debug, or completion events before they reach the display layer.",
          "tags": [
            "ui",
            "conversation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/chat_response.rs",
              "sha256": "067b1e8d4d329a9116f9b954672fd23fd0d944d95395ff944a062cbeaf807db5"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-cli-tools-overview-format",
          "sectionId": "section-terminal-ui",
          "slug": "tools-overview-format",
          "name": "Tools overview groups availability across sources",
          "description": "`format_tools` (`forge_main/src/tools_display.rs`) builds an `Info` panel that groups system, agent, and MCP tools, marks those enabled for the current agent, and surfaces failed MCP servers with truncated errors for readability.",
          "tags": [
            "ui",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/tools_display.rs",
              "sha256": "3cd60767221fc7f8ee43c81680c5fbf0540f9a25a8ec5ee91d8c815f25fad175"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-cli-ui-run-loop",
          "sectionId": "section-terminal-ui",
          "slug": "ui-run-loop",
          "name": "UI run loop routes interactive and scripted flows",
          "description": "`UI::run_inner` (`forge_main/src/ui.rs`) handles top-level subcommands, prints the banner for interactive sessions, hydrates caches, and initializes conversations before branching into event dispatch, single-prompt execution, or an interactive loop fed by `Console::prompt`. It uses the spinner manager for feedback, streams chat responses, and wraps errors in `TitleFormat` messages to keep terminal UX consistent.",
          "tags": [
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/ui.rs",
              "sha256": "f9520d2a58e92ade9060b9196f61fd81733c5c4833b4d1945415ef7838baa65e"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.8
        },
        {
          "id": "aspect-terminal-title-display",
          "sectionId": "section-terminal-ui",
          "slug": "terminal-title-display",
          "name": "TitleDisplay renders categorized headings with optional colors",
          "description": "`TitleDisplay` (`forge_main/src/title_display.rs`) maps `TitleFormat::category` into themed icons, wraps timestamps in dim text, and lets callers disable colors or timestamps while keeping subtitles. The extension trait makes it easy for the UI and tools to present consistent status headings.",
          "tags": [
            "ui",
            "display"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/title_display.rs",
              "sha256": "a0aac3cbbfe2b9030404acfb3a988ea949ded93607fe3829a5cae4e1eea04746"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.5
        },
        {
          "id": "aspect-terminal-grep-format",
          "sectionId": "section-terminal-ui",
          "slug": "terminal-grep-format",
          "name": "Grep formatter groups matches and highlights regex hits",
          "description": "`GrepFormat` (`forge_display/src/grep.rs`) parses `path:line:content` triples, pads line numbers to the widest entry, and colorizes matched spans when a regex is provided, falling back to cyan file names for plain path lists. That ripgrep-like output powers `forge search` responses.",
          "tags": [
            "display",
            "search",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_display/src/grep.rs",
              "sha256": "86cc74fc573df46b0d4ed27bc06cc496040d42e008e21f74070a8b5fe0fdb3de"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.46
        },
        {
          "id": "aspect-terminal-forge-select",
          "sectionId": "section-terminal-ui",
          "slug": "terminal-forge-select",
          "name": "ForgeSelect centralizes fuzzy prompts with cancel-safe helpers",
          "description": "`ForgeSelect` (`forge_select/src/select.rs`) builds a shared `ColorfulTheme`, exposes builders for select, confirm, input, and multi-select prompts, and treats `CTRL+C` as `Ok(None)` so higher layers can cancel gracefully. Globally stripping ANSI codes improves fuzzy matching for colored options.",
          "tags": [
            "ui",
            "cli",
            "prompt"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_select/src/select.rs",
              "sha256": "d0b0b66e336c26ab98f3e7c760704b8f310f1cd7b1c8ad32d1486acc1fd3111f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.59
        },
        {
          "id": "aspect-terminal-ui-cli-model-display",
          "sectionId": "section-terminal-ui",
          "slug": "cli-model-display",
          "name": "CLI model wrappers show context badges",
          "description": "`CliModel` and `CliProvider` (`forge_main/src/model.rs`) wrap provider metadata for menus, emitting context length badges (k or M suffixes) and tool icons while formatting provider domains, giving the selector consistent informative labels.",
          "tags": [
            "ui",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/model.rs",
              "sha256": "65c87aa94eb04a5134d8c0d5ce7f60f3676131f6e3d2196169e4ae6e07707bb2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.54
        },
        {
          "id": "aspect-terminal-ui-command-manager",
          "sectionId": "section-terminal-ui",
          "slug": "command-manager-formatting",
          "name": "Command manager registers sanitized agent shortcuts",
          "description": "`ForgeCommandManager` (`forge_main/src/model.rs`) seeds default slash commands, sanitizes agent ids into unique command names, skips reserved keywords, and stores descriptions in a mutex backed vector later consumed by CLI completions.",
          "tags": [
            "ui",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/model.rs",
              "sha256": "65c87aa94eb04a5134d8c0d5ce7f60f3676131f6e3d2196169e4ae6e07707bb2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "sectionId": "section-terminal-ui",
          "slug": "forge-display-crate-surface",
          "name": "ForgeDisplay crate surface",
          "description": "`forge_display/src/lib.rs` exposes diff, grep, and markdown formatters so terminal output modules can format repositories without importing private modules.",
          "tags": [
            "display",
            "rendering",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_display/src/lib.rs",
              "sha256": "809ab4f8db219931b09554569e657071a26fedfe7134c2cae44551d33b11f0ec"
            }
          ],
          "importance": 0.44,
          "id": "aspect-terminal-ui-forge-display-crate-surface",
          "lastUpdated": "2025-10-20"
        },
        {
          "id": "aspect-terminal-ui-fmt-module",
          "sectionId": "section-terminal-ui",
          "slug": "fmt-module",
          "name": "Formatter module re-exports shared UI formatters",
          "description": "`forge_app/src/fmt/mod.rs` groups the `content`, `fmt_input`, and `fmt_output` modules and publicly re-exports them so the terminal UI can import a single surface for prompt formatting, response rendering, and message trimming helpers.",
          "tags": [
            "ui",
            "rendering"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/fmt/mod.rs",
              "sha256": "2da680998858661e525b6cd869dccea63911222ffe28d8dc750f17bb359b31a6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-terminal-ui-forge-template-lib",
          "sectionId": "section-terminal-ui",
          "slug": "forge-template-lib",
          "name": "forge_template lib exports the Element builder",
          "description": "`forge_template/src/lib.rs` exposes the `Element` struct that wraps HTML/XML rendering with escaping, letting UI layers build rich outputs without manual string concatenation.",
          "tags": [
            "ui",
            "rendering"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_template/src/lib.rs",
              "sha256": "9095a0eb15a1b8f72b775ac706b6b9b515348d5d38563d7a729f6380fe912e32"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        }
      ]
    },
    {
      "id": "section-orchestration",
      "slug": "orchestration",
      "title": "Agent Orchestration",
      "entries": [
        {
          "id": "aspect-orchestration-agent-executor-stream",
          "sectionId": "section-orchestration",
          "slug": "agent-executor-stream",
          "name": "AgentExecutor replays agent streams into tool output",
          "description": "`AgentExecutor` (`forge_app/src/agent_executor.rs`) caches loaded agent `ToolDefinition`s behind an `RwLock`, creates a fresh conversation via `ConversationService`, streams `ForgeApp::chat` responses through the supplied `ToolCallContext`, and converts the final assistant message into a `ToolOutput`, raising `Error::EmptyToolResponse` when no text arrives.",
          "tags": [
            "orchestration",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/agent_executor.rs",
              "sha256": "c6397731fa90b1d819cb8b789f67b543cb029b2bf7e4298e18a2c45509529086"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.72
        },
        {
          "id": "aspect-orchestration-agent-service-bridge",
          "sectionId": "section-orchestration",
          "slug": "agent-service-bridge",
          "name": "AgentService trait bridges providers and tool registry",
          "description": "`AgentService` (`forge_app/src/agent.rs`) defines the chat, tool-call, render, and conversation update contract, with the blanket `Services` implementation selecting the active provider, routing tool calls through `ToolRegistry`, and persisting conversation updates.",
          "tags": [
            "orchestration",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/agent.rs",
              "sha256": "092dbb4e13147ff2015e79d349c41cc1de8edae7e33932ee5ff819490a5c2fd0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-orchestration-conversation-compaction",
          "sectionId": "section-orchestration",
          "slug": "conversation-compaction",
          "name": "ForgeApp compacts conversation context via Compactor",
          "description": "`ForgeApp::compact_conversation` (`forge_app/src/app.rs`) reloads the conversation context, measures message and token counts, selects the primary agent, and calls the `Compactor` service to summarize history. It returns a `CompactionResult` with before/after metrics and persists the trimmed conversation back through the services layer.",
          "tags": [
            "orchestration",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/app.rs",
              "sha256": "88d5e5e6467870b4efa9fce5398d6c30af8b56a4e087c01683d4512f2d7a9c8f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.76
        },
        {
          "id": "aspect-orchestration-mcp-executor-bridge",
          "sectionId": "section-orchestration",
          "slug": "mcp-executor-bridge",
          "name": "McpExecutor wraps MCP tool execution",
          "description": "`McpExecutor` (`forge_app/src/mcp_executor.rs`) announces MCP calls with `TitleFormat::info`, hands `ToolCallFull` payloads to the shared MCP service, and exposes a `contains_tool` guard that scans registered servers for matching tool names before execution.",
          "tags": [
            "orchestration",
            "mcp",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/mcp_executor.rs",
              "sha256": "438365611dd46fb6a35f777b3d0f15e4165ad4bbf643dc5adfc7e58073077de2"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-orchestration-retry-strategy",
          "sectionId": "section-orchestration",
          "slug": "retry-strategy",
          "name": "Retry helper wraps operations with exponential backoff",
          "description": "`retry_with_config` (`forge_app/src/retry.rs`) builds an exponential strategy from `RetryConfig`, supports jitter, and retries only when domain errors downcast to `Error::Retryable`. Callers can supply a notification callback to observe retry timing for monitoring.",
          "tags": [
            "orchestration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/retry.rs",
              "sha256": "9408589ed0abb88540e2484c6ebeeb3fa111d41fad06b56062fa8ca986ab7586"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-orchestration-sequential-tools",
          "sectionId": "section-orchestration",
          "slug": "sequential-tool-execution",
          "name": "Orchestrator executes tool calls with system notifications",
          "description": "`Orchestrator::execute_tool_calls` (`forge_app/src/orch.rs`) walks tool calls sequentially, sending `ToolCallStart` and `ToolCallEnd` responses for system tools, delegating execution to the services layer, and logging failures. Every call/result pair is recorded so compaction and metrics can reason about tool activity.",
          "tags": [
            "orchestration",
            "tools",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch.rs",
              "sha256": "2a50293759acd4b94348ff0135cc6e2252c71fac64f19d3af3c934a2ba26901a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.82
        },
        {
          "id": "aspect-orchestration-title-generator",
          "sectionId": "section-orchestration",
          "slug": "title-generator",
          "name": "TitleGenerator renders a template and extracts <title>",
          "description": "`TitleGenerator` (`forge_app/src/title_generator.rs`) renders the `forge-system-prompt-title-generation.md` template, wraps the user prompt in XML, optionally applies reasoning settings, and streams a completion whose `<title>` tag is extracted with `extract_tag_content`.",
          "tags": [
            "orchestration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/title_generator.rs",
              "sha256": "25b209c4de037dbf0ecd9f6397daf7e5516aeba3c7cfd76ad4787d30c35b028a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-orchestration-tool-registry",
          "sectionId": "section-orchestration",
          "slug": "tool-registry-routing",
          "name": "ToolRegistry resolves Forge, agent, and MCP tools with timeouts",
          "description": "`ToolRegistry` (`forge_app/src/tool_registry.rs`) merges built-in Forge tools, agent-provided definitions, and MCP capabilities. It validates access, fans out agent delegation tasks, wraps MCP executions with timeout handling, and echoes MCP output into the chat stream when present.",
          "tags": [
            "orchestration",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/tool_registry.rs",
              "sha256": "9070489668d719e339b96f5726386d550fe6f3301556af8dd81dc837523f8702"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.78
        },
        {
          "id": "aspect-orchestration-user-prompt",
          "sectionId": "section-orchestration",
          "slug": "user-prompt-builder",
          "name": "UserPromptBuilder injects event-derived user messages",
          "description": "`UserPromptBuilder::set_user_prompt` (`forge_app/src/user_prompt.rs`) inspects whether the context already contains user messages to decide between feedback or task templates, renders agent-specific prompts with event metadata, and appends the synthesized user message so downstream orchestration has consistent context.",
          "tags": [
            "orchestration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/user_prompt.rs",
              "sha256": "3800773b3caa3ce4582994aabe93df305230f7dc56f674536e357f456c970bb0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.74
        },
        {
          "id": "aspect-orchestration-test-context",
          "sectionId": "section-orchestration",
          "slug": "orchestrator-test-context",
          "name": "Orchestrator TestContext seeds agents and environment",
          "description": "`TestContext` (`forge_app/src/orch_spec/orch_setup.rs`) fabricates an environment, mock agent, workflow, and tool definitions, letting orchestrator specs queue assistant responses, tool call outputs, and templates before running end to end scenarios.",
          "tags": [
            "orchestration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch_spec/orch_setup.rs",
              "sha256": "9469c144cafa37507613a8f2d9d005f3ffe22275b1ece24acf024a5ea5be4d98"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.53
        },
        {
          "id": "aspect-orchestration-runner-harness",
          "sectionId": "section-orchestration",
          "slug": "orchestrator-runner-harness",
          "name": "Runner harness exercises orchestrator streams",
          "description": "`Runner` (`forge_app/src/orch_spec/orch_runner.rs`) embeds workflow templates, mocks the `AgentService` chat stream and tool calls via queues, captures conversation history, and spins up the real `Orchestrator` so specs can assert on emitted `ChatResponse` events.",
          "tags": [
            "orchestration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch_spec/orch_runner.rs",
              "sha256": "0c07031db53450b22178aaf09adf463cb267c74d1f26ffd0e389ab1f77c06190"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.55
        },
        {
          "id": "aspect-orchestration-spec-coverage",
          "sectionId": "section-orchestration",
          "slug": "orchestrator-spec-coverage",
          "name": "Orchestrator spec validates chat edge cases",
          "description": "`orch_spec.rs` (`forge_app/src/orch_spec/orch_spec.rs`) documents behavior for follow up tool calls, empty assistant replies, and system message rendering, asserting that task complete signals and tool start or end events fire in the expected situations.",
          "tags": [
            "orchestration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch_spec/orch_spec.rs",
              "sha256": "228dce7e703dd400ba34ae3a35e9248b92033d99b395ff6fee4285cc2f86a25a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.52
        }
      ]
    },
    {
      "id": "section-services",
      "slug": "services",
      "title": "Service Layer",
      "entries": [
        {
          "id": "aspect-services-agent-loader-sources",
          "sectionId": "section-services",
          "slug": "agent-loader-sources",
          "name": "AgentLoader merges built-in and custom agent markdown",
          "description": "`AgentLoaderService` (`forge_services/src/agent_loader.rs`) caches agent definitions in a `OnceCell`, loads built-in templates, then overlays global (`~/.forge/agents`) and workspace (`.forge/agents`) markdown files, resolving ID conflicts with last-write-wins precedence.",
          "tags": [
            "services",
            "workflow",
            "templates",
            "infrastructure",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/agent_loader.rs",
              "sha256": "1edcf6ba4c55b7d6d5580a6b633df66cf198e7f8ffd451dc07b3c1ab5b2102dd"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.66
        },
        {
          "id": "aspect-services-attachment-preparation",
          "sectionId": "section-services",
          "slug": "attachment-preparation",
          "name": "Attachment service resolves file tags into numbered snippets",
          "description": "`ForgeChatRequest` (`forge_services/src/attachment.rs`) expands file tags to absolute paths, streams images for common extensions, clamps text ranges with `resolve_range`, reads content via `range_read_utf8`, and returns numbered excerpts plus file metadata.",
          "tags": [
            "services",
            "infrastructure",
            "workflow",
            "conversation",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/attachment.rs",
              "sha256": "f66b4272c6874f9d170caf5cc7378a3e4ea033bc8dd89b5a8fbd35f2d02e2ac5"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.63
        },
        {
          "id": "aspect-services-clipper-strategy",
          "sectionId": "section-services",
          "slug": "clipper-strategy",
          "name": "Clipper strategies preserve unicode-safe prompt excerpts",
          "description": "`Clipper` (`forge_services/src/clipper.rs`) offers prefix, suffix, and prefix-suffix truncation modes with a 40,000-character default, returns `ClipperResult` ranges for the preserved spans, and walks `char_indices` to respect Unicode boundaries when slicing prompts.",
          "tags": [
            "services",
            "templates",
            "conversation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/clipper.rs",
              "sha256": "22cb07766025e1fe0294678f624fe111b36eac0e00b6b6a6f94fd600f2ea4f91"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-services-conversation-service",
          "sectionId": "section-services",
          "slug": "conversation-service",
          "name": "Conversation service wraps repository access patterns",
          "description": "`ForgeConversationService` (`forge_services/src/conversation.rs`) delegates CRUD operations to the repository, providing helpers like `modify_conversation` for atomic edits and `get_conversations` with optional limits. Errors surface with domain types so upstream code can distinguish missing conversations from IO failures.",
          "tags": [
            "services",
            "conversation",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/conversation.rs",
              "sha256": "0c9b49f6ac33c73d90e2280751f134becc103c0cec9c7b139d3d8e5e6177c8ff"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.72
        },
        {
          "id": "aspect-services-range-normalizer",
          "sectionId": "section-services",
          "slug": "range-normalizer",
          "name": "resolve_range clamps requested line windows",
          "description": "`resolve_range` (`forge_services/src/range.rs`) normalizes optional start and end offsets, swaps inverted inputs, limits the span by `max_size`, and falls back to a single-line window when no room is available.",
          "tags": [
            "services",
            "infrastructure",
            "workflow",
            "validation",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/range.rs",
              "sha256": "884ca242f1bec4a55ded0db547691731e6589048506688ee2e1dd0c7ad6416e8"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.57
        },
        {
          "id": "aspect-services-template-engine",
          "sectionId": "section-services",
          "slug": "template-engine",
          "name": "ForgeTemplateService registers embedded and on-disk templates",
          "description": "`ForgeTemplateService` (`forge_services/src/template.rs`) seeds Handlebars with embedded partials, discovers additional templates via globbing, reads them concurrently, compiles `.md` files as Handlebars templates, and keeps raw files as literal strings. Registration is guarded by a read/write lock so repeated calls only add new files.",
          "tags": [
            "services",
            "templates",
            "workflow",
            "conversation",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/template.rs",
              "sha256": "d8d03b5e50779cee10f7729b5a49433b61e3a577b81589b340ffd06352392763"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.7
        },
        {
          "id": "aspect-services-workflow-loader",
          "sectionId": "section-services",
          "slug": "workflow-loader",
          "name": "ForgeWorkflowService resolves, reads, and writes forge.yaml",
          "description": "`ForgeWorkflowService` (`forge_services/src/workflow.rs`) searches parent directories for `forge.yaml`, bootstraps a blank workflow with schema headers when none exists, and serializes updates through `FileWriterInfra`. Its `update_workflow` helper reads, mutates, and persists changes atomically for higher-level commands.",
          "tags": [
            "infrastructure",
            "workflow",
            "services",
            "templates",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/workflow.rs",
              "sha256": "13bc2c24f0a492bd4ef37ce142600c680a593613d0b7fd7e0f33bee133d3cea9"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.75
        },
        {
          "id": "aspect-services-custom-instructions-loader",
          "sectionId": "section-services",
          "slug": "custom-instructions-loader",
          "name": "Custom instructions service caches AGENTS.md from multiple scopes",
          "description": "`ForgeCustomInstructionsService` (`forge_services/src/custom_instructions.rs`) searches the environment base path, git root, and current working directory for `AGENTS.md`, reads them through filesystem infra, and memoizes the merged contents in an async `OnceCell`. Git lookups run through the command infra and failures simply skip that location.",
          "tags": [
            "workflow",
            "infrastructure",
            "services",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/custom_instructions.rs",
              "sha256": "631c77027d835bc43dc22a8c733e80a3b151a19860f2face066b4729d8b9d424"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.62
        },
        {
          "id": "aspect-services-file-discovery",
          "sectionId": "section-services",
          "slug": "file-discovery-service",
          "name": "File discovery wraps walker output for auto-complete",
          "description": "`ForgeDiscoveryService` (`forge_services/src/discovery.rs`) feeds `WalkerInfra` with the requested `Walker` config, converts results into the simplified `forge_app::File` struct, and reuses `EnvironmentInfra` for cwd resolution. It keeps file listings async so discover-based completions stay responsive.",
          "tags": [
            "services",
            "infrastructure",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/discovery.rs",
              "sha256": "c19c2f8bec28c319ea3854961cc5fd193f013352c27d16508608504a8bd78453"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.53
        },
        {
          "id": "aspect-services-context-compactor",
          "sectionId": "section-services",
          "slug": "context-compactor",
          "name": "Compactor summarizes agent histories via retention strategies",
          "description": "`Compactor` (`forge_app/src/compact.rs`) derives eviction versus retention windows from the agent’s `Compact` config, renders the summarizer template to condense message sequences, and streams chat completions to extract tagged summaries before splicing them back into the context. Usage totals accumulate so compaction still contributes to metrics.",
          "tags": [
            "services",
            "conversation",
            "provider",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/compact.rs",
              "sha256": "b9830abba1f5150921b37f9f3a26d5c7e4af9f8387a58970eb5ecf1c71b51140"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.67
        },
        {
          "id": "aspect-services-provider-client",
          "sectionId": "section-services",
          "slug": "provider-client-factory",
          "name": "Provider client builder caches models and retries",
          "description": "`ClientBuilder` (`forge_services/src/provider/client.rs`) wraps either OpenAI or Anthropic adapters, builds HTTP clients with retry and timeout configs, caches model listings behind an `RwLock`, and map streams through `into_retry` so transient failures get wrapped as retryable.",
          "tags": [
            "infrastructure",
            "provider",
            "services",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/client.rs",
              "sha256": "842c12d8dc721c18bab725842b3a2f2ec0be257d7e1dcc750625c563077f1c4c"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.66
        },
        {
          "id": "aspect-services-provider-retry",
          "sectionId": "section-services",
          "slug": "provider-retry-adapter",
          "name": "Provider retry adapter inspects transport codes",
          "description": "`into_retry` (`forge_services/src/provider/retry.rs`) downgrades errors into `DomainError::Retryable` when HTTP status codes match the configured allow list or when transport hints like `ERR_STREAM_PREMATURE_CLOSE` appear in nested OpenAI error payloads.",
          "tags": [
            "services",
            "workflow",
            "provider",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/retry.rs",
              "sha256": "73d43a9d151672a7f974d96a617eba9ade61b2af1c46e569c9fd8bd8ce9bf489"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.6
        },
        {
          "id": "aspect-services-infra-traits",
          "sectionId": "section-services",
          "slug": "services-infra-traits",
          "name": "Service infra traits define IO and shell contracts",
          "description": "`infra.rs` (`forge_services/src/infra.rs`) centralizes infrastructure traits for file IO, snapshots, command execution, MCP, and HTTP clients, letting services depend on abstractions like `FileReaderInfra`, `UserInfra`, and `McpClientInfra` for easy mocking and composition.",
          "tags": [
            "services",
            "infrastructure",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/infra.rs",
              "sha256": "6a1bf9b6b9b608a150317b8dbba7dd790a77919568125506d9ed8ab94b247c48"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.68
        },
        {
          "sectionId": "section-services",
          "slug": "format-content-trait",
          "name": "FormatContent trait normalizes tool payloads",
          "description": "`FormatContent` (`forge_app/src/fmt/content.rs`) abstracts converting tool- and orchestration-level types into `ChatResponseContent` using the active `Environment`, letting formatter modules implement consistent streaming output across tools and responses.",
          "tags": [
            "services",
            "templates",
            "tools",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/fmt/content.rs",
              "sha256": "ad08447b500443881b8baee243cd09ab1c0a8a6863f2e7b667e8d25fd837ab9c"
            }
          ],
          "importance": 0.44,
          "id": "aspect-services-format-content-trait",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-services",
          "slug": "environment-service-adapter",
          "name": "Environment service adapter",
          "description": "`ForgeEnvironmentService` (`forge_services/src/env.rs`) wraps an `EnvironmentInfra` inside an `Arc` and implements `EnvironmentService` so application code can pull the current environment without touching infra details.",
          "tags": [
            "services",
            "infrastructure",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/env.rs",
              "sha256": "0110f4cef1fb552d0018090b623987ead386e40f01cddaa34950a5c755d53c81"
            }
          ],
          "importance": 0.45,
          "id": "aspect-services-environment-service-adapter",
          "lastUpdated": "2025-10-24"
        },
        {
          "sectionId": "section-services",
          "slug": "provider-error-types",
          "name": "Provider error helpers",
          "description": "`ProviderError` (`forge_services/src/error.rs`) standardises missing env vars, unavailable providers, and Vertex AI configuration failures, offering helper constructors so provider boot logic emits consistent error messages.",
          "tags": [
            "services",
            "provider",
            "validation",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/error.rs",
              "sha256": "85885b100e4ac8164d3b28572989f6206f20fbe2add074bd5bd1e864250270c6"
            }
          ],
          "importance": 0.5,
          "id": "aspect-services-provider-error-types",
          "lastUpdated": "2025-10-24"
        },
        {
          "sectionId": "section-services",
          "slug": "http-client-adapter",
          "name": "HTTP client service adapter",
          "description": "`HttpClient<I>` (`forge_services/src/http.rs`) stores an `HttpInfra` in an `Arc` and implements `HttpClientService`, forwarding GET/POST/DELETE and SSE `eventsource` calls so higher layers depend on traits instead of reqwest directly.",
          "tags": [
            "infrastructure",
            "provider",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/http.rs",
              "sha256": "75ba085d1e643430ce0b3fefc6377251d0a641d7263d4df2659347413aa38623"
            }
          ],
          "importance": 0.47,
          "id": "aspect-services-http-client-adapter",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-services",
          "slug": "operation-metadata-builder",
          "name": "Operation metadata builder",
          "description": "`Metadata` (`forge_services/src/metadata.rs`) stores key/value pairs, renders them between `---` fences via `Display`, and offers `add_optional` so tool services can annotate truncation, ranges, and paths without bespoke formatting.",
          "tags": [
            "services",
            "tools",
            "templates",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/metadata.rs",
              "sha256": "0254a1bbe443a3e486feb1962df56472bf8cbe92a7e207f073a5adfb9fa2542d"
            }
          ],
          "importance": 0.43,
          "id": "aspect-services-operation-metadata-builder",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-services",
          "slug": "forge-services-crate-surface",
          "name": "ForgeServices crate surface",
          "description": "`forge_services/src/lib.rs` re-exports agent loading, discovery, policy, infra, clipper, template, and tool service modules so application code imports a cohesive services facade.",
          "tags": [
            "infrastructure",
            "integration",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/lib.rs",
              "sha256": "b98d47f17bac0c027c498896f439849b6bb5b862f588d2b22eed14190d19c3ab"
            }
          ],
          "importance": 0.52,
          "id": "aspect-services-forge-services-crate-surface",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-services-mcp-mod-surface",
          "sectionId": "section-services",
          "slug": "mcp-mod-surface",
          "name": "MCP module surfaces manager and service APIs",
          "description": "`forge_services/src/mcp/mod.rs` exposes the MCP manager and service layers as the crate's stable API so callers can register MCP transports without importing deep submodules.",
          "tags": [
            "integration",
            "services",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/mcp/mod.rs",
              "sha256": "81c8599e4cfb8708255185c97fc81ca978c414148410c58cb3f6ed641d6f8d3c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-services-provider-mod-surface",
          "sectionId": "section-services",
          "slug": "provider-mod-surface",
          "name": "Provider module re-exports registry, adapters, and retry wiring",
          "description": "`provider/mod.rs` collects the provider registry, client, retry, and adapter helpers into a single namespace, defining the public entry point for provider integration inside services.",
          "tags": [
            "provider",
            "integration",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/mod.rs",
              "sha256": "b8d7e93c8be6a63308e1c42795688d9978a49d6da40582967b2a0b69825a8994"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-services-tool-services-hub",
          "sectionId": "section-services",
          "slug": "tool-services-hub",
          "name": "Tool services hub exports filesystem, plan, shell, and follow-up services",
          "description": "`tool_services/mod.rs` re-exports every tool service implementation so ForgeApp can depend on `tool_services::*` and still map to specific operations like `fs_patch`, `plan_create`, or `shell`.",
          "tags": [
            "infrastructure",
            "integration",
            "services",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/mod.rs",
              "sha256": "a7d685b9729224b0c14e052d426a2d720b3925d457e68b07f7d84e112a093334"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-services-syn-invalid-fixture",
          "sectionId": "section-services",
          "slug": "syn-invalid-fixture",
          "name": "Rust invalid fixture anchors syntax validation error routes",
          "description": "`tool_services/syn/lang/rust/invalid.rs` holds a deliberately broken Rust snippet used by the syntax validator to ensure Tree-sitter errors surface cleanly when tools emit malformed code.",
          "tags": [
            "services",
            "tools",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/lang/rust/invalid.rs",
              "sha256": "41ab48968cc52febe741af778b147b207fbcc79f810254becc529017e6401ded"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.28
        },
        {
          "id": "aspect-services-syn-valid-fixture",
          "sectionId": "section-services",
          "slug": "syn-valid-fixture",
          "name": "Rust valid fixture proves syntax validator accepts clean snippets",
          "description": "`tool_services/syn/lang/rust/valid.rs` stores the minimal valid Rust function used as a control case for syntax validation, ensuring regression tests confirm good code still passes.",
          "tags": [
            "services",
            "tools",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/lang/rust/valid.rs",
              "sha256": "992d6060a789f3996193d692a6d1f4302d02d3d8d4e54cd3274d4a6d268e3761"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.27
        },
        {
          "id": "aspect-services-syn-validate-export",
          "sectionId": "section-services",
          "slug": "syn-validate-export",
          "name": "Syntax validator module exposes single entry point",
          "description": "`tool_services/syn/mod.rs` keeps the Tree-sitter validation surface to a single `validate` re-export so tool writers can depend on one function while the module hides language-specific wiring.",
          "tags": [
            "services",
            "tools",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/mod.rs",
              "sha256": "4772e2a86a5cb011f939971d796eb6febc0f9b0b688c9e01d72274d54fb95186"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.29
        }
      ]
    },
    {
      "id": "section-service-integrations",
      "slug": "service-integrations",
      "title": "Integration & Policy Services",
      "entries": [
        {
          "id": "aspect-services-authenticator-polling",
          "sectionId": "section-service-integrations",
          "slug": "authenticator-polling",
          "name": "Authenticator polls login until the API key is persisted",
          "description": "`Authenticator` (`forge_app/src/authenticator.rs`) wraps the auth service with an exponential retry built from `RetryConfig`, repeatedly calling `login_inner` until a token is stored, retrying only on `Error::AuthInProgress`, and exposing helpers for init and logout.",
          "tags": [
            "integration",
            "persistence",
            "policy",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/authenticator.rs",
              "sha256": "77bd910b3a838c5fc26c75bde487611c18a10899d9ef2c66da1c50d9d87862d0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-tools-claude-guidelines",
          "sectionId": "section-service-integrations",
          "slug": "claude-tool-guidelines",
          "name": "Claude tool guidelines demand exhaustive descriptions",
          "description": "`docs/tool-guidelines.md` captures Anthropic best practices—detailed purpose, usage bounds, parameter caveats, and <1024 character limits—so Forge tool authors document inputs well before registering them in the registry.",
          "tags": [
            "integration",
            "policy",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/docs/tool-guidelines.md",
              "sha256": "82fd156d4a7e2cb4c89e748ba3a92455bacd1f360c74aeb5e5447a80ecbc2a2f"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.4
        },
        {
          "id": "aspect-services-custom-instructions",
          "sectionId": "section-service-integrations",
          "slug": "custom-instructions-service",
          "name": "Custom instructions service aggregates AGENTS.md content",
          "description": "`ForgeCustomInstructionsService` (`forge_services/src/custom_instructions.rs`) searches the base directory, git root, and working directory for `AGENTS.md`, reading any matches once and caching the concatenated instructions in a `OnceCell`. It shells out to `git rev-parse --show-toplevel` via the command infra so repositories without git simply skip that layer.",
          "tags": [
            "workflow",
            "infrastructure",
            "integration",
            "persistence",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/custom_instructions.rs",
              "sha256": "631c77027d835bc43dc22a8c733e80a3b151a19860f2face066b4729d8b9d424"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-configuration-default-policy",
          "sectionId": "section-service-integrations",
          "slug": "default-policy-file",
          "name": "Default policy file allows all read, write, and command operations",
          "description": "`permissions.default.yaml` (`forge_services/src/permissions.default.yaml`) ships with permissive allow-all rules for filesystem, command, and fetch operations, providing the baseline policy that `ForgePolicyService` installs when no user file exists.",
          "tags": [
            "workflow",
            "infrastructure",
            "integration",
            "policy",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/permissions.default.yaml",
              "sha256": "b9681177a2d549c9e33cbaa120bab8329848c2db48aee373547f559f52375b20"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-services-forge-auth-service",
          "sectionId": "section-service-integrations",
          "slug": "forge-auth-service",
          "name": "ForgeAuthService talks to Forge API session endpoints",
          "description": "`ForgeAuthService` (`forge_services/src/auth.rs`) posts to the `/auth/sessions/` route to start login, exchanges session tokens with `Authorization` headers, fetches user and usage payloads, and persists `LoginInfo` inside the app config repository.",
          "tags": [
            "integration",
            "persistence",
            "policy",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/auth.rs",
              "sha256": "54e216f7e324e1f9048e692905fe5cdb38568c9815fd4ba87157e1ccb8c6374b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-service-integrations-forge-inquire",
          "sectionId": "section-service-integrations",
          "slug": "forge-inquire",
          "name": "ForgeInquire forwards interactive prompts via ForgeSelect",
          "description": "`ForgeInquire` implements `UserInfra` by dispatching to `ForgeSelect` input, select, and multi-select widgets inside `spawn_blocking`, keeping async callers responsive.",
          "tags": [
            "workflow",
            "integration",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/inquire.rs",
              "sha256": "7a3bd21a0a6b1f0581f525758052767b6c8873b5908c34f467ccb333b70d0ee4"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-services-mcp-config-manager",
          "sectionId": "section-service-integrations",
          "slug": "mcp-config-manager",
          "name": "MCP config manager merges scopes and invalidates caches",
          "description": "`ForgeMcpManager` (`forge_services/src/mcp/manager.rs`) resolves user and local config paths from the environment, merges JSON configs with precedence for lower scopes, caches the result behind a mutex, and clears both the file cache and persistent cache when writing updates.",
          "tags": [
            "workflow",
            "infrastructure",
            "integration",
            "persistence",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/mcp/manager.rs",
              "sha256": "445f85351eb5df7119cd330a839cde43c532c6be0202998527941c4ff25f90be"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "sectionId": "section-service-integrations",
          "slug": "mcp-executor-wrapper",
          "name": "MCP executor wrapper",
          "description": "`McpExecutor` (`forge_services/src/mcp/tool.rs`) pairs a `ToolName` with an `McpClientInfra`, cloning the client into an `Arc` and exposing `call_tool` to execute JSON inputs, providing a typed adapter for MCP-backed tools.",
          "tags": [
            "integration",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/mcp/tool.rs",
              "sha256": "3c21bebc8f2e87307f8d171fdba9a146e53726e2ccdaa63f7a30a96fbc21b4e1"
            }
          ],
          "importance": 0.48,
          "id": "aspect-service-integrations-mcp-executor-wrapper",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-service-integrations",
          "slug": "mcp-servers-cache",
          "name": "MCP servers cache entry",
          "description": "`McpServers` (`forge_domain/src/mcp_servers.rs`) stores successful MCP server tool lists and failure messages in hash maps, derives setters, and implements `IntoIterator` so infra can persist cache blobs while services iterate loaded tool definitions.",
          "tags": [
            "integration",
            "persistence",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/mcp_servers.rs",
              "sha256": "eddb402c7145515d0f81cdd52752317acfce0b94575c6039866964ec230e7d04"
            }
          ],
          "importance": 0.49,
          "id": "aspect-service-integrations-mcp-servers-cache",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-service-integrations-mcp-service-cache",
          "sectionId": "section-service-integrations",
          "slug": "mcp-service-cache",
          "name": "ForgeMcpService caches tool clients per config hash",
          "description": "`ForgeMcpService::update_mcp` compares the merged config `cache_key`, clears stale tool holders, and records failures so CLI surfaces misconfigured MCP servers without crashing tool execution.",
          "tags": [
            "integration",
            "persistence",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/mcp/service.rs",
              "sha256": "0c110baebb61a95dcc8b8e9041505991423df190279793c172e9020a287a7905"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-services-policy-permission-service",
          "sectionId": "section-service-integrations",
          "slug": "policy-permission-service",
          "name": "Policy service seeds defaults and confirms guarded operations",
          "description": "`ForgePolicyService` (`forge_services/src/policy.rs`) embeds the default YAML policy set, reads and updates policy files through the filesystem infra, evaluates operations with `PolicyEngine::can_perform`, and prompts the user for confirmation when rules demand it.",
          "tags": [
            "infrastructure",
            "integration",
            "policy",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/policy.rs",
              "sha256": "c613e538a6b576e841e88ae087c40089e258065907f4f146da88768f89471918"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-service-integrations-provider-json",
          "sectionId": "section-service-integrations",
          "slug": "provider-json",
          "name": "Provider catalog lists API keys, base URLs, and response types",
          "description": "`forge_services/src/provider/provider.json` enumerates Forge, OpenRouter, Requesty, XAI, OpenAI, Anthropic, Cerebras, ZAI, BigModel, Vertex, and Azure providers with their API key env vars, optional override parameters, and template URLs so runtime loading can hydrate endpoints without recompiling.",
          "tags": [
            "integration",
            "provider",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/provider.json",
              "sha256": "14cacffc0af193fdd8a245cbe44de559e567d0f441c896284e4d82e57eb03781"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "sectionId": "section-service-integrations",
          "slug": "provider-mock-server",
          "name": "Provider mock server harness",
          "description": "`MockServer` (`forge_services/src/provider/mock_server.rs`) spins up a `mockito` server asynchronously, exposes `mock_models` for `/models` fixtures, and normalises loopback ports, enabling deterministic provider tests.",
          "tags": [
            "infrastructure",
            "integration",
            "provider",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/mock_server.rs",
              "sha256": "1c838d6aed62e2560ac66f98152233691623d535c58d7f183bb96028805a52b2"
            }
          ],
          "importance": 0.41,
          "id": "aspect-service-integrations-provider-mock-server",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-services-provider-registry",
          "sectionId": "section-service-integrations",
          "slug": "provider-registry",
          "name": "Provider registry templates API endpoints and remembers choices",
          "description": "`ForgeProviderRegistry` (`forge_services/src/provider/registry.rs`) loads provider metadata from `provider.json`, ensures required API-key environment variables exist, renders URLs with Handlebars, caches providers in a `OnceCell`, and stores the active provider/model back into the app-config repository.",
          "tags": [
            "workflow",
            "integration",
            "provider",
            "persistence",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/registry.rs",
              "sha256": "beb41735daa774a740e9e50e0fc4de4aa5972cd48cdaed8ddba11337c2aea380"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.76
        }
      ]
    },
    {
      "id": "section-infrastructure",
      "slug": "infrastructure",
      "title": "Infrastructure",
      "entries": [
        {
          "id": "aspect-infrastructure-app-config-repo",
          "sectionId": "section-infrastructure",
          "slug": "app-config-repo",
          "name": "App config repository caches JSON-backed settings",
          "description": "`AppConfigRepositoryImpl` (`forge_infra/src/repository/app_config.rs`) reads `.config.json` through `ForgeFS::read_utf8`, caches the parsed `AppConfig` behind an `Arc<Mutex<Option<_>>>`, returns defaults when files are missing or invalid, and busts the cache after writes.",
          "tags": [
            "infrastructure",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/repository/app_config.rs",
              "sha256": "08fc1bf627576f874eacf3626ea2bf2d16083bcd3b8c4086738c7e45225a6446"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-infrastructure-cacache-repository",
          "sectionId": "section-infrastructure",
          "slug": "cacache-repository",
          "name": "Content-addressable cache wraps cacache with TTL awareness",
          "description": "`CacacheRepository` (`forge_infra/src/repository/cacache_repository.rs`) hashes lookup keys, stores JSON-serialized entries with timestamps, enforces optional TTLs, and clears corrupted cache lines automatically. It fulfills the `CacheRepository` trait so MCP and other services can cache responses across runs.",
          "tags": [
            "infrastructure",
            "mcp",
            "persistence"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/repository/cacache_repository.rs",
              "sha256": "a996c300625f8db4f145f4dd38a756d6bc1977a5d72fe6ed62ce8724b21410c3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.68
        },
        {
          "id": "aspect-infrastructure-command-executor",
          "sectionId": "section-infrastructure",
          "slug": "command-executor",
          "name": "Command executor enforces shells and streams output",
          "description": "`ForgeCommandExecutorService` (`forge_infra/src/executor.rs`) selects an rbash shell when restricted, injects color-friendly environment variables, serializes executions with a mutex, and streams stdout/stderr concurrently to either the terminal or sinks based on the `silent` flag. `execute_command_raw` reuses the same preparation to hand control back to the caller's stdio.",
          "tags": [
            "infrastructure",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/executor.rs",
              "sha256": "71a39c9b5242642003d49faf387f4e871c000f22788ea1594bcee7236a4a4d05"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-infrastructure-conversation-repository",
          "sectionId": "section-infrastructure",
          "slug": "conversation-repository",
          "name": "SQLite conversation repository preserves context metrics",
          "description": "`ConversationRepositoryImpl` (`forge_infra/src/repository/conversation.rs`) maps domain conversations to Diesel records, serializing context and metrics as JSON, scoping queries by workspace id, and upserting rows on conflict. Retrieval rebuilds domain objects with metadata timestamps so sessions survive restarts with full metrics.",
          "tags": [
            "infrastructure",
            "database",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/repository/conversation.rs",
              "sha256": "44b9345a0f38b97c099787399c69a246793e623d5d247a0047b9cea0671f9d30"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.72
        },
        {
          "id": "aspect-infrastructure-database-pool",
          "sectionId": "section-infrastructure",
          "slug": "database-pool",
          "name": "SQLite pool applies WAL pragmas and runs migrations",
          "description": "`DatabasePool::try_from` (`forge_infra/src/database/pool.rs`) creates parent directories, customizes SQLite connections with busy timeouts and WAL journaling, builds an r2d2 pool from `PoolConfig`, and executes embedded migrations before returning a handle.",
          "tags": [
            "infrastructure",
            "database"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/pool.rs",
              "sha256": "74928cec66cc1b73af4224b533bd3b9d3ba460ea96c83642c0515bfc74e06b9c"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.66
        },
        {
          "id": "aspect-infrastructure-environment-config",
          "sectionId": "section-infrastructure",
          "slug": "environment-config",
          "name": "Environment infra loads cascading .env and shell settings",
          "description": "`ForgeEnvironmentInfra` (`forge_infra/src/env.rs`) walks up from the cwd loading `.env` files, chooses rbash versus the user's shell based on restricted mode, and constructs the `Environment` object with retry config, HTTP TLS overrides, API URL, truncation limits, and custom history paths derived from environment variables.",
          "tags": [
            "infrastructure",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/env.rs",
              "sha256": "af6d339b2191b9fd05064ce4cb7dac434a6ebe8657d9947abaf64af0257b217a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.74
        },
        {
          "id": "aspect-infrastructure-http-client",
          "sectionId": "section-infrastructure",
          "slug": "http-client",
          "name": "HTTP infra honors TLS, DNS, and keep-alive configuration",
          "description": "`ForgeHttpInfra::new` (`forge_infra/src/http.rs`) builds a `reqwest` client with configurable timeouts, DNS (`hickory_dns`), TLS version bounds, optional root certificates, and keep-alive tweaks, while `headers` injects Forge-specific identifiers and `eventsource` posts JSON bodies for SSE endpoints with sanitized logging.",
          "tags": [
            "infrastructure",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/http.rs",
              "sha256": "3f72e44b29aa877766b52c1459cef53562a079db6ec66b68dfe73cca8d667205"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.7
        },
        {
          "id": "aspect-infrastructure-mcp-client",
          "sectionId": "section-infrastructure",
          "slug": "mcp-client",
          "name": "MCP client caches transports and retries transient failures",
          "description": "`ForgeMcpClient` (`forge_infra/src/mcp_client.rs`) lazily establishes either stdio or SSE transports, wraps the running RMCP service in an `Arc<RwLock>`, retries transport errors with `backon` exponential jitter, and maps RMCP tool responses into domain `ToolOutput` variants including base64 images.",
          "tags": [
            "infrastructure",
            "mcp",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/mcp_client.rs",
              "sha256": "7c00c973e76fab46828eee762d18205400dfecf8633562d51c2d600ad1cec301"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-infrastructure-mcp-server-adapter",
          "sectionId": "section-infrastructure",
          "slug": "mcp-server-adapter",
          "name": "McpServerInfra creates ForgeMcpClient instances",
          "description": "`ForgeMcpServer` (`forge_infra/src/mcp_server.rs`) implements `McpServerInfra` by instantiating `ForgeMcpClient` for each `McpServerConfig`, bridging orchestrated connections to the shared client implementation.",
          "tags": [
            "infrastructure",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/mcp_server.rs",
              "sha256": "bacc2df82a2b5f53e40ea043d1f9c0be8189aeb4b764af95b21e0a3e34d2e908"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.5
        },
        {
          "id": "aspect-infra-command-executor",
          "sectionId": "section-infrastructure",
          "slug": "command-executor-service",
          "name": "Command executor streams colored shell output",
          "description": "`ForgeCommandExecutorService` (`forge_infra/src/executor.rs`) wraps shell execution with optional restricted mode, enforces single command at a time via a mutex, pipes stdout and stderr asynchronously, and injects color friendly environment variables before spawning the process.",
          "tags": [
            "infrastructure",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/executor.rs",
              "sha256": "71a39c9b5242642003d49faf387f4e871c000f22788ea1594bcee7236a4a4d05"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.64
        },
        {
          "id": "aspect-infra-environment-factory",
          "sectionId": "section-infrastructure",
          "slug": "environment-factory",
          "name": "Environment infra reads .env chain and retry config",
          "description": "`ForgeEnvironmentInfra` (`forge_infra/src/env.rs`) walks up the working directory loading `.env` files, derives shell paths for restricted versus unrestricted modes, parses retry and HTTP settings from env vars, and builds the runtime `Environment` consumed by services.",
          "tags": [
            "infrastructure",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/env.rs",
              "sha256": "af6d339b2191b9fd05064ce4cb7dac434a6ebe8657d9947abaf64af0257b217a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "sectionId": "section-infrastructure",
          "slug": "sqlite-schema-conversations",
          "name": "SQLite conversations schema",
          "description": "`forge_infra/src/database/schema.rs` is the diesel-generated schema for the `conversations` table, exposing conversation IDs, workspace linkage, JSON context, timestamps, and metrics blobs used by the SQLite repository.",
          "tags": [
            "infrastructure",
            "database"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/schema.rs",
              "sha256": "ac66c77717c96d0c9f9bbcde77635e421e5df51f3f1372bcc6a4226523fbd864"
            }
          ],
          "importance": 0.55,
          "id": "aspect-infrastructure-sqlite-schema-conversations",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-infrastructure",
          "slug": "infra-error-types",
          "name": "Infrastructure error enum",
          "description": "`forge_infra/src/error.rs` introduces the `Error::UnsupportedMcpResponse` variant so MCP client/server layers can surface unsupported response types without panicking.",
          "tags": [
            "infrastructure",
            "mcp"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/error.rs",
              "sha256": "c90ce33ef7a82acf9e9d96ded8f6f539552cdfc189eeb167a745d1366a4e33df"
            }
          ],
          "importance": 0.36,
          "id": "aspect-infrastructure-infra-error-types",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-infrastructure",
          "slug": "forge-infra-crate-surface",
          "name": "ForgeInfra crate surface",
          "description": "`forge_infra/src/lib.rs` re-exports the command executor service and `ForgeInfra` builder along with env, HTTP, repository, and walker modules, forming the central infrastructure entry point.",
          "tags": [
            "infrastructure",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/lib.rs",
              "sha256": "4399f981dfcfa4324496309d4f63f6dbc8d8eccf84c92a9b7b2652ebb4f53a6a"
            }
          ],
          "importance": 0.53,
          "id": "aspect-infrastructure-forge-infra-crate-surface",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-infra-conversations-table",
          "sectionId": "section-infrastructure",
          "slug": "conversations-table",
          "name": "Initial migration creates conversations table with timestamps",
          "description": "`2025-09-12-065405_create_conversations_table` adds the `conversations` table keyed by `conversation_id`, storing titles, workspace ids, JSON context, and audit timestamps, establishing the persistence backbone for chat histories.",
          "tags": [
            "database",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-09-12-065405_create_conversations_table/up.sql",
              "sha256": "b0cadeed68b839f5b49eda5ca595631430aa1d3c82b8af308707427c98e78855"
            },
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-09-12-065405_create_conversations_table/down.sql",
              "sha256": "07ec0d6659606678910682bf3b24f2908d3abc3e3649aa7da179e41568276305"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-infra-conversations-indexes",
          "sectionId": "section-infrastructure",
          "slug": "conversations-indexes",
          "name": "Follow-up migration adds workspace/time indexes for conversations",
          "description": "`2025-09-12-065740_add_conversations_indexes` builds composite indexes on `(workspace_id, created_at)` and `(workspace_id, updated_at)` (filtering on non-null context) to accelerate recency queries for active sessions.",
          "tags": [
            "infrastructure",
            "database",
            "persistence"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-09-12-065740_add_conversations_indexes/up.sql",
              "sha256": "23f2fb2ac6bc25bef30d9644067d068961b8bd6f203c64f33c04ff83887a427f"
            },
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-09-12-065740_add_conversations_indexes/down.sql",
              "sha256": "e5a98f57ffb43a3d98ece4b179b65082bfc99d1a3ddb31ec3f3a428ae4ee70bb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-infra-conversation-metrics-column",
          "sectionId": "section-infrastructure",
          "slug": "conversation-metrics-column",
          "name": "Metrics column persists summarised conversation analytics",
          "description": "`2025-10-16-000000_add_metrics_to_conversations` introduces a `metrics` TEXT column, letting the platform cache aggregated usage data alongside each conversation without adding side tables.",
          "tags": [
            "infrastructure",
            "database"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-10-16-000000_add_metrics_to_conversations/up.sql",
              "sha256": "f916d25484358a01aa895118ba65c8f94705e3a5edff3c0e6c35250cfb8aa882"
            },
            {
              "path": "projects/forge/crates/forge_infra/src/database/migrations/2025-10-16-000000_add_metrics_to_conversations/down.sql",
              "sha256": "b096ecebe86cfa108264d9e8338f3548592733605d6d9410070dc1d518f45ca8"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-infrastructure-diesel-config",
          "sectionId": "section-infrastructure",
          "slug": "diesel-schema-config",
          "name": "diesel.toml pins schema output and migration directory",
          "description": "`diesel.toml` directs Diesel to emit schema updates into `database/schema.rs` and look for migrations under `database/migrations`, keeping the SQLite layer aligned with Forge's repository layout.",
          "tags": [
            "infrastructure",
            "database",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/diesel.toml",
              "sha256": "a920435f2a481614639dbfd994de50a8a12c2056c738e95eaa18e97c2321cf63"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.3
        },
        {
          "id": "aspect-infrastructure-repository-module",
          "sectionId": "section-infrastructure",
          "slug": "repository-module-surface",
          "name": "Repository module exposes app config, cache, and conversation stores",
          "description": "`forge_infra/src/repository/mod.rs` groups the app-config, content-addressable cache, and conversation repository implementations, providing the public exports that `ForgeInfra` wires into services.",
          "tags": [
            "infrastructure",
            "services",
            "database"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/repository/mod.rs",
              "sha256": "7ff32f50dc140a66d501d4ba4f96b1c4bcd1b8d414f648896d428c530bd68983"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.27
        },
        {
          "id": "aspect-infrastructure-database-module",
          "sectionId": "section-infrastructure",
          "slug": "database-module-surface",
          "name": "Database module surfaces Diesel pool and schema",
          "description": "`forge_infra/src/database/mod.rs` exposes the Diesel connection pool builders and the generated schema module so repositories share a single database plumbing entry point.",
          "tags": [
            "infrastructure",
            "database"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/database/mod.rs",
              "sha256": "712e5d56f0384c0e751ea2ad7590146a643ebcdc61b5681c1af48d4897414720"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.25
        },
        {
          "id": "aspect-infrastructure-service-utils-module",
          "sectionId": "section-infrastructure",
          "slug": "service-utils-module",
          "name": "Service utils module exposes path assertions for tools",
          "description": "`forge_services/src/utils/mod.rs` surfaces the absolute-path validator (and test-only temp dir helpers) so service implementations enforce absolute paths on filesystem operations from one shared utility module.",
          "tags": [
            "infrastructure",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/utils/mod.rs",
              "sha256": "2a69c327249c74233d38b5ce470aa701b9f9d8fb4ae5e0a6788f446d80a03324"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        }
      ]
    },
    {
      "id": "section-filesystem",
      "slug": "filesystem",
      "title": "Filesystem & Walker",
      "entries": [
        {
          "id": "aspect-filesystem-binary-detection",
          "sectionId": "section-filesystem",
          "slug": "binary-detection",
          "name": "Binary detector distinguishes UTF encodings from binaries",
          "description": "`binary_detection::is_binary` (`forge_fs/src/binary_detection.rs`) reads up to 512 bytes, checks BOM signatures for UTF-8/UTF-16, and scans for zero-byte patterns to separate true binary files from text encodings, producing deterministic decisions for tooling.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/binary_detection.rs",
              "sha256": "f2b598907e2f947e5162ba82e63bbe99d453f1ed1aa6fbf0f7b6264b6a156164"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-infrastructure-create-dirs-service",
          "sectionId": "section-filesystem",
          "slug": "create-dirs-service",
          "name": "Directory service materializes nested paths asynchronously",
          "description": "`ForgeCreateDirsService` (`forge_infra/src/fs_create_dirs.rs`) satisfies `FileDirectoryInfra` with a simple async wrapper around `ForgeFS::create_dir_all`, ensuring nested directories exist before tooling writes.",
          "tags": [
            "filesystem",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_create_dirs.rs",
              "sha256": "3c1126504df442872dd6823df60cda1263904d0d036ab2550b91cc74061c8f7d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-filesystem-directory-reader",
          "sectionId": "section-filesystem",
          "slug": "directory-reader",
          "name": "Directory reader streams filtered files in parallel",
          "description": "`ForgeDirectoryReaderService` (`forge_infra/src/fs_read_dir.rs`) verifies the target exists, optionally compiles a `globset` filter, collects matching files, and reads them concurrently with `futures::join_all`, returning `(PathBuf, String)` pairs while skipping unreadable entries.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_read_dir.rs",
              "sha256": "ef9e5c3bf3374f6aecb00976f919e783d66e32e8569066f6548886de54fc8bd6"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.56
        },
        {
          "id": "aspect-infrastructure-file-meta-service",
          "sectionId": "section-filesystem",
          "slug": "file-meta-service",
          "name": "File meta service exposes existence and binary checks",
          "description": "`ForgeFileMetaService` (`forge_infra/src/fs_meta.rs`) implements `FileInfoInfra` by reusing `ForgeFS` helpers for `exists`, `is_file`, `is_binary_file`, and `file_size`, providing lightweight metadata probes to higher layers.",
          "tags": [
            "filesystem",
            "infrastructure",
            "read",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_meta.rs",
              "sha256": "44bb7e3268d8e651e4471319b0e05c87ebe585fa519a24ca489758a8c3dbd825"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.47
        },
        {
          "id": "aspect-infrastructure-file-read-service",
          "sectionId": "section-filesystem",
          "slug": "file-read-service",
          "name": "File read service wraps ForgeFS async readers",
          "description": "`ForgeFileReadService` (`forge_infra/src/fs_read.rs`) fulfills `FileReaderInfra` by delegating UTF-8 reads, binary reads, and range reads to `ForgeFS`, returning both content and `FileInfo` metadata for downstream consumers.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_read.rs",
              "sha256": "1c12aa747063a5d3862e61049ea0c988573644cf286fffe1dc2cc3dcf6d2a4b9"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.54
        },
        {
          "id": "aspect-infrastructure-file-remove-service",
          "sectionId": "section-filesystem",
          "slug": "file-remove-service",
          "name": "File remover snapshots files before deletion",
          "description": "`ForgeFileRemoveService` (`forge_infra/src/fs_remove.rs`) calls `SnapshotInfra::create_snapshot` before invoking `ForgeFS::remove_file`, enabling undo support for destructive deletions.",
          "tags": [
            "filesystem",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_remove.rs",
              "sha256": "1ffaca29c589d5209c28ae70faa248db05dba860e6e0350b3419a5896c1457b8"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.55
        },
        {
          "id": "aspect-infrastructure-file-write-service",
          "sectionId": "section-filesystem",
          "slug": "file-write-service",
          "name": "File writer creates parents and snapshots overwrites",
          "description": "`ForgeFileWriteService` (`forge_infra/src/fs_write.rs`) creates missing parent directories before writes, snapshots existing files through `SnapshotInfra` when `capture_snapshot` is true, and supports durable temp files with custom prefixes and suffixes.",
          "tags": [
            "filesystem",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_write.rs",
              "sha256": "4bb9821612e82023fcefe2556221663a6a4e44925a9955d89cce2f69a75c3e8f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.62
        },
        {
          "id": "aspect-filesystem-forgefs-error-surface",
          "sectionId": "section-filesystem",
          "slug": "forgefs-error-surface",
          "name": "ForgeFS standardizes file-system error context",
          "description": "The `ForgeFS` crate (`forge_fs/src/lib.rs`) wraps asynchronous file operations and exposes helpers such as `read`, `write`, `create_dir_all`, and metadata queries with consistent `anyhow::Context` messages. Other services rely on it to guarantee user-facing errors report the failing path and operation.",
          "tags": [
            "filesystem",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/lib.rs",
              "sha256": "321bc9a6fa94a9bada1e2ed11b5105e12442de0a81d157f5743830b0284b7a0d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-filesystem-read-range",
          "sectionId": "section-filesystem",
          "slug": "read-range",
          "name": "ForgeFS supports ranged UTF-8 reads with validation",
          "description": "`ForgeFS::read_range_utf8` (`forge_fs/src/read_range.rs`) rejects invalid ranges, ensures the target is text, reads the file once, and returns the selected lines alongside a `FileInfo` struct describing totals. Tests cover multi-byte content and edge cases to ensure consistent AI tool behavior.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/read_range.rs",
              "sha256": "d74cff8a11d777bef58a98f5f62f8fb0a311cf8447cf5e9127aa7ee897eebc9b"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.62
        },
        {
          "id": "aspect-filesystem-snapshot-identity",
          "sectionId": "section-filesystem",
          "slug": "snapshot-identity",
          "name": "Snapshot metadata hashes paths and timestamps filenames",
          "description": "`Snapshot` (`forge_snaps/src/snapshot.rs`) enforces absolute paths, generates UUID-based IDs with creation timestamps, hashes the path using FNV to pick a directory, and formats filenames like `YYYY-MM-DD_HH-MM-SS-#########.snap` so snapshots are ordered and collision-free.",
          "tags": [
            "filesystem",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_snaps/src/snapshot.rs",
              "sha256": "ac1816217fe19c656c90dd76b5233cdd6412ca6105d309b51abc0212d6a03436"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-infrastructure-snapshot-infra",
          "sectionId": "section-filesystem",
          "slug": "snapshot-infra",
          "name": "Snapshot infra shares filesystem service per environment",
          "description": "`ForgeFileSnapshotService` (`forge_infra/src/fs_snap.rs`) derives the snapshots directory from the domain `Environment`, wraps a single `SnapshotService` in an `Arc`, and forwards create/undo calls so higher layers use snapshots without handling filesystem paths directly.",
          "tags": [
            "filesystem",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/fs_snap.rs",
              "sha256": "764f089a8d403587fe8b8b46dafee3bb71a7b7f1222a8cbc5f65f7f50e4dfced"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-filesystem-snapshot-rollbacks",
          "sectionId": "section-filesystem",
          "slug": "snapshot-rollbacks",
          "name": "Snapshot service enables undo via hashed archives",
          "description": "`SnapshotService` (`forge_snaps/src/service.rs`) writes file snapshots under hashed directories, ensures parent directories exist with `ForgeFS::create_dir_all`, and restores the most recent `.snap` when undoing changes. It cleans up consumed snapshots and returns clear errors when no history exists.",
          "tags": [
            "filesystem",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_snaps/src/service.rs",
              "sha256": "9cd4e65c12d40473a97030e86471707f5454fb3ac957c039bdcf9427b026e373"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-filesystem-walker-blocking",
          "sectionId": "section-filesystem",
          "slug": "walker-blocking",
          "name": "Walker offloads directory traversal and enforces budgets",
          "description": "`Walker::get` (`forge_walker/src/walker.rs`) clones settings into a blocking task, iterates with `ignore::WalkBuilder`, tracks per-directory entry counts, stops when size or file-count caps are hit, and appends `/` to directory paths so async callers stay responsive.",
          "tags": [
            "filesystem",
            "discovery"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_walker/src/walker.rs",
              "sha256": "593e337778b82f7d748b99f8c65edce6662f6538fdeadcfed37f65b407fa18b7"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.57
        },
        {
          "id": "aspect-filesystem-walker-limits",
          "sectionId": "section-filesystem",
          "slug": "walker-limits",
          "name": "Walker enforces depth, breadth, and binary filters",
          "description": "`Walker` (`forge_walker/src/walker.rs`) tracks limits for depth, breadth, file size, total files, and aggregate bytes, skipping likely binary files via an embedded extension list. It walks directories with ignore rules and returns normalized paths ending in `/` for directories so higher layers can filter easily.",
          "tags": [
            "filesystem",
            "discovery"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_walker/src/walker.rs",
              "sha256": "593e337778b82f7d748b99f8c65edce6662f6538fdeadcfed37f65b407fa18b7"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.65
        },
        {
          "id": "aspect-filesystem-is-binary-detection",
          "sectionId": "section-filesystem",
          "slug": "is-binary-detection",
          "name": "Binary detection samples file content via infer",
          "description": "`ForgeFS::is_binary` reads the first 8KB, classifies MIME types with the `infer` crate, and treats empty files as text while returning a descriptive label for UI warnings.",
          "tags": [
            "filesystem",
            "read",
            "validation",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/is_binary.rs",
              "sha256": "9a118111769e34dda01fb815bef9f437909fb570063f41088fd9629aeada2d68"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-filesystem-walker-service",
          "sectionId": "section-filesystem",
          "slug": "walker-service",
          "name": "ForgeWalkerService adapts domain walkers to forge_walker",
          "description": "`ForgeWalkerService::walk` maps domain `Walker` limits to `forge_walker::Walker`, selecting `max_all` for unlimited scans or tightening breadth/size before returning `WalkedFile`s to the app layer.",
          "tags": [
            "filesystem",
            "services",
            "discovery",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/src/walker.rs",
              "sha256": "e001c31ccbe1ec9c2535df842fb0de767db59e956b688b7daa1a60737d940d59"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "sectionId": "section-filesystem",
          "slug": "forge-fs-errors",
          "name": "ForgeFS error reporting",
          "description": "`forge_fs/src/error.rs` enumerates validation failures (binary detection, zero-based indices, inverted ranges), UTF-8 conversion, and IO errors so filesystem tools can return actionable diagnostics with the offending offsets.",
          "tags": [
            "filesystem",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/error.rs",
              "sha256": "e7db7c2ed8a7772a56484ca0114e932dbc187861e9a06f45f99f64877530ec03"
            }
          ],
          "importance": 0.51,
          "id": "aspect-filesystem-forge-fs-errors",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "file-info-range",
          "name": "File info range helper",
          "description": "`FileInfo` (`forge_fs/src/file_info.rs`) tracks start/end lines and total line counts and exposes `is_partial()` so read operations can signal whether they returned a full file or a clipped window.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/file_info.rs",
              "sha256": "ad9d939d2d6e37513e6f16b5ad3abbaffaf3c1210254e9b910ce39f3529aef76"
            }
          ],
          "importance": 0.37,
          "id": "aspect-filesystem-file-info-range",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "forge-fs-file-size",
          "name": "Asynchronous file size check",
          "description": "`ForgeFS::file_size` (`forge_fs/src/file_size.rs`) wraps `tokio::fs::metadata` with context-rich errors so truncation logic can inspect file sizes without loading the full contents.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/file_size.rs",
              "sha256": "13c78f2d81bc6fb7124e23b7c2c271782e9106a8fe8af33f30338c07aed1e7a6"
            }
          ],
          "importance": 0.35,
          "id": "aspect-filesystem-forge-fs-file-size",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "forge-fs-meta-ops",
          "name": "Filesystem metadata helpers",
          "description": "`forge_fs/src/meta.rs` exposes `exists`, `is_file`, async `read_dir`, and `is_binary_file` forwarding to `is_binary`, giving services a unified surface for filesystem probes with contextual error messages.",
          "tags": [
            "filesystem",
            "discovery"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/meta.rs",
              "sha256": "91dca63f5943a16b86e6e7f10cd126b8bfb876d2a022c30f6a08714ae773ea47"
            }
          ],
          "importance": 0.42,
          "id": "aspect-filesystem-forge-fs-meta-ops",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "forge-fs-read-api",
          "name": "Read helpers for ForgeFS",
          "description": "`forge_fs/src/read.rs` implements `read`, `read_utf8`, and `read_to_string` via Tokio FS with contextual errors, centralizing text decoding and binary reads for tool services.",
          "tags": [
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/read.rs",
              "sha256": "ece5da39dcb9c2c39ec21999cc8dd0ddc6af94ecba621dd0c7bf6e54fbc9d306"
            }
          ],
          "importance": 0.48,
          "id": "aspect-filesystem-forge-fs-read-api",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "forge-fs-write-api",
          "name": "Write helpers for ForgeFS",
          "description": "`forge_fs/src/write.rs` implements async `create_dir_all`, `write`, and `remove_file` with contextual errors so tools can mutate the filesystem while preserving precise failure messages.",
          "tags": [
            "filesystem",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/src/write.rs",
              "sha256": "bc5782b594f6e4b78299b3c397d12da830348662b5ee8cd670ab9ab3ebfa11af"
            }
          ],
          "importance": 0.49,
          "id": "aspect-filesystem-forge-fs-write-api",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "assert-absolute-path",
          "name": "Absolute path assertion",
          "description": "`assert_absolute_path` (`forge_services/src/utils/path.rs`) checks `Path::is_absolute` and returns an `anyhow::bail` error with guidance when paths are relative, guarding tools that require fully qualified locations.",
          "tags": [
            "filesystem",
            "services",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/utils/path.rs",
              "sha256": "00ea96cea6aeb5ed31215dde345af3f01df9e5c8d1ce5e75b34be3beaa057107"
            }
          ],
          "importance": 0.39,
          "id": "aspect-filesystem-assert-absolute-path",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-filesystem",
          "slug": "services-temp-dir",
          "name": "Namespaced temp directory helper",
          "description": "`TempDir` (`forge_services/src/utils/temp_dir.rs`) creates temp directories with start/end markers via `tempfile::Builder` under the canonical system temp dir, exposing the path for tool operations and ensuring cleanup via RAII.",
          "tags": [
            "filesystem",
            "services",
            "infrastructure"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/utils/temp_dir.rs",
              "sha256": "51b0106cd62b3fee69417a08c045f7c63abf0d51a02b8f55176e3a290b64a597"
            }
          ],
          "importance": 0.37,
          "id": "aspect-filesystem-services-temp-dir",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-filesystem-forge-walker-lib",
          "sectionId": "section-filesystem",
          "slug": "forge-walker-lib",
          "name": "forge_walker lib re-exports asynchronous walker types",
          "description": "`forge_walker/src/lib.rs` surfaces the `Walker` and `File` types so discovery and context builders can iterate repositories through a single crate-level import.",
          "tags": [
            "filesystem",
            "discovery"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_walker/src/lib.rs",
              "sha256": "6bf29eee7751a857388a8baa260f66d55e3d3f1e1ef94cfe04f6fd33a745d74a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        }
      ]
    },
    {
      "id": "section-tools",
      "slug": "tools",
      "title": "Tool Domain & Execution",
      "entries": [
        {
          "id": "aspect-tools-shell-execution",
          "sectionId": "section-tools",
          "slug": "shell-tool",
          "name": "ForgeShell validates commands and strips ANSI when requested",
          "description": "`ForgeShell` (`forge_services/src/tool_services/shell.rs`) checks for empty commands, executes them via the shared `CommandInfra`, and optionally removes ANSI sequences before returning `ShellOutput`. It forwards requested environment variables and records which shell was used for transparency.",
          "tags": [
            "tools",
            "shell",
            "validation",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/shell.rs",
              "sha256": "6b9e00de18334025a0ac835c21f9eda108835827862c476bb09c45373a0c8450"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.66
        },
        {
          "id": "aspect-tools-tool-resolver",
          "sectionId": "section-tools",
          "slug": "tool-resolver",
          "name": "ToolResolver applies globbed allow-lists per agent",
          "description": "`ToolResolver` (`forge_app/src/tool_resolver.rs`) compiles agent tool patterns into glob matchers, deduplicates tool names, and sorts matches so orchestration receives stable, filtered `ToolDefinition` slices. The static `is_allowed` helper lets other services preflight tool access quickly.",
          "tags": [
            "tools",
            "services",
            "workflow",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/tool_resolver.rs",
              "sha256": "9ce62e9b95696e86a8af2a186eb01cdaad4576c758e466513530187bd21aab44"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.61
        },
        {
          "id": "aspect-tools-tool-executor",
          "sectionId": "section-tools",
          "slug": "tool-executor",
          "name": "ToolExecutor routes tool calls and captures large outputs",
          "description": "`ToolExecutor` (`forge_app/src/tool_executor.rs`) fans out `Tools` enum variants to filesystem, net, policy, and shell services, checks policy decisions via `ToolCallContext`, and dumps oversized stdout/stderr or fetch bodies into temp files when truncation limits trigger. It normalizes tool results back into `ToolOperation` records for orchestration.",
          "tags": [
            "tools",
            "services",
            "workflow",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/tool_executor.rs",
              "sha256": "4e4836d8b51f183967afeddb5be3e507b34272e13a72fc8118d589bcc8cedb4e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-tools-fs-read-service",
          "sectionId": "section-tools",
          "slug": "fs-read-service",
          "name": "Filesystem read service enforces size guard",
          "description": "`ForgeFsRead` (`forge_services/src/tool_services/fs_read.rs`) validates absolute paths, checks file size against environment limits via `assert_file_size`, normalizes requested ranges with `resolve_range`, and returns structured line metadata from `range_read_utf8` for UI rendering.",
          "tags": [
            "tools",
            "filesystem",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_read.rs",
              "sha256": "eb5fb158076a47caafeed5ff8a208392b9309a22b6d3af1f913162961f03ead5"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.66
        },
        {
          "id": "aspect-tools-fs-create-service",
          "sectionId": "section-tools",
          "slug": "fs-create-service",
          "name": "Filesystem create tool validates syntax before writing",
          "description": "`ForgeFsCreate` (`forge_services/src/tool_services/fs_create.rs`) asserts absolute paths, runs `tool_services::syn::validate` for supported languages, creates intermediate directories, and either preserves previous content or errors when overwrite is not allowed before writing via the snapshot aware `write` call.",
          "tags": [
            "tools",
            "filesystem",
            "validation",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_create.rs",
              "sha256": "d3bd32b8c2afc5d44420ce3c1381949cec37748cce9780c4747b9ba3f81f0867"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.63
        },
        {
          "id": "aspect-tools-fs-patch-service",
          "sectionId": "section-tools",
          "slug": "fs-patch-service",
          "name": "Patch tool applies exact text operations",
          "description": "`ForgeFsPatch` (`forge_services/src/tool_services/fs_patch.rs`) implements precise `PatchOperation` handling, finding exact ranges for search text, preventing ambiguous replacements, supporting prepend, append, swap, and delete semantics, and writing the updated buffer back through the file writer infra.",
          "tags": [
            "tools",
            "filesystem",
            "operations",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_patch.rs",
              "sha256": "a87a0c428c1e1f8e43bf879d371e39bc84329960f5123a6bec755313e8e8d5f2"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.65
        },
        {
          "id": "aspect-tools-fs-remove-service",
          "sectionId": "section-tools",
          "slug": "fs-remove-service",
          "name": "Remove tool captures deleted content snapshot",
          "description": "`ForgeFsRemove` (`forge_services/src/tool_services/fs_remove.rs`) ensures absolute paths, reads the existing file before deletion, executes the remover infra, and returns the prior content so the agent can report what was deleted.",
          "tags": [
            "tools",
            "filesystem",
            "operations",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_remove.rs",
              "sha256": "ccd9d446dfeb692cf720cfb79de57e301e30808fb4b105c5082fab9319f00f8e"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.58
        },
        {
          "id": "aspect-tools-fs-search-service",
          "sectionId": "section-tools",
          "slug": "fs-search-service",
          "name": "Filesystem search mixes glob and regex filters",
          "description": "`ForgeFsSearch` (`forge_services/src/tool_services/fs_search.rs`) walks directories with `Walker::unlimited`, filters files by optional glob pattern, skips binaries, and runs case insensitive `RegexMatcher` scans to emit `MatchResult` entries with line numbers for each hit.",
          "tags": [
            "tools",
            "filesystem",
            "operations",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_search.rs",
              "sha256": "fae8740cd375959afa05e945bc918ecf5c693fe95166a46399d94322719855c0"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.67
        },
        {
          "id": "aspect-tools-fs-undo-service",
          "sectionId": "section-tools",
          "slug": "fs-undo-service",
          "name": "Undo tool restores latest snapshot for a path",
          "description": "`ForgeFsUndo` (`forge_services/src/tool_services/fs_undo.rs`) validates absolute paths, captures content before rollback when the file exists, runs `undo_snapshot`, and returns before and after buffers so agents can confirm what changed.",
          "tags": [
            "tools",
            "filesystem",
            "operations",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fs_undo.rs",
              "sha256": "b198fd52277cea7e728b59d10904f90c1ad9fd8904b94915053bd69ca1d69df8"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.61
        },
        {
          "id": "aspect-tools-fetch-service",
          "sectionId": "section-tools",
          "slug": "fetch-service",
          "name": "Fetch tool respects robots.txt and renders markdown",
          "description": "`ForgeFetch` (`forge_services/src/tool_services/fetch.rs`) checks site robots.txt before issuing a request, streams responses with reqwest, converts HTML to markdown unless `raw` is forced, and caps payload length while returning HTTP status and content type metadata.",
          "tags": [
            "tools",
            "services",
            "workflow",
            "configuration",
            "integration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/fetch.rs",
              "sha256": "5188a01f99f757bd98152604ec74e072b023f9078b1857a12d8d91a618e39560"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.62
        },
        {
          "id": "aspect-tools-followup-service",
          "sectionId": "section-tools",
          "slug": "followup-service",
          "name": "Follow up tool orchestrates user clarifications",
          "description": "`ForgeFollowup` (`forge_services/src/tool_services/followup.rs`) bridges the agent prompt flow to `UserInfra`, switching between free form questions, single select, or multi select prompts and formatting the returned selection summary for the transcript.",
          "tags": [
            "tools",
            "conversation",
            "workflow",
            "services",
            "integration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/followup.rs",
              "sha256": "3c14247d0422c11efa2ef4b4cf47493d80c7b2d9e9732924404f0a4edc99a752"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.58
        },
        {
          "id": "aspect-tools-plan-create-service",
          "sectionId": "section-tools",
          "slug": "plan-create-service",
          "name": "Plan create tool writes dated plan files",
          "description": "`ForgePlanCreate` (`forge_services/src/tool_services/plan_create.rs`) stamps plan filenames with the current date, ensures the `plans` directory exists under the working tree, refuses to overwrite existing plans, and writes markdown content with snapshot capture enabled.",
          "tags": [
            "tools",
            "operations",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/plan_create.rs",
              "sha256": "4bc2e07c27b6b7785063d9f811346cb963061468c774c95e24f0d8f253b8a3a5"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.57
        },
        {
          "id": "aspect-tools-tool-syntax-validation",
          "sectionId": "section-tools",
          "slug": "tool-syntax-validation",
          "name": "Tree-sitter validation protects generated files",
          "description": "`tool_services/syn/validate.rs` maps file extensions to Tree-sitter languages via `extension`, parses generated content, and returns structured errors so tool writes fail fast when syntax is broken.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/validate.rs",
              "sha256": "a3a5f2f6c41f06fccd32901d28b0be41455bf983bb8291cfabd1774c7c982157"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.63
        }
      ]
    },
    {
      "id": "section-tool-domain",
      "slug": "tool-domain",
      "title": "Tool Domain & Parsing",
      "entries": [
        {
          "id": "aspect-tools-json-repair-parser",
          "sectionId": "section-tool-domain",
          "slug": "json-repair-parser",
          "name": "JsonRepairParser fixes markdown fences and trailing commas",
          "description": "`JsonRepairParser` (`forge_json_repair/src/parser.rs`) skips leading and trailing code fences, removes comments, inserts missing commas, trims redundant closing braces, and coerces newline-delimited fragments before deserializing via `serde_json`. It recovers malformed tool payloads produced by LLMs.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/src/parser.rs",
              "sha256": "fadb6934e1ea4ed29a1cba527375732587453106b601201a6dab985c37d62469"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.63
        },
        {
          "id": "aspect-domain-tool-call-arguments",
          "sectionId": "section-tool-domain",
          "slug": "tool-call-arguments",
          "name": "ToolCallArguments repairs malformed JSON before parsing",
          "description": "`ToolCallArguments` (`forge_domain/src/tool_call_args.rs`) keeps either raw strings or parsed `serde_json::Value`, using `forge_json_repair` to downgrade broken payloads and `from_parameters` to coerce string maps into typed JSON values.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "configuration",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_call_args.rs",
              "sha256": "1f6bc7640222abb3d1c6ed5e958d16151f31bc2d1e21a22103a49be3ad505cb7"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.68
        },
        {
          "id": "aspect-domain-tool-call-context",
          "sectionId": "section-tool-domain",
          "slug": "tool-call-context",
          "name": "ToolCallContext streams responses and updates metrics",
          "description": "`ToolCallContext` (`forge_domain/src/tool_call_context.rs`) carries an optional `ArcSender` for streaming `ChatResponse`s back to the UI and a mutex-protected `Metrics`, exposing helpers for titles, plain text messages, and scoped metric mutation.",
          "tags": [
            "tools",
            "workflow",
            "conversation",
            "domain",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_call_context.rs",
              "sha256": "1e2cddd121ab7830cb9f24614752d388038bf41e36b13390565e22ad42eb4efb"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.62
        },
        {
          "id": "aspect-domain-tool-call-parser",
          "sectionId": "section-tool-domain",
          "slug": "tool-call-parser",
          "name": "Tool call parser extracts `<forge_tool_call>` blocks",
          "description": "`parse` (`forge_domain/src/tool_call_parser.rs`) walks assistant output with `nom`, locating `<forge_tool_call>` tags, mapping nested argument tags into a `HashMap`, and yielding `ToolCallFull` instances for the orchestrator.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_call_parser.rs",
              "sha256": "e9c028e68455c8de39f0b3f4e12ce66798c57e705a1c5e595752617b250e85d3"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.7
        },
        {
          "id": "aspect-tools-tool-call-reconstruction",
          "sectionId": "section-tool-domain",
          "slug": "tool-call-reconstruction",
          "name": "ToolCallFull rebuilds streamed tool invocations",
          "description": "`ToolCallFull::try_from_parts` concatenates partial arguments, reuses call IDs when chunks change, and `try_from_xml` repairs malformed JSON via `forge_json_repair` to keep automation resilient.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "domain",
            "provider"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_call.rs",
              "sha256": "8b8149398befee05b1139ac36413ad84be28a36b56452afbdbfea2ff168c349e"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.74
        },
        {
          "sectionId": "section-tool-domain",
          "slug": "tool-choice-enum",
          "name": "Tool choice strategy enum",
          "description": "`ToolChoice` (`forge_domain/src/tool_choice.rs`) enumerates `None`, `Auto`, `Required`, and explicit `Call(ToolName)` options, matching provider APIs so workflows can insist on tools or delegate selection to the model.",
          "tags": [
            "provider",
            "tools",
            "domain",
            "workflow",
            "integration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_choice.rs",
              "sha256": "903ba90093a4e31f10166039c08dede32cd7095359fee18309734e0ef688fb7b"
            }
          ],
          "importance": 0.52,
          "id": "aspect-provider-pipeline-tool-choice-enum",
          "lastUpdated": "2025-10-24"
        },
        {
          "id": "aspect-domain-tool-definition",
          "sectionId": "section-tool-domain",
          "slug": "tool-definition",
          "name": "ToolDefinition stores MCP-compatible schema metadata",
          "description": "`ToolDefinition` (`forge_domain/src/tool_definition.rs`) pairs a `ToolName` with description text and a `schemars` schema root, enabling Forge to expose tools that align with Model Context Protocol requirements.",
          "tags": [
            "tools",
            "workflow",
            "configuration",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_definition.rs",
              "sha256": "daf87790205852d49752ca8a3cf80a006b13417f61999570792f93702183c160"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.6
        },
        {
          "id": "aspect-tools-tool-description-macro",
          "sectionId": "section-tool-domain",
          "slug": "tool-description-macro",
          "name": "ToolDescription derive stitches doc comments into runtime text",
          "description": "`ToolDescription` (`forge_tool_macros/src/lib.rs`) walks `#[doc = \"...\"]` attributes, concatenates lines, and generates an impl that returns the doc string, supporting generic structs as well as plain types. It panics at compile time when no doc comments exist so tool metadata stays documented.",
          "tags": [
            "tools",
            "workflow",
            "configuration",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tool_macros/src/lib.rs",
              "sha256": "cd29a1f9e3f07b924db0854253d22789d54c19e4131ecd3327e408371ca11b61"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.44
        },
        {
          "id": "aspect-domain-tool-name-sanitization",
          "sectionId": "section-tool-domain",
          "slug": "tool-name-sanitization",
          "name": "ToolName sanitizes labels into lowercase snake_case",
          "description": "`ToolName::sanitized` (`forge_domain/src/tool_name.rs`) collapses whitespace and punctuation via regex, lowercases input, and trims duplicate underscores so MPC registrations stay stable across providers.",
          "tags": [
            "tools",
            "workflow",
            "validation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.62
        },
        {
          "id": "aspect-tools-tool-result-handling",
          "sectionId": "section-tool-domain",
          "slug": "tool-result-handling",
          "name": "ToolResult captures successes, errors, and mixed outputs",
          "description": "`ToolResult::failure` renders error chains inside a `<tool_call_error>` element with a reflection prompt, while `ToolOutput::combine` and `ToolValue` support mixed text/image payloads.",
          "tags": [
            "tools",
            "services",
            "workflow",
            "configuration",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_result.rs",
              "sha256": "39640930ee2af9f4051b2e1f89de0f5c495f91b715e3da33386fd9e8048f7f63"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.68
        },
        {
          "id": "aspect-tools-tool-schema",
          "sectionId": "section-tool-domain",
          "slug": "tool-schema",
          "name": "Tools enum defines canonical tool schemas",
          "description": "`forge_domain::Tools` enumerates read/write/search/plan operations with `ToolDescription` docs, `JsonSchema` derivations, and guardrails like `FSRead::show_line_numbers` defaults to true.",
          "tags": [
            "tools",
            "configuration",
            "validation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tools.rs",
              "sha256": "20453729b5ff8b28ff3a4dd4481d8099dbf42b4c9705287fd8ab136578da3a6f"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.76
        },
        {
          "id": "aspect-domain-tool-usage-prompt",
          "sectionId": "section-tool-domain",
          "slug": "tool-usage-prompt",
          "name": "ToolUsagePrompt renders JSON payloads for agent hints",
          "description": "`ToolUsagePrompt` (`forge_domain/src/tool_usage.rs`) iterates tool schemas, collects required fields, and prints `<tool>{...}</tool>` JSON snippets so prompts describe arguments with types and required flags.",
          "tags": [
            "tools",
            "workflow",
            "conversation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_usage.rs",
              "sha256": "3facd1f851838eb54ef3c085148a3fc5d95c51576d4861a93735472201b26780"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.59
        }
      ]
    },
    {
      "id": "section-telemetry",
      "slug": "telemetry",
      "title": "Observability & Tracking",
      "entries": [
        {
          "id": "aspect-telemetry-can-track-version",
          "sectionId": "section-telemetry",
          "slug": "can-track-version",
          "name": "Telemetry gating disables dev builds by default",
          "description": "`can_track` (`forge_tracker/src/can_track.rs`) inspects the `APP_VERSION` (or crate version) exposed via the `VERSION` constant and returns `false` whenever the string contains `dev` or `0.1.0`, ensuring analytics stay off for development and preview builds while production releases opt in automatically.",
          "tags": [
            "telemetry",
            "environment"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/can_track.rs",
              "sha256": "4176bd93d2332953fbb214bdb9e954c535e97171fbe34466d48f3577b1ed7215"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.64
        },
        {
          "id": "aspect-telemetry-event-model",
          "sectionId": "section-telemetry",
          "slug": "event-model",
          "name": "Event model normalizes names and tool payloads",
          "description": "`Event` (`forge_tracker/src/event.rs`) captures cores, OS name, cwd, args, model, conversation, and identity alongside the event value, while the `Name` newtype converts every `EventKind` into snake_case strings and `ToolCallPayload` serializes tool names with optional error causes so downstream analytics stay structured.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/event.rs",
              "sha256": "708e3b45a01b1ebbdfd8342ef7d2cac27a0886c74c7313eddded05408ddad0d8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-telemetry-event-tracker",
          "sectionId": "section-telemetry",
          "slug": "event-tracker",
          "name": "Tracker collects product analytics events conditionally",
          "description": "`Tracker` (`forge_tracker/src/dispatch.rs`) caches system metadata (cores, OS, cwd), gathers emails from git/SSH/defaults, and dispatches events to PostHog only when opt-in conditions pass. It tracks login state, current model, and conversation context to enrich telemetry without repeated IO.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/dispatch.rs",
              "sha256": "4319df8636fee7d8e960ce947d109381680c21672247d5cdf3d76aa460a65b50"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.68
        },
        {
          "id": "aspect-telemetry-json-logging",
          "sectionId": "section-telemetry",
          "slug": "json-logging",
          "name": "Logging initialization switches between file and PostHog sinks",
          "description": "`init_tracing` (`forge_tracker/src/log.rs`) builds a JSON tracing layer filtered to `forge_` targets, writing either to a daily rolling file or a PostHog-backed writer depending on telemetry settings. The returned guard keeps the non-blocking writer alive for the UI lifecycle.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/log.rs",
              "sha256": "ad4d53df53768895c9044ea8fcdee2ba34a0ecfbc5831aa6ca2df31f572b3d1e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.66
        },
        {
          "id": "aspect-telemetry-posthog-client",
          "sectionId": "section-telemetry",
          "slug": "posthog-client",
          "name": "PostHog collector reuses tuned HTTP client and rich payloads",
          "description": "`Tracker::new` (`forge_tracker/src/collect/posthog.rs`) builds a pooled `reqwest::Client` with explicit connect/read timeouts, idle pooling, and capped idle slots, then `Payload::new` flattens the incoming `Event` (including identity metadata and timestamps) into JSON that `collect` posts to `https://us.i.posthog.com/capture/`, keeping telemetry requests consistent regardless of call site.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/collect/posthog.rs",
              "sha256": "6b4d839a2af7c97342f812336f2d0d1742dbfefe79c09952a275d1a54231d6f8"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.62
        },
        {
          "id": "aspect-domain-session-metrics",
          "sectionId": "section-telemetry",
          "slug": "session-metrics",
          "name": "Session metrics track per-file line deltas",
          "description": "`Metrics` (`forge_domain/src/session_metrics.rs`) aggregates per-file additions and removals, supports undo operations, and records session start times to report elapsed durations for conversation activity.",
          "tags": [
            "telemetry",
            "conversation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/session_metrics.rs",
              "sha256": "ef294974194dd3eabaa90acba9717c53011576cad8c2b4ead195b5c3ca789d27"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-usage-accumulation",
          "sectionId": "section-telemetry",
          "slug": "usage-accumulation",
          "name": "Usage accumulation merges token counts and cost",
          "description": "`Usage::accumulate` (`forge_domain/src/message.rs`) clones token counters and sums cached, prompt, completion, and total counts while merging optional cost so downstream telemetry has a single meter for multi-step completions.",
          "tags": [
            "telemetry",
            "conversation",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/message.rs",
              "sha256": "a4afc14e85f003661d12d9e6e42373a77687f0c1ee723a481c2222f83e3fd422"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-telemetry-cli-dispatch",
          "sectionId": "section-telemetry",
          "slug": "telemetry-cli-dispatch",
          "name": "CLI tracker helpers dispatch prompt, tool, and error events",
          "description": "`tracker.rs` (`forge_main/src/tracker.rs`) wraps the global `TRACKER`, spawning `tokio::task`s for non-blocking events and using `block_in_place` when an immediate send is required. Convenience functions format errors, tool call payloads, prompts, model selections, and logins so UI code can emit analytics without duplicating async boilerplate.",
          "tags": [
            "telemetry",
            "cli",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/tracker.rs",
              "sha256": "9c52b6a07f6112fc174dec7590eb72e3dd0a6492559941b0bb14d0e56ab675bc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.56
        },
        {
          "id": "aspect-telemetry-collect-trait",
          "sectionId": "section-telemetry",
          "slug": "telemetry-collect-trait",
          "name": "Collect trait abstracts telemetry sinks",
          "description": "`collect::Collect` (`forge_tracker/src/collect/mod.rs`) defines the async interface that trackers use to forward events, shipping a PostHog implementation while keeping collectors swappable for other sinks.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/collect/mod.rs",
              "sha256": "9f62779ed4352f02566abb45349f1c3ce63b92044f342e39381fa05da281d7a2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-telemetry-tracker-dispatch",
          "sectionId": "section-telemetry",
          "slug": "telemetry-tracker-dispatch",
          "name": "Tracker dispatch enriches usage events",
          "description": "`Tracker` (`forge_tracker/src/dispatch.rs`) caches system metadata like cores, OS, cwd, and CLI args, guards opt in via `can_track`, and funnels events to registered collectors with login derived `Identity` payloads.",
          "tags": [
            "telemetry",
            "analytics"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/dispatch.rs",
              "sha256": "4319df8636fee7d8e960ce947d109381680c21672247d5cdf3d76aa460a65b50"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "sectionId": "section-telemetry",
          "slug": "tracker-error-types",
          "name": "Tracker error taxonomy",
          "description": "`forge_tracker/src/error.rs` uses `derive_more` to wrap reqwest, header, serde, URL, PostHog, Tokio join, and IO errors into a single `Error` enum with formatted debug output, ensuring telemetry failures bubble up with root causes.",
          "tags": [
            "telemetry",
            "errors"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/error.rs",
              "sha256": "893f88cae149dcd363ba35f48dc9a4a4477f025586becbde29891b93ad7cb34d"
            }
          ],
          "importance": 0.49,
          "id": "aspect-telemetry-tracker-error-types",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-telemetry",
          "slug": "forge-tracker-crate-surface",
          "name": "ForgeTracker crate surface",
          "description": "`forge_tracker/src/lib.rs` re-exports tracker dispatch, event types, log guard, and version gating so telemetry consumers depend on a single module.",
          "tags": [
            "registry",
            "services",
            "telemetry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/src/lib.rs",
              "sha256": "996b4f551870f2b27e9328015c2c3119aee7fba45b66a8191e4c9bae1c59e71a"
            }
          ],
          "importance": 0.48,
          "id": "aspect-telemetry-forge-tracker-crate-surface",
          "lastUpdated": "2025-10-22"
        }
      ]
    },
    {
      "id": "section-configuration",
      "slug": "configuration",
      "title": "Configuration",
      "entries": [
        {
          "id": "aspect-configuration-default-settings",
          "sectionId": "section-configuration",
          "slug": "default-settings",
          "name": "Default workflow sets compaction and sampling baselines",
          "description": "`forge.default.yaml` seeds the workflow with the Forge agent, preferred Claude model anchor, walker depth 1, tool support enabled, compaction prompt parameters, and update cadence. These values populate new workspaces before local overrides are applied.",
          "tags": [
            "configuration",
            "provider",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.default.yaml",
              "sha256": "13c572a5dd7b1384bf551da8e7096232ad749b297213e1a9793db74c190dcbba"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-configuration-forge-yaml-commands",
          "sectionId": "section-configuration",
          "slug": "forge-yaml-commands",
          "name": "Project forge.yaml defines reusable commands and limits",
          "description": "`forge.yaml` in the repository registers commands like `fixme`, `pr-description`, and `check`, each with detailed prompts, and overrides workflow defaults such as `max_walker_depth` and `tool_supported`. It demonstrates how team-level automation is configured.",
          "tags": [
            "configuration",
            "commands",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.yaml",
              "sha256": "918c3525ff80dc8fa13174679ca0690ea08ac5aff1a77978c49ac410d66df8b6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-configuration-vertex-model-catalog",
          "sectionId": "section-configuration",
          "slug": "vertex-model-catalog",
          "name": "Vertex model catalog captures provider capabilities",
          "description": "`vertex.json` enumerates Anthropic, Mistral, Meta, and Google models with context limits, tool and reasoning support flags, and version metadata that inform provider selection.",
          "tags": [
            "configuration",
            "provider"
          ],
          "sources": [
            {
              "path": "projects/forge/vertex.json",
              "sha256": "1833a21df9c9e5d4ad923c39d81671e00ac23ff7a52213e9a7cb9b9632a9c043"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.65
        },
        {
          "id": "aspect-configuration-schema-contract",
          "sectionId": "section-configuration",
          "slug": "workflow-schema",
          "name": "Workflow JSON schema documents supported configuration keys",
          "description": "`forge.schema.json` mirrors the workflow struct, detailing constraints for commands, sampling controls, compact settings, and update config. The schema powers editor tooling through the YAML-language-server header enforced by the workflow service.",
          "tags": [
            "configuration",
            "schema",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.schema.json",
              "sha256": "79a629962a966a0dc053d546d90d4c2691f3f3de9886560f0e65abc3bb362d5b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.72
        },
        {
          "id": "aspect-configuration-workflow-struct",
          "sectionId": "section-configuration",
          "slug": "workflow-struct",
          "name": "Workflow domain model controls global agent defaults",
          "description": "`Workflow` (`forge_domain/src/workflow.rs`) defines mergeable settings for templates, commands, walker depth, sampling parameters, tool support, request limits, and compaction policies. It derives `JsonSchema` and defaults to the embedded `forge.default.yaml`, providing a typed contract for runtime configuration.",
          "tags": [
            "configuration",
            "schema",
            "workflow",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/workflow.rs",
              "sha256": "1831353b4fa00c2035148202d490d7a170879ed4c214e11ad9909d2dec6181b2"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.78
        },
        {
          "id": "aspect-configuration-workflow-command-playbook",
          "sectionId": "section-configuration",
          "slug": "workflow-command-playbook",
          "name": "Sample workflow seeds fixme, PR, and readiness commands",
          "description": "`forge.yaml` defines `fixme`, `pr-description`, and `check` commands with descriptive prompts, elevates `max_walker_depth` to 1024, and keeps `tool_supported` enabled so new workspaces inherit automation-friendly defaults. The file doubles as a reference for authoring custom command decks.",
          "tags": [
            "configuration",
            "commands",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.yaml",
              "sha256": "918c3525ff80dc8fa13174679ca0690ea08ac5aff1a77978c49ac410d66df8b6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.66
        },
        {
          "id": "aspect-configuration-context-compaction-schema",
          "sectionId": "section-configuration",
          "slug": "context-compaction-schema",
          "name": "Compaction schema exposes eviction, retention, and prompts",
          "description": "The `Compact` definition in `forge.schema.json` documents knobs such as `eviction_window`, `retention_window`, `message_threshold`, `max_tokens`, `on_turn_end`, optional `model`, and custom `prompt` templates. These constraints drive editor validation and ensure compaction policies stay within supported ranges.",
          "tags": [
            "configuration",
            "schema",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.schema.json",
              "sha256": "79a629962a966a0dc053d546d90d4c2691f3f3de9886560f0e65abc3bb362d5b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-configuration-workflow-update-schema",
          "sectionId": "section-configuration",
          "slug": "workflow-update-schema",
          "name": "Update schema limits cadence to daily, weekly, or always",
          "description": "`forge.schema.json` models `updates` with optional `auto_update` and a `frequency` enum of `daily`, `weekly`, or `always`, matching the domain `UpdateFrequency`. Validation keeps workflow files aligned with the updater pipeline and prevents unsupported cadence strings.",
          "tags": [
            "configuration",
            "schema",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.schema.json",
              "sha256": "79a629962a966a0dc053d546d90d4c2691f3f3de9886560f0e65abc3bb362d5b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-configuration-workflow-sampling-guards",
          "sectionId": "section-configuration",
          "slug": "workflow-sampling-guards",
          "name": "Default workflow caps request volume and sampling spread",
          "description": "`forge.default.yaml` sets `max_requests_per_turn`, `max_tool_failure_per_turn`, and `max_tokens` ceilings while pinning `top_p=0.8` and `top_k=30`, giving orchestrators predictable retry budgets and sampling breadth. These limits enforce safe defaults before per-project overrides apply.",
          "tags": [
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.default.yaml",
              "sha256": "13c572a5dd7b1384bf551da8e7096232ad749b297213e1a9793db74c190dcbba"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-configuration-command-definition-schema",
          "sectionId": "section-configuration",
          "slug": "command-definition-schema",
          "name": "Command schema enforces name and description presence",
          "description": "`Command` in `forge.schema.json` requires `name` and `description` while allowing an optional `prompt`, meaning workflows must document each command even when the prompt is omitted. Editor tooling uses that contract to catch incomplete entries before they hit the agent runtime.",
          "tags": [
            "configuration",
            "schema",
            "commands"
          ],
          "sources": [
            {
              "path": "projects/forge/forge.schema.json",
              "sha256": "79a629962a966a0dc053d546d90d4c2691f3f3de9886560f0e65abc3bb362d5b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.48
        },
        {
          "id": "aspect-configuration-app-config",
          "sectionId": "section-configuration",
          "slug": "app-config-schema",
          "name": "App config tracks active agent, provider, and key info",
          "description": "`AppConfig` (`forge_app/src/dto/app_config.rs`) stores the selected agent id, provider preference, per provider model map, and masked login metadata so CLI mutations persist across sessions.",
          "tags": [
            "configuration",
            "services",
            "provider"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/app_config.rs",
              "sha256": "1650b88030d1fa31346b99bddfde58b3f728aa9b43f60bbcbc55d8bb1dc3af24"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-configuration-tools-overview",
          "sectionId": "section-configuration",
          "slug": "tools-overview-dto",
          "name": "Tools overview aggregates system, agent, and MCP inventories",
          "description": "`ToolsOverview` (`forge_app/src/dto/tools_overview.rs`) groups tool definitions by source, exposes `as_vec` for flattened lists, and captures MCP servers as a map so UI and API responses can present consolidated availability.",
          "tags": [
            "configuration",
            "services",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/tools_overview.rs",
              "sha256": "37940d18e54de032e22459949aebf7781687f3e5fa70223bdba0e38407401eee"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.56
        },
        {
          "sectionId": "section-configuration",
          "slug": "config-display-helpers",
          "name": "Config display helpers",
          "description": "`display.rs` (`forge_main/src/config/display.rs`) prints single fields or formats success banners via `TitleFormat::action`, sharing consistent porcelain and interactive output for config commands.",
          "tags": [
            "configuration",
            "cli",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/config/display.rs",
              "sha256": "73d46a7f1730d74ced1be71f5ac17eaa10a295799b3fae95128b379718735e4f"
            }
          ],
          "importance": 0.37,
          "id": "aspect-configuration-config-display-helpers",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-configuration",
          "slug": "config-error-types",
          "name": "Config command error types",
          "description": "`ConfigError` (`forge_main/src/config/error.rs`) enumerates invalid field selection, missing agents/models/providers (with available lists), and API errors so CLI handlers can guide the user when mutating config.",
          "tags": [
            "configuration",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/config/error.rs",
              "sha256": "2eb3dd2122024f22bb20112cfbb0fdc1a164f5418587e418f3385ef129dfc48d"
            }
          ],
          "importance": 0.48,
          "id": "aspect-configuration-config-error-types",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-configuration",
          "slug": "config-info-builder",
          "name": "Config info builder",
          "description": "`build_config_info` (`forge_main/src/config/helpers.rs`) assembles an `Info` panel with agent/model/provider values, defaulting to 'Not set', giving both porcelain and rich modes a shared formatter for `forge config show`.",
          "tags": [
            "configuration",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/src/config/helpers.rs",
              "sha256": "933948fcaefb8739af22c33a442df1c3cc943c917af1b0e0651623ebc8e2261e"
            }
          ],
          "importance": 0.4,
          "id": "aspect-configuration-config-info-builder",
          "lastUpdated": "2025-10-22"
        }
      ]
    },
    {
      "id": "section-automation",
      "slug": "automation",
      "title": "Automation & Extensions",
      "entries": [
        {
          "id": "aspect-automation-build-release-job",
          "sectionId": "section-automation",
          "slug": "build-release-job",
          "name": "Build release job cross-compiles and uploads artifacts",
          "description": "`ReleaseBuilderJob::into_job` (`forge_ci/src/jobs/release_build_job.rs`) expands across the release matrix, installs cross toolchains, adds rust targets, injects `APP_VERSION` and telemetry secrets into the build step, and when a release id exists copies the binary to a target name before uploading it to the GitHub release.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/release_build_job.rs",
              "sha256": "1b85642ded45b00c1e627415734d1a5ef20a405320015642385f13576cf99ff7"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.68
        },
        {
          "id": "aspect-automation-ci-workflow",
          "sectionId": "section-automation",
          "slug": "ci-workflow",
          "name": "CI workflow generator wires build, lint, and release jobs",
          "description": "`generate_ci_workflow` (`forge_ci/src/workflows/ci.rs`) assembles build and lint jobs with toolchain setup, adds draft release jobs, scopes triggers to pushes on `main` and labeled PRs, and sets workflow concurrency plus shared secrets like `OPENROUTER_API_KEY` before emitting `ci.yml`.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/ci.rs",
              "sha256": "04fc19ad9a07cb80fd2076b584da558889b9c764cb84f55e68196164b2c9226d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-automation-draft-release-job",
          "sectionId": "section-automation",
          "slug": "draft-release-job",
          "name": "Draft release job runs release-drafter on main pushes",
          "description": "`create_draft_release_job` (`forge_ci/src/jobs/release_draft.rs`) depends on the build job, only runs on `main` pushes, executes `release-drafter` with repository write permissions, and exports release id/name outputs via `$GITHUB_OUTPUT` so follow-up jobs can publish binaries.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/release_draft.rs",
              "sha256": "fed6e92c1892f977d369fabded951f258da154c49935969e8f1663010e26a702"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.63
        },
        {
          "id": "aspect-automation-draft-release-pr",
          "sectionId": "section-automation",
          "slug": "draft-release-pr",
          "name": "PR draft release job seeds preview build outputs",
          "description": "`create_draft_release_pr_job` (`forge_ci/src/jobs/release_draft_pr.rs`) gate-keeps on PRs labeled `ci: build all targets`, sets deterministic `crate_release_name` and `crate_release_id` outputs, and avoids uploads while still wiring downstream matrix jobs for pre-release validation.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/release_draft_pr.rs",
              "sha256": "08ce518e061221e778355075f63a6c13f3f81eae0800aa25be13bbc2030b95f8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-automation-install-script",
          "sectionId": "section-automation",
          "slug": "install-script",
          "name": "Linux install script fetches architecture-specific binaries",
          "description": "`install.sh` detects CPU architecture and libc flavor, constructs the release download URL, installs the Forge binary into `/usr/local/bin`, and verifies the command is on the PATH. It gives Linux users a one-line bootstrap path without package managers.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/forge/install.sh",
              "sha256": "13333d5433ab02f14eda349ab4684ed19fa865e6c9bd8fba461cab4a0951e33c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-automation-label-sync-job",
          "sectionId": "section-automation",
          "slug": "label-sync-job",
          "name": "Label sync job mirrors .github/labels.json via npx",
          "description": "`label_sync_job` (`forge_ci/src/jobs/label_sync_job.rs`) checks out the repository with `actions/checkout@v5`, requires write permissions on issues, and runs `npx github-label-sync` against `.github/labels.json` so GitHub labels align with the committed catalog.",
          "tags": [
            "automation",
            "ci",
            "operations"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/label_sync_job.rs",
              "sha256": "3a4e49d149af16d51db2a20f79b47b5ab6ca21de3d12846ca6f2fd0fe5e21bc4"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.56
        },
        {
          "id": "aspect-automation-labels-workflow",
          "sectionId": "section-automation",
          "slug": "labels-workflow",
          "name": "Labels workflow enforces repository label definitions",
          "description": "`generate_labels_workflow` (`forge_ci/src/workflows/labels.rs`) emits a `labels.yml` that runs on pushes to `main`, restricts permissions to contents write, and wires the `label-sync` job so GitHub labels follow the `.github/labels.json` source of truth.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/labels.rs",
              "sha256": "aaf4af92bc9fb29079d1e59da7d51ec5f5d99ef77bbb9d8745459d29f4826bf3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-automation-release-drafter-workflow",
          "sectionId": "section-automation",
          "slug": "release-drafter-workflow",
          "name": "Release-drafter workflow keeps notes synced on main",
          "description": "`generate_release_drafter_workflow` (`forge_ci/src/workflows/release_drafter.rs`) listens to pushes and `pull_request_target` events on `main`, grants write access to contents and PRs, and triggers the `update_release_draft` job so release notes stay updated whenever labels or merges happen.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/release_drafter.rs",
              "sha256": "af28b7c29d8a9c67acdf89d30e7f38d30b7ca6a41915bd88ea26c6b6742deeaf"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.64
        },
        {
          "id": "aspect-automation-release-matrix",
          "sectionId": "section-automation",
          "slug": "release-matrix",
          "name": "Release matrix enumerates cross-platform build targets",
          "description": "`ReleaseMatrix::default` (`forge_ci/src/release_matrix.rs`) lists Linux, macOS, and Windows triples with output paths, binary names, and whether to use cross-compilation, then serializes them into an `include` matrix so release jobs consistently cover every supported platform.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/release_matrix.rs",
              "sha256": "78ff14bd2926dc16ca600b9527fe4e4286d602a8823d20e9615d2372ffae9a21"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "id": "aspect-automation-renovate-automerge",
          "sectionId": "section-automation",
          "slug": "renovate-automerge",
          "name": "Renovate configuration enables automatic dependency merges",
          "description": "`renovate.json` sets `extends` to `config:recommended` and turns on both `automerge` and `platformAutomerge`, allowing Renovate to merge dependency updates automatically once CI requirements are satisfied.",
          "tags": [
            "automation",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/renovate.json",
              "sha256": "a1670b86c192ab848d8f2b5ee408f0a33dcce8dfa2f55731dd530c0b28e7e16a"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.52
        },
        {
          "id": "aspect-automation-stale-workflow",
          "sectionId": "section-automation",
          "slug": "stale-workflow",
          "name": "Stale workflow automates inactivity triage",
          "description": "`generate_stale_workflow` (`forge_ci/src/workflows/stale.rs`) schedules hourly runs, seeds environment variables for issue and PR stale/close windows, and configures `actions/stale@v10` with custom messages and shared `state: inactive` labels to keep the backlog tidy.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/stale.rs",
              "sha256": "c2e36393120deebff939353b1cec631f00dfc10063cceabf4caedb129cef86b5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.57
        },
        {
          "id": "aspect-domain-update-frequency",
          "sectionId": "section-automation",
          "slug": "update-frequency",
          "name": "UpdateFrequency maps cadence to wall-clock durations",
          "description": "`UpdateFrequency` (`forge_domain/src/update.rs`) enumerates daily, weekly, and always schedules, converting variants to `Duration` so automation can throttle how often workflows apply updates.",
          "tags": [
            "automation",
            "workflow",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/update.rs",
              "sha256": "b095f29acdc3cdd454bcb4538f9998dd0969aefbc7f6069d013c281310c7935f"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.56
        },
        {
          "id": "aspect-automation-zsh-plugin",
          "sectionId": "section-automation",
          "slug": "zsh-plugin",
          "name": "Zsh plugin adds Forge completions and shortcuts",
          "description": "`shell-plugin/forge.plugin.zsh` wires fzf-backed completions for `:commands` and file references, caches `forge list commands` output, exposes helpers for session actions, and highlights conversation markers. It keeps terminal workflows fast without touching the core binary.",
          "tags": [
            "automation",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/shell-plugin/forge.plugin.zsh",
              "sha256": "3552498586e7658842dfae84d1c09cba72aedc7ede5baf75958a36381e0837f5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "sectionId": "section-automation",
          "slug": "ci-build-release-job",
          "name": "Draft release build job wrapper",
          "description": "`create_build_release_job_for_publishing` (`forge_ci/src/jobs/build.rs`) wraps `release_build_job` with the GitHub release tag matrix so draft releases share the hardened build matrix used for production artifacts.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/build.rs",
              "sha256": "b499ac4e7f272c9426f9338638d516144e9ecdbb045a379d191a86597ffd6cbd"
            }
          ],
          "importance": 0.42,
          "id": "aspect-automation-ci-build-release-job",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "ci-draft-release-update-job",
          "name": "Release drafter job configuration",
          "description": "`draft_release_update_job` (`forge_ci/src/jobs/draft_release_update_job.rs`) emits a one-step GitHub Actions job that runs `release-drafter/release-drafter@v6` with the repo token and custom config so automation can refresh release notes before publishing.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/draft_release_update_job.rs",
              "sha256": "022bb44c6b2c5c305c7fc12ccb01a9a9ed7fb4ed2b99c130cbd0a84c68961af0"
            }
          ],
          "importance": 0.41,
          "id": "aspect-automation-ci-draft-release-update-job",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "ci-homebrew-release-job",
          "name": "Homebrew formula update job",
          "description": "`release_homebrew_job` (`forge_ci/src/jobs/release_homebrew.rs`) checks out `antinomyhq/homebrew-code-forge` with the Homebrew access token and runs `update-formula.sh` scoped to the GitHub release tag so brew taps track the latest binary.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/release_homebrew.rs",
              "sha256": "18f1a150c560f7bd171d8ec7dddea127995ea6e5632127e2e7120d162352b98a"
            }
          ],
          "importance": 0.43,
          "id": "aspect-automation-ci-homebrew-release-job",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "ci-npm-release-job",
          "name": "NPM release matrix job",
          "description": "`release_npm_job` (`forge_ci/src/jobs/release_npm.rs`) builds a GitHub Actions matrix across the npm repositories, checks out each target with `NPM_ACCESS`, and runs `update-package.sh` with `AUTO_PUSH` and `NPM_TOKEN` so both npm packages are updated from a single workflow run.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/release_npm.rs",
              "sha256": "0a0cd2ffd6aad6cb57ca0fdbbd84d70ee6bceaa922c770efe5979a0a6e72a4bc"
            }
          ],
          "importance": 0.46,
          "id": "aspect-automation-ci-npm-release-job",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "ci-release-publish-workflow",
          "name": "Multi-channel release workflow generator",
          "description": "`release_publish` (`forge_ci/src/workflows/release_publish.rs`) wires the build, npm, and Homebrew jobs into a `Multi Channel Release` workflow triggered on published releases, sets write permissions, and renders `release.yml` via `gh_workflow::Generate`.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/release_publish.rs",
              "sha256": "2686d2a68a6111d79d9004b0ec56e5cf4719d0ce02ea37e9e0ae662865e192bc"
            }
          ],
          "importance": 0.47,
          "id": "aspect-automation-ci-release-publish-workflow",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "build-script-app-version",
          "name": "Forge build script version wiring",
          "description": "`forge_main/build.rs` reads `APP_VERSION`, strips any leading 'v', falls back to `0.1.0-dev`, and exports `CARGO_PKG_VERSION`/`CARGO_PKG_NAME` so CI builds embed the release tag while local builds stay on a dev version.",
          "tags": [
            "automation",
            "cli"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/build.rs",
              "sha256": "f5b966fdd0be2dc7bb25b433855d2967732258a6d6e2d5f296b268de5429dc74"
            }
          ],
          "importance": 0.43,
          "id": "aspect-automation-build-script-app-version",
          "lastUpdated": "2025-10-20"
        },
        {
          "sectionId": "section-automation",
          "slug": "forge-ci-crate-structure",
          "name": "Forge CI crate structure",
          "description": "`forge_ci/src/lib.rs` exposes job modules, the release matrix builder, and workflow generators so release automation can be composed programmatically.",
          "tags": [
            "automation",
            "release",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/lib.rs",
              "sha256": "582ec1e6406563db5ce68f7a3cfa8480a82801db2fd3858bbe41f607b78601de"
            }
          ],
          "importance": 0.38,
          "id": "aspect-automation-forge-ci-crate-structure",
          "lastUpdated": "2025-10-20"
        },
        {
          "id": "aspect-automation-ci-workflows-module",
          "sectionId": "section-automation",
          "slug": "ci-workflows-module",
          "name": "CI workflows module re-exports GitHub workflow builders",
          "description": "`forge_ci/src/workflows/mod.rs` collects the CI, labels, release drafter, publish, and stale workflow constructors under one module, giving release automation a single import surface.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/workflows/mod.rs",
              "sha256": "45832ed2d9aed2ab675c825839a25f904431299b718e60856b5288d1850f5223"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.26
        },
        {
          "id": "aspect-automation-ci-jobs-module",
          "sectionId": "section-automation",
          "slug": "ci-jobs-module",
          "name": "CI jobs module centralises reusable job definitions",
          "description": "`forge_ci/src/jobs/mod.rs` re-exports draft release, label sync, build, Homebrew, npm, and PR update jobs so workflow generators compose pipelines without reaching into private modules.",
          "tags": [
            "automation",
            "workflow",
            "ci"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/src/jobs/mod.rs",
              "sha256": "2436aca7baeb4aef63ed1ab46e53536e5f9c41ff0adfd5fcdd0795bd1596acbe"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.25
        },
        {
          "id": "aspect-automation-release-drafter-config",
          "sectionId": "section-automation",
          "slug": "release-drafter-config",
          "name": "Release Drafter config groups PRs by label and commit prefixes",
          "description": "`.github/release-drafter.yml` maps labels like `type: feature` or `release: breaking` to changelog categories, resolves semantic versions from labels or `feat:`/`fix:` commit prefixes, auto-labels PRs by title regex, and skips changelog entries when `release: skip changelog` is present.",
          "tags": [
            "automation",
            "release"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/release-drafter.yml",
              "sha256": "0bea912c76f4f3c884cb230aaf797bc6ed61c0ca105ebd158544269cb6409d6d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        }
      ]
    },
    {
      "id": "section-domain",
      "slug": "domain",
      "title": "Domain Model",
      "entries": [
        {
          "id": "aspect-domain-chat-completion-builders",
          "sectionId": "section-domain",
          "slug": "chat-completion-builders",
          "name": "ChatCompletionMessage builder assembles streaming state",
          "description": "`ChatCompletionMessage` (`forge_domain/src/message.rs`) exposes setters for partial and full content, reasoning details, tool calls, finish reasons, and usage so provider adapters can incrementally assemble responses before compaction.",
          "tags": [
            "domain",
            "conversation",
            "llm",
            "streaming",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/message.rs",
              "sha256": "a4afc14e85f003661d12d9e6e42373a77687f0c1ee723a481c2222f83e3fd422"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.67
        },
        {
          "id": "aspect-domain-content-modalities",
          "sectionId": "section-domain",
          "slug": "content-modalities",
          "name": "Content distinguishes streaming parts from full payloads",
          "description": "`Content` (`forge_domain/src/message.rs`) wraps either partial (`ContentPart`) or completed (`ContentFull`) strings, providing helpers like `is_part` and `is_empty` so callers can branch between incremental tokens and final text.",
          "tags": [
            "domain",
            "conversation",
            "streaming",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/message.rs",
              "sha256": "a4afc14e85f003661d12d9e6e42373a77687f0c1ee723a481c2222f83e3fd422"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.57
        },
        {
          "id": "aspect-domain-context-message",
          "sectionId": "section-domain",
          "slug": "context-message-serialization",
          "name": "ContextMessage serializes tool and reasoning payloads",
          "description": "`ContextMessage` (`forge_domain/src/context.rs`) models system, user, tool, and image messages, filters base64 tool outputs before serialization, estimates token counts, and renders XML-like payloads for provider transcripts.",
          "tags": [
            "domain",
            "conversation",
            "llm",
            "rendering",
            "streaming",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/context.rs",
              "sha256": "49079965417dd9e509ca5018e796f67cf1761669728fabfdf12c94eaf2393a73"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-domain-conversation-entity",
          "sectionId": "section-domain",
          "slug": "conversation-entity",
          "name": "Conversation seeds metrics and HTML rendering",
          "description": "`Conversation` (`forge_domain/src/conversation.rs`) generates UUID-backed IDs, initializes session `Metrics` timestamps, stores optional context and title, and renders HTML transcripts through the Element-based `to_html` helper.",
          "tags": [
            "domain",
            "conversation",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/conversation.rs",
              "sha256": "2eaa2f12afcee6fe9435c32483519250bbe32d7f556e2e9a3e4cbea4293582e4"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-domain-finish-reasons",
          "sectionId": "section-domain",
          "slug": "finish-reasons",
          "name": "FinishReason mirrors provider stop codes",
          "description": "`FinishReason` (`forge_domain/src/message.rs`) enumerates stop, tool_calls, length, and content_filter outcomes with `strum` aliases, letting adapters decode provider strings into strongly typed reasons.",
          "tags": [
            "domain",
            "llm",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/message.rs",
              "sha256": "a4afc14e85f003661d12d9e6e42373a77687f0c1ee723a481c2222f83e3fd422"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-domain-interruption-reasons",
          "sectionId": "section-domain",
          "slug": "interruption-reasons",
          "name": "InterruptionReason captures turn limits for orchestrator stops",
          "description": "`InterruptionReason` (`forge_domain/src/chat_response.rs`) stores per-tool failure counts and request ceilings so the orchestrator can emit structured interrupts when `max_tool_failure_per_turn` or `max_requests_per_turn` thresholds are reached.",
          "tags": [
            "domain",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/chat_response.rs",
              "sha256": "067b1e8d4d329a9116f9b954672fd23fd0d944d95395ff944a062cbeaf807db5"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.66
        },
        {
          "id": "aspect-domain-max-tokens",
          "sectionId": "section-domain",
          "slug": "max-tokens-guard",
          "name": "MaxTokens enforces 1-100000 bounds with serde hooks",
          "description": "`MaxTokens` (`forge_domain/src/max_tokens.rs`) validates constructor and deserialize inputs, exposing `value` and `new_unchecked` so workflow configs can't request invalid generation lengths.",
          "tags": [
            "domain",
            "llm",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/max_tokens.rs",
              "sha256": "92cd76c11f08004dec06ff778b936c2bfdd10037557ec9833b51987abc0ec6b1"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.64
        },
        {
          "id": "aspect-domain-system-context",
          "sectionId": "section-domain",
          "slug": "system-context",
          "name": "SystemContext aggregates environment and rule hints",
          "description": "`SystemContext` (`forge_domain/src/system_context.rs`) carries optional environment facts, tool availability notes, custom rules, relevant files, and parallel-call support so prompts can tailor guidance per agent setup.",
          "tags": [
            "domain",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/system_context.rs",
              "sha256": "eb9f0d67b01f6c40486721289d165bf542ffa8403808fe1a609765c4d2258391"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.63
        },
        {
          "id": "aspect-domain-temperature",
          "sectionId": "section-domain",
          "slug": "temperature-guard",
          "name": "Temperature clamps randomness to the 0.0-2.0 range",
          "description": "`Temperature` (`forge_domain/src/temperature.rs`) wraps an `f32`, validating inputs, rounding serialization to a single decimal, and offering `new`/`new_unchecked` helpers for prompt configuration.",
          "tags": [
            "domain",
            "llm",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/temperature.rs",
              "sha256": "4510b37263ed218316ff6085c64f4975b526c20219c634a997c3766a0bc91efc"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.64
        },
        {
          "id": "aspect-domain-top-k",
          "sectionId": "section-domain",
          "slug": "top-k-guard",
          "name": "TopK validates token shortlist limits",
          "description": "`TopK` (`forge_domain/src/top_k.rs`) wraps an integer with 1-1000 validation, serde integration, and `new_unchecked` helper so callers can tune vocabulary breadth safely.",
          "tags": [
            "domain",
            "llm",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/top_k.rs",
              "sha256": "4779b9042f80a7c178ed3c1bc28626b67f8036b8528eef5dc5b146d050c5b7ad"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-top-p",
          "sectionId": "section-domain",
          "slug": "top-p-guard",
          "name": "TopP controls nucleus sampling between 0.0 and 1.0",
          "description": "`TopP` (`forge_domain/src/top_p.rs`) bounds nucleus sampling values, formats floats to two decimals on serialization, and exposes `is_valid` so workflows can't set out-of-range probabilities.",
          "tags": [
            "domain",
            "llm",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/top_p.rs",
              "sha256": "70418c337514102d37d39292c51188a3f1a19f7eb784a4448dfdfc6c2f7c4d7c"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-workflow-defaults",
          "sectionId": "section-domain",
          "slug": "workflow-defaults",
          "name": "Workflow loads defaults from bundled YAML",
          "description": "`Workflow::default` (`forge_domain/src/workflow.rs`) clones a lazily parsed `forge.default.yaml`, providing baseline templates, walker depth, compaction, and failure limits before per-project overrides merge in.",
          "tags": [
            "configuration",
            "domain",
            "llm",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/workflow.rs",
              "sha256": "1831353b4fa00c2035148202d490d7a170879ed4c214e11ad9909d2dec6181b2"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.69
        },
        {
          "id": "aspect-domain-image-attachments",
          "sectionId": "section-domain",
          "slug": "image-attachments",
          "name": "Image domain type keeps base64 data URLs and stripped data",
          "description": "`Image` (`forge_domain/src/image.rs`) can build assets from raw bytes or base64 strings, decorating them with `data:{mime};base64,` prefixes while exposing `data()` to return the payload without metadata. That lets renderers embed inline images while tool services reuse the original MIME type.",
          "tags": [
            "domain",
            "conversation",
            "rendering",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/image.rs",
              "sha256": "aa475d625a7af59695fcb8cfe2d54e39f85fcb14fefd82e89ee40615909673fb"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-domain-conversation-html-export",
          "sectionId": "section-domain",
          "slug": "conversation-html-export",
          "name": "Conversation HTML export renders reasoning and tool traces",
          "description": "`render_conversation_html` (`forge_domain/src/conversation_html.rs`) uses `forge_template::Element` to generate a styled HTML document with headers, reasoning badges, per-message `<details>` sections, tool call JSON, and inline images. It falls back to the conversation ID for untitled chats and bundles the CSS alongside the markup.",
          "tags": [
            "domain",
            "rendering",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/conversation_html.rs",
              "sha256": "a62a5f4dd275319e1b730ba74619e24b690ec80439edd55265fe36900221b18c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.47
        },
        {
          "id": "aspect-domain-agent-entity",
          "sectionId": "section-domain",
          "slug": "agent-entity",
          "name": "Agent entity merges workflow level overrides",
          "description": "`Agent` (`forge_domain/src/agent.rs`) models runtime agents with merge aware setters for tools, prompts, and sampling controls, ensuring workflow overlays can override defaults while validation wrappers like `Temperature`, `TopP`, and `ReasoningConfig` enforce bounds.",
          "tags": [
            "domain",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/agent.rs",
              "sha256": "a7ddbf902c2ed73973f0ba096c6456b5f7eb48fbba0451872d771d0a2d0b6783"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-domain-attachment-content",
          "sectionId": "section-domain",
          "slug": "attachment-content",
          "name": "Attachment content tracks ranges and inline tags",
          "description": "`Attachment` (`forge_domain/src/attachment.rs`) captures either in memory file excerpts with start and end lines or embedded images, exposes helpers to test membership, and parses `@[path:line]` tags into unique `FileTag` references for agent tooling.",
          "tags": [
            "domain",
            "conversation",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/attachment.rs",
              "sha256": "893151cfaf6f1a2f039786ff844e126bb8e5faf468e8d3e2960400d3c2364147"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-event-context",
          "sectionId": "section-domain",
          "slug": "event-context",
          "name": "Event context toggles task versus feedback suffixes",
          "description": "`Event` and `EventContext` (`forge_domain/src/event.rs`) wrap incoming event payloads with attachments, generate UUIDs and timestamps, and expose `into_task` or `into_feedback` helpers that append `/user_task_init` or `/user_task_update` so orchestrators standardize topic names.",
          "tags": [
            "domain",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/event.rs",
              "sha256": "820ad1decf6b285e297e19a2f2aa2e3d59b431496f6bbb0c9ea9bf9d8908ceb7"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-domain-policy-engine",
          "sectionId": "section-domain",
          "slug": "policy-engine",
          "name": "Policy engine evaluates workflow permissions",
          "description": "`PolicyEngine` (`forge_domain/src/policies/engine.rs`) iterates workflow and extended policies in order, short circuiting on deny or confirm results while remembering the last allow, and delegates matching to `Policy::eval` so services can ask `can_perform` with a single call.",
          "tags": [
            "domain",
            "policy",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.63
        },
        {
          "id": "aspect-domain-policy-logic",
          "sectionId": "section-domain",
          "slug": "policy-logic",
          "name": "Policy algebra composes rule logic",
          "description": "`Policy` (`forge_domain/src/policies/policy.rs`) defines simple, all, any, and not combinators, evaluates rules against `PermissionOperation`, and inverts permissions for negation while collecting matching rules for audit trails.",
          "tags": [
            "domain",
            "policy",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/policy.rs",
              "sha256": "8353fa93067c80164dd2fae85842430c23452df5e6b8d2210d8eb89383d12323"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-retry-config",
          "sectionId": "section-domain",
          "slug": "retry-config",
          "name": "Retry config centralizes backoff defaults",
          "description": "`RetryConfig` (`forge_domain/src/retry_config.rs`) stores the initial delay, backoff factor, maximum attempts, retry status codes, and suppression flag with merge setters, defining defaults (200 ms start, 8 attempts) that provider services consume.",
          "tags": [
            "domain",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/retry_config.rs",
              "sha256": "db9c3e6959af70e9f0adccb8fb35c967767da8e9579b53627e06ae37a8c37f87"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "sectionId": "section-domain",
          "slug": "user-plan-usage-model",
          "name": "User plan and usage domain model",
          "description": "`forge_app/src/user.rs` models `AuthProviderId`, `User`, and `UserUsage`, exposing `Plan::is_upgradeable` along with usage counters and optional reset timers so rate limiting and UI meters can reason about plan tiers without hitting the API.",
          "tags": [
            "domain",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/user.rs",
              "sha256": "4bd2b9f1af4cc98a265757ee7b40c623056cc4bd2d9e748ca206f022c3579477"
            }
          ],
          "importance": 0.46,
          "id": "aspect-domain-user-plan-usage-model",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain",
          "slug": "chat-request-envelope",
          "name": "Chat request envelope",
          "description": "`ChatRequest` (`forge_domain/src/chat_request.rs`) wraps the incoming `Event` with a `ConversationId`, offers a constructor, and derives setters so orchestration can mutate context while keeping the conversation handle attached.",
          "tags": [
            "domain",
            "conversation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/chat_request.rs",
              "sha256": "f30a8dec3ce633ec64db8e338780c0d316432e1ef9a3f7014b7ada65c7698f89"
            }
          ],
          "importance": 0.38,
          "id": "aspect-domain-chat-request-envelope",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain",
          "slug": "domain-file-snapshot",
          "name": "Domain file descriptor",
          "description": "`forge_domain/src/file.rs` provides the serialized `File` struct with path and `is_dir` flag so walkers and templates can send lightweight file metadata through prompts and UI surfaces.",
          "tags": [
            "domain",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/file.rs",
              "sha256": "81e6c40c9eac883a0828033b34af7e22c606a92a1d29f152615f02176298e855"
            }
          ],
          "importance": 0.32,
          "id": "aspect-domain-domain-file-snapshot",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain",
          "slug": "suggested-use-case",
          "name": "Suggestion payload",
          "description": "`Suggestion` (`forge_domain/src/suggestion.rs`) serializes use-case recommendations with `use_case` and `suggestion` fields so agents can surface curated follow-ups in prompts and telemetry.",
          "tags": [
            "domain",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/suggestion.rs",
              "sha256": "a6eaf06eed1a499dd5beac5e6d9f20b7068be7cdc4a9328a6d6781789a65175c"
            }
          ],
          "importance": 0.3,
          "id": "aspect-domain-suggested-use-case",
          "lastUpdated": "2025-10-22"
        }
      ]
    },
    {
      "id": "section-prompts",
      "slug": "prompts",
      "title": "System Prompts",
      "entries": [
        {
          "id": "aspect-prompts-custom-agent-template",
          "sectionId": "section-prompts",
          "slug": "custom-agent-template",
          "name": "Custom agent template stitches system partials and rules",
          "description": "`forge-custom-agent-template.md` pulls in system info and tool usage partials, branches on `tool_supported`, and spells out non-negotiable markdown, citation, and file-creation rules for every response.",
          "tags": [
            "prompt",
            "templates",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-custom-agent-template.md",
              "sha256": "eff76cb4aec3967f6fbec5875fe4dde5dfd3cc413ecc2932dc573f68c0b2df39"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.66
        },
        {
          "id": "aspect-prompts-summary-frame",
          "sectionId": "section-prompts",
          "slug": "summary-frame-partial",
          "name": "Partial summary frame locks task context and feedback",
          "description": "`forge-partial-summary-frame.md` instructs the agent to treat the injected summary as authoritative, optionally enumerating feedback blocks before resuming implementation guidance.",
          "tags": [
            "prompt",
            "templates"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-partial-summary-frame.md",
              "sha256": "481b7af7c53ccb40dc53e06ffdd2ab7a9ce5785da2fc1bc3b0a7c8caae6c42d8"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-prompts-summary-synthesizer",
          "sectionId": "section-prompts",
          "slug": "summary-synthesizer-prompt",
          "name": "Context summarizer prompt selects plan-aware format",
          "description": "`forge-system-prompt-context-summarizer.md` instructs the agent to detect plan execution markers, choose between plan or default summary templates, cite files with `filepath:startLine:endLine`, and wrap the final output in `{{summary_tag}}`.",
          "tags": [
            "prompt",
            "templates",
            "orchestration"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-system-prompt-context-summarizer.md",
              "sha256": "a82355f41c0be8c47b64cd2be12fd1df6de6136b3094a2ec228dd18155886289"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.64
        },
        {
          "id": "aspect-prompts-system-info",
          "sectionId": "section-prompts",
          "slug": "system-info-partial",
          "name": "System info partial exposes runtime environment tags",
          "description": "`forge-partial-system-info.md` lists OS, working directory, default shell, home directory, and optional file lists inside XML-like tags so custom prompts can surface execution context.",
          "tags": [
            "prompt",
            "templates",
            "environment"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-partial-system-info.md",
              "sha256": "f4645282998d27c285d55ae336b2bf7083de06dd94f6d6a4d13cdb6d4d442ec0"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.57
        },
        {
          "id": "aspect-prompts-title-generator-template",
          "sectionId": "section-prompts",
          "slug": "title-generator-template",
          "name": "Title generator template enforces concise title tags",
          "description": "`forge-system-prompt-title-generation.md` defines the title generator persona, enforces 3–7 word title-case output, provides worked examples, and requires wrapping responses in `<title>` tags.",
          "tags": [
            "prompt",
            "templates"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-system-prompt-title-generation.md",
              "sha256": "295b9e0c6a81bc7647282f359be0ab8421fc5165706f90154c8776e382e3eac3"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.58
        },
        {
          "id": "aspect-prompts-tool-error-reflection",
          "sectionId": "section-prompts",
          "slug": "tool-error-reflection",
          "name": "Tool error reflection prompt requires diagnosing failed calls",
          "description": "`forge-partial-tool-error-reflection.md` tells the agent to analyze failed tool calls, explain the root cause, and restate the corrected invocation before retrying, keeping retries accountable.",
          "tags": [
            "prompt",
            "templates",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-partial-tool-error-reflection.md",
              "sha256": "94913ea4da1ba4e989cb2c94a2a52987f6ae5a6c689af43c75b9eabf92616724"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.56
        },
        {
          "id": "aspect-prompts-tool-retry-message",
          "sectionId": "section-prompts",
          "slug": "tool-retry-message",
          "name": "Tool retry message frames failure budgets",
          "description": "`forge-tool-retry-message.md` emits a concise status containing attempts remaining and a call to analyze root cause before retrying, reinforcing the orchestrator's failure budget UX.",
          "tags": [
            "prompt",
            "templates",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-tool-retry-message.md",
              "sha256": "c01d749a27fea267c1adf0cf9cf75d92c6936aab804fb22108e30e55f7456d84"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.55
        },
        {
          "id": "aspect-prompts-tool-use-example",
          "sectionId": "section-prompts",
          "slug": "tool-use-example-partial",
          "name": "Tool use example partial enforces JSON call syntax",
          "description": "`forge-partial-tool-use-example.md` shows correct `<forge_tool_call>` wrappers, single-call-per-message constraints, and argument JSON structure, discouraging retries with missing fields.",
          "tags": [
            "prompt",
            "templates",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/templates/forge-partial-tool-use-example.md",
              "sha256": "b2dc7035e08155650921125adb08391e2faf4f5da2670c0cc6b1dd327f7a31e7"
            }
          ],
          "lastUpdated": "2025-10-17",
          "importance": 0.6
        },
        {
          "id": "aspect-prompts-forge-agent-profile",
          "sectionId": "section-prompts",
          "slug": "forge-agent-profile",
          "name": "Forge agent prompt defines execution-first behaviour",
          "description": "`agents/forge.md` declares the hands-on Forge persona, enabling reasoning mode, enumerating tool permissions (read/write/shell/mcp), and embedding plan execution instructions so the runtime can surface implementation-focused responses consistently.",
          "tags": [
            "prompt",
            "agents"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/agents/forge.md",
              "sha256": "30c677ac2611ba7685c5133f0a0be90c4dac1e59fcf25c2034011e89cc135b76"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.78
        },
        {
          "id": "aspect-prompts-muse-agent-profile",
          "sectionId": "section-prompts",
          "slug": "muse-agent-profile",
          "name": "Muse agent prompt codifies plan-only responsibilities",
          "description": "`agents/muse.md` positions Muse as a strategic planner with read/search/plan tooling, mandates checkbox task formatting, and lays out collaboration principles so implementation work remains delegated to execution agents.",
          "tags": [
            "agents",
            "prompt",
            "search"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/agents/muse.md",
              "sha256": "cd5e3119b7181fb9d0f5ceb62dc6b352486ccabe88d4638fa00ae018e434b511"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.74
        },
        {
          "id": "aspect-prompts-sage-agent",
          "sectionId": "section-prompts",
          "slug": "sage-agent",
          "name": "Sage agent profile documents research-only behaviour",
          "description": "`forge_services/src/agents/sage.md` configures the read-only Sage agent with reasoning enabled, tool selection, variable-driven prompts, and detailed investigation methodology, guiding how the runtime renders its persona and capabilities.",
          "tags": [
            "agents",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/agents/sage.md",
              "sha256": "af339dca9a70f2f2b1d0306bebf982ec42ff479776f4392888b02772ec63a157"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        }
      ]
    },
    {
      "id": "section-provider-adapters",
      "slug": "provider-adapters",
      "title": "Provider Adapters",
      "entries": [
        {
          "id": "aspect-provider-openai-request-dto",
          "sectionId": "section-provider-adapters",
          "slug": "openai-request-dto",
          "name": "OpenAI request DTO builds cache-aware payloads",
          "description": "`Request` (`forge_app/src/dto/openai/request.rs`) converts a `Context` into OpenAI chat payloads, copying tool calls into `Message` structs, promoting reasoning details, and mapping user and system roles. Helpers like `MessageContent::cached` and `ContentPart::cached` toggle ephemeral `cache_control` markers so downstream transformers can flag prompt caching without corrupting existing parts.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/request.rs",
              "sha256": "e689c851ab33f512ddb76890db6c0b7ffde87e1ffe192503663545fd7f2e95db"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.74
        },
        {
          "id": "aspect-provider-openai-response-parser",
          "sectionId": "section-provider-adapters",
          "slug": "openai-response-parser",
          "name": "OpenAI response parser normalizes choices and usage",
          "description": "`Response` (`forge_app/src/dto/openai/response.rs`) decodes streamed and non streamed OpenAI replies into `ChatCompletionMessage`, folding reasoning deltas, tool call arguments, and finish reasons while surfacing nested provider errors. `ResponseUsage` recombines prompt, cached, and completion token counts plus OpenRouter cost hints into the domain `Usage` record.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/response.rs",
              "sha256": "be0d1c344d19deba093277bf37992565ef70c4297877034d17883302ef5c17a2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        },
        {
          "id": "aspect-provider-openai-error-wrapping",
          "sectionId": "section-provider-adapters",
          "slug": "openai-error-wrapping",
          "name": "OpenAI error wrapper surfaces nested codes",
          "description": "`Error` and `ErrorResponse` (`forge_app/src/dto/openai/error.rs`) wrap HTTP failures from OpenAI style APIs, recursively inspecting nested error objects through `get_code_deep` so retry logic can read transport codes. Flexible `ErrorCode` parsing accepts numeric or string identifiers and serializes the full payload for logging.",
          "tags": [
            "provider",
            "services",
            "retry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/error.rs",
              "sha256": "f5532603c816eda370f00d4f1499977c4739af5617d2f1285d9b5b9c65025633"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.64
        },
        {
          "id": "aspect-provider-openai-tool-choice-transform",
          "sectionId": "section-provider-adapters",
          "slug": "openai-tool-choice-transform",
          "name": "Tool choice transformer guards empty tool lists",
          "description": "`SetToolChoice` (`forge_app/src/dto/openai/transformers/tool_choice.rs`) implements `Transformer<Request>` and only injects `tool_choice` when tools exist, preventing OpenAI errors about function declarations. Tests assert Gemini requests keep the flag while tool free contexts leave it `None`.",
          "tags": [
            "provider",
            "services",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/tool_choice.rs",
              "sha256": "357eb8d81ad391f65f8625fe233db69b2dd28ebc37bf7e2e8c2cd6453ba74c33"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-provider-openai-normalize-schema",
          "sectionId": "section-provider-adapters",
          "slug": "openai-normalize-schema",
          "name": "Tool schema normalizer trims duplicate metadata",
          "description": "`NormalizeToolSchema` (`forge_app/src/dto/openai/transformers/normalize_tool_schema.rs`) iterates over request tools and strips `description` and `title` keys from parameter objects so OpenAI accepts them. Regression tests ensure already clean schemas pass through untouched.",
          "tags": [
            "provider",
            "services",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/normalize_tool_schema.rs",
              "sha256": "6b3435c8b60b1bf246a6f3147f65db9aa4172212d6e3c7ba5a454a0a7f1e6ab2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.56
        },
        {
          "id": "aspect-provider-openai-drop-tool-calls",
          "sectionId": "section-provider-adapters",
          "slug": "openai-drop-tool-calls",
          "name": "Mistral fallback strips tool call payloads",
          "description": "`DropToolCalls` (`forge_app/src/dto/openai/transformers/drop_tool_call.rs`) re labels tool messages as user turns, clears tool call metadata from assistant responses, and drops the tool list entirely so providers without tool support (for example Mistral) receive plain chat transcripts.",
          "tags": [
            "provider",
            "services",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/drop_tool_call.rs",
              "sha256": "d7bd0a2d664685a88aa41c2df4016285696449f35873bd98274b055be2a8184c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-provider-openai-set-cache",
          "sectionId": "section-provider-adapters",
          "slug": "openai-set-cache",
          "name": "OpenRouter cache transformer pins first and last turns",
          "description": "`SetCache` (`forge_app/src/dto/openai/transformers/set_cache.rs`) applies a two breakpoint caching strategy: it removes cache control from the penultimate message while cloning and caching the first and final turns. Tests simulate diverse transcripts to confirm only the head and tail keep `cache_control` flags.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/set_cache.rs",
              "sha256": "a57c3081f6c8a0ca7465ddce25cf6b1e13b69deb78257faf6f5bb264ce30f31f"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-provider-openai-make-openai-compat",
          "sectionId": "section-provider-adapters",
          "slug": "openai-make-openai-compat",
          "name": "OpenAI compatibility pass prunes unsupported fields",
          "description": "`MakeOpenAiCompat` (`forge_app/src/dto/openai/transformers/make_openai_compat.rs`) wipes provider only fields such as `transforms`, `route`, and reasoning metadata, remaps `max_tokens` into `max_completion_tokens`, and only keeps `parallel_tool_calls` when actual tools accompany the request.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/make_openai_compat.rs",
              "sha256": "01bedbec8f5c24e0cf16ae443f15a6051af343f4c9607e1b5ee7324d994437c4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.61
        },
        {
          "id": "aspect-provider-openai-make-cerebras-compat",
          "sectionId": "section-provider-adapters",
          "slug": "openai-make-cerebras-compat",
          "name": "Cerebras compatibility removes parallel tool calls",
          "description": "`MakeCerebrasCompat` (`forge_app/src/dto/openai/transformers/make_cerebras_compat.rs`) specializes the OpenAI compatibility layer for Cerebras by dropping `parallel_tool_calls`, ensuring the provider sees only supported fields while leaving other request data intact.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/make_cerebras_compat.rs",
              "sha256": "0e9ba66fe95a571686bc3bfa0d8e9b3c70b51abb5f362de2fa1276e5afdaaec5"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-provider-openai-zai-thinking",
          "sectionId": "section-provider-adapters",
          "slug": "openai-zai-thinking",
          "name": "Z.ai thinking transformer maps reasoning config",
          "description": "`SetZaiThinking` (`forge_app/src/dto/openai/transformers/zai_reasoning.rs`) converts the OpenAI style `ReasoningConfig` into z.ai specific thinking payloads, swapping in enabled or disabled flags and clearing the original reasoning block so downstream providers accept the request.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/zai_reasoning.rs",
              "sha256": "68ffcf9e1b27e67dbe86a68435d4726842c951a1c8a794b8d7aa346b0a87382c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-provider-openai-pipeline",
          "sectionId": "section-provider-adapters",
          "slug": "openai-provider-pipeline",
          "name": "Provider pipeline coordinates OpenRouter transforms",
          "description": "`ProviderPipeline` (`forge_app/src/dto/openai/transformers/pipeline.rs`) chains transformer steps based on `ProviderId`, enabling OpenRouter specific caching and tool tweaks, skipping them for native OpenAI, and injecting z.ai thinking or Cerebras compatibility when required. Helper guards like `supports_open_router_params` and `is_zai_provider` keep the branching explicit and tested.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/pipeline.rs",
              "sha256": "b21737392ce71ab93fc152fc5c931779eae1f841494d1439959162ea65e13a91"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-provider-anthropic-request-dto",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-request-dto",
          "name": "Anthropic request DTO assembles multimodal messages",
          "description": "`Request` (`forge_app/src/dto/anthropic/request.rs`) builds Claude message payloads by splitting system prompts into a dedicated array, translating `ContextMessage` items into `Content` blocks, and emitting tool definitions with validated JSON input. It also derives `thinking` budgets and `tool_choice` from domain configuration.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/request.rs",
              "sha256": "a110de83adcb454abce907a621b21519345d13d4d7a5dbf05b1fed57f011c07b"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        },
        {
          "id": "aspect-provider-anthropic-response-parser",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-response-parser",
          "name": "Anthropic response parser streams content blocks",
          "description": "`response.rs` (`forge_app/src/dto/anthropic/response.rs`) maps streaming events like `ContentBlockDelta` and `MessageStart` into `ChatCompletionMessage`, converts usage metrics into domain `Usage`, and tracks stop reasons so the orchestrator can interpret Claude tool calls, reasoning traces, and cache hits.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/response.rs",
              "sha256": "56948d206ae029e28eddccc53095666349b0728dc789af1fe567e4fe5331d186"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.7
        },
        {
          "id": "aspect-provider-anthropic-error",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-error",
          "name": "Anthropic error enum exposes overload signals",
          "description": "`Error` (`forge_app/src/dto/anthropic/error.rs`) models Claude API failures with a serde tagged enum so overload messages surface as structured errors and can be retried or displayed without ad hoc string parsing.",
          "tags": [
            "provider",
            "services",
            "retry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/error.rs",
              "sha256": "d1c171ac3dc6cd0d847931cc13b1e027f4ff36ad946a2a106e5e10e788bd091c"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.52
        },
        {
          "id": "aspect-provider-anthropic-set-cache",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-set-cache",
          "name": "Anthropic cache transformer protects system primer",
          "description": "`SetCache` (`forge_app/src/dto/anthropic/transforms/set_cache.rs`) mirrors the two breakpoint caching pattern for Claude, preferring to cache the first system message when present and always caching the final turn. Tests cover scenarios with and without explicit system prompts to ensure only the intended messages get cache hints.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/transforms/set_cache.rs",
              "sha256": "4b1bd58487e1ba985da5353ef25f9f628648aa5758083d1f1d44f004277a03a2"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.58
        },
        {
          "id": "aspect-provider-anthropic-drop-invalid-tooluse",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-drop-invalid-tooluse",
          "name": "ToolUse normalizer wraps non object inputs",
          "description": "`DropInvalidToolUse` (`forge_app/src/dto/anthropic/transforms/drop_invalid_toolcalls.rs`) walks message content and wraps non object tool inputs inside a `json` map, ensuring Claude receives valid JSON objects while preserving already well shaped payloads and leaving text content untouched.",
          "tags": [
            "provider",
            "services",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/transforms/drop_invalid_toolcalls.rs",
              "sha256": "fc3d91c2e0e563cded1fe23d86faad774c02948907f0abdfa7983d23d43577fb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.59
        },
        {
          "id": "aspect-provider-anthropic-reasoning-transform",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-reasoning-transform",
          "name": "Anthropic reasoning transform disables sampling knobs",
          "description": "`ReasoningTransform` (`forge_app/src/dto/anthropic/transforms/reasoning_transform.rs`) runs before request serialization to drop `top_k` and `top_p` whenever reasoning is enabled with a token budget, matching Claude requirements that forbid those parameters while thinking mode is active.",
          "tags": [
            "provider",
            "services",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/transforms/reasoning_transform.rs",
              "sha256": "168340795dd8649cffdeef445213407fbc972834da05bf7b5d94cb03b96a77df"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.57
        },
        {
          "id": "aspect-provider-catalog-dto",
          "sectionId": "section-provider-adapters",
          "slug": "provider-catalog-dto",
          "name": "Provider catalog enumerates supported backends",
          "description": "`ProviderId` and `Provider` (`forge_app/src/dto/provider.rs`) list the supported backends in priority order, capture response protocol (OpenAI versus Anthropic), and bundle URLs plus API keys for each vendor, including helpers for Vertex and Azure endpoint shapes used in tests.",
          "tags": [
            "provider",
            "services",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/provider.rs",
              "sha256": "6a8624b1c7007fdd273d3e10dda065256ed3b533f4de58a160f46d774eb446fb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.65
        },
        {
          "id": "aspect-provider-adapters-openai-provider-sse",
          "sectionId": "section-provider-adapters",
          "slug": "openai-provider-sse",
          "name": "OpenAI provider streams SSE responses with request pipelines",
          "description": "`OpenAIProvider::inner_chat` builds a streaming request via `ProviderPipeline::transform`, adds optional Session-Id headers for Zai providers, and proxies events through `into_chat_completion_message` while logging sanitized headers.",
          "tags": [
            "provider",
            "llm",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/openai.rs",
              "sha256": "91a47b75503d9804886e4395155b066b06af98912c565e72b2aa023e930675d8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.73
        },
        {
          "id": "aspect-provider-adapters-anthropic-provider-transforms",
          "sectionId": "section-provider-adapters",
          "slug": "anthropic-provider-transforms",
          "name": "Anthropic adapter layers reasoning and cache transforms",
          "description": "`Anthropic::chat` applies `ReasoningTransform`, `DropInvalidToolUse`, and `SetCache` before streaming EventSource messages, while `models()` fetches JSON catalogues with the required `anthropic-version` header.",
          "tags": [
            "provider",
            "llm",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/anthropic.rs",
              "sha256": "f107c43ffd653d2f31c1c375d33cdbfbe478369f4017fd0895eb429553619499"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.72
        }
      ]
    },
    {
      "id": "section-app-runtime",
      "slug": "app-runtime",
      "title": "Application Runtime",
      "entries": [
        {
          "id": "aspect-app-runtime-tool-output-pipeline",
          "sectionId": "section-app-runtime",
          "slug": "tool-output-pipeline",
          "name": "ToolOperation renders tool outputs into XML payloads",
          "description": "`ToolOperation::into_tool_output` matches every tool variant, wraps results in forge_template `Element`s, and uses helpers like `DiffFormat::format`, `truncate_search_output`, and `truncate_shell_output` to deliver trimmed bodies while `file_change_stats` records line deltas in `Metrics`.",
          "tags": [
            "rendering",
            "runtime",
            "search",
            "tools",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.74
        },
        {
          "id": "aspect-app-runtime-service-contracts",
          "sectionId": "section-app-runtime",
          "slug": "service-contracts",
          "name": "Service traits define the application boundary",
          "description": "`forge_app::services` enumerates structs such as `ReadOutput`, `ShellOutput`, and `SearchResult` alongside async traits (`ProviderService`, `ConversationService`, `WorkflowService`, `McpService`) that isolate higher layers from infra-specific implementations while preserving atomic modifiers like `modify_conversation`.",
          "tags": [
            "services",
            "workflow",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/services.rs",
              "sha256": "3c93687f4681d697c84b8aebea5b6793385e8325352591db78153d6f30dfd2f0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.72
        },
        {
          "id": "aspect-app-runtime-tool-title-format",
          "sectionId": "section-app-runtime",
          "slug": "tool-title-format",
          "name": "Tools requests generate UI-friendly titles",
          "description": "`FormatContent for Tools` converts each `forge_domain::Tools` request into `TitleFormat` banners, e.g. shell commands render as “Execute [$SHELL]” with the command subtitle and read operations note explicit ranges via line metadata.",
          "tags": [
            "ui",
            "tools",
            "display",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/fmt/fmt_input.rs",
              "sha256": "34dc57ce6d41587170fd082a766bda2bb881722843af0f1f77da7674b7e78dd4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.62
        },
        {
          "id": "aspect-app-runtime-tool-diff-format",
          "sectionId": "section-app-runtime",
          "slug": "tool-diff-format",
          "name": "Tool output formatting surfaces diffs and actions",
          "description": "`FormatContent` for `ToolOperation` uses `DiffFormat::format` to emit colored patches for writes and patches, builds plan titles with `TitleFormat::debug`, and suppresses read/search/shell noise so only meaningful tool activity becomes chat content.",
          "tags": [
            "display",
            "runtime",
            "search",
            "tools",
            "ui"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/fmt/fmt_output.rs",
              "sha256": "99b63a92ef5ca83ab1c5700aca2257dcda0196663d61dd9a3ea244e03bd4ec23"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.63
        },
        {
          "id": "aspect-app-runtime-shell-output-truncation",
          "sectionId": "section-app-runtime",
          "slug": "shell-output-truncation",
          "name": "Shell output truncation preserves head/tail windows",
          "description": "`truncate_shell_output` samples stdout/stderr with `clip_by_lines`, annotates prefix/suffix line numbers, and notes truncated long lines so the UI can stream bounded logs while pointing to full artifacts when needed.",
          "tags": [
            "runtime",
            "tools",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/truncation/truncate_shell.rs",
              "sha256": "f4aa5d595184fc48a9ffdc0a89f6342f45518072d6d051f83bf8eed5fe90a76d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.65
        },
        {
          "id": "aspect-app-runtime-search-truncation",
          "sectionId": "section-app-runtime",
          "slug": "search-truncation",
          "name": "Search truncation limits matches by lines and bytes",
          "description": "`truncate_search_output` wraps formatted matches in `TruncatedSearchOutput`, first windowing by requested line range then enforcing a byte ceiling so large grep results still produce deterministic summaries.",
          "tags": [
            "filesystem",
            "runtime",
            "search",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/truncation/truncate_search.rs",
              "sha256": "42794ab71898161555969101c44be5fcd4cb5fa73099fda30aa1e58c6c75c683"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.63
        },
        {
          "id": "aspect-app-runtime-walker-config",
          "sectionId": "section-app-runtime",
          "slug": "walker-config",
          "name": "Walker config toggles traversal limits",
          "description": "`forge_app::Walker` exposes builder-style limits for depth, breadth, file counts, and sizes with `conservative()` defaults versus `unlimited()` modes, ensuring filesystem walks honour workspace safety caps.",
          "tags": [
            "filesystem",
            "workflow",
            "configuration",
            "runtime"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/walker.rs",
              "sha256": "a70ef5c646941d3b157f7743ece5bb916ee7277f3a7cdb520f20af0c93c33557"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.6
        },
        {
          "id": "aspect-app-runtime-runtime-path-formatting",
          "sectionId": "section-app-runtime",
          "slug": "runtime-path-formatting",
          "name": "Runtime utils normalize display paths and matches",
          "description": "`format_display_path` rewrites absolute paths relative to the workspace, `truncate_key` redacts long secrets, and `format_match` unifies search hits into “path:line:content” strings consumed by the TUI.",
          "tags": [
            "filesystem",
            "runtime",
            "search",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/utils.rs",
              "sha256": "ce494d339a7eec32646e16276a98f1de611bd52d292ae76dfdd7fbd26a5f2cd9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-app-runtime-template-element-builder",
          "sectionId": "section-app-runtime",
          "slug": "template-element-builder",
          "name": "Element builder emits sanitized XML fragments",
          "description": "`forge_template::Element` composes XML-ish nodes with auto-escaped text, optional `<![CDATA[]>` blocks, class merging, and `append` support so UI layers can stream structured payloads without manual string concatenation.",
          "tags": [
            "rendering",
            "runtime",
            "ui",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_template/src/element.rs",
              "sha256": "40a4d2b4c97d34b469290761a4858f7d22e3d7572ae5d57a4cddf8c6526a841c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.59
        },
        {
          "sectionId": "section-app-runtime",
          "slug": "forge-app-tool-errors",
          "name": "ForgeApp tool error taxonomy",
          "description": "`forge_app/src/error.rs` defines the `Error` enum used by tool execution, wrapping `ToolCallArgumentError`, missing tool lookups, per-tool timeouts, policy rejections that list supported tools, empty responses, in-progress auth, unsubscribed events, and missing provider/model configuration so orchestration can surface actionable errors to the UI.",
          "tags": [
            "runtime",
            "services",
            "tools",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/error.rs",
              "sha256": "c94613388624517d9322e472ba1fff4448dc708e4c88c4c13e67bcdcfb7bd2af"
            }
          ],
          "importance": 0.58,
          "id": "aspect-app-runtime-forge-app-tool-errors",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-app-runtime",
          "slug": "forge-app-crate-surface",
          "name": "ForgeApp crate surface",
          "description": "`forge_app/src/lib.rs` exports agents, the core app orchestrator, services, error types, user models, and the domain re-export, delivering a single runtime facade to the API layer.",
          "tags": [
            "runtime",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/lib.rs",
              "sha256": "ceb00e050e5ff19edfb972d54651b7d8c852e0dcebb8f2606569c4986eb7762e"
            }
          ],
          "importance": 0.54,
          "id": "aspect-app-runtime-forge-app-crate-surface",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-app-runtime-forge-stream-lib",
          "sectionId": "section-app-runtime",
          "slug": "forge-stream-lib",
          "name": "forge_stream lib exposes the MpscStream abstraction",
          "description": "`forge_stream/src/lib.rs` re-exports `MpscStream`, letting runtime and API layers pull in the streaming adapter with a lightweight dependency on the crate root.",
          "tags": [
            "runtime",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_stream/src/lib.rs",
              "sha256": "48d08d440ced0ac8a489048c6bc552abee5e09b754020e8eb4c7dc0bb97590a9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        }
      ]
    },
    {
      "id": "section-context-management",
      "slug": "context-management",
      "title": "Context & Reasoning",
      "entries": [
        {
          "id": "aspect-context-management-stream-into-full",
          "sectionId": "section-context-management",
          "slug": "stream-into-full",
          "name": "ResultStreamExt collates streaming completions",
          "description": "`ResultStreamExt::into_full` drains streamed `ChatCompletionMessage`s, rebuilds content, reasoning, and tool calls (including XML-sourced ones), and raises `Error::EmptyCompletion` when a run yields no content or finish reason.",
          "tags": [
            "context",
            "provider",
            "workflow",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/result_stream_ext.rs",
              "sha256": "f62ae142741dbff8506651efd40e3aa742a3d8cbb905912112e6886d85096895"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.78
        },
        {
          "id": "aspect-context-management-compact-policy",
          "sectionId": "section-context-management",
          "slug": "compact-policy",
          "name": "Compact options gate summarization triggers",
          "description": "`forge_domain::Compact` tracks token, turn, and message thresholds plus `retention_window` and `eviction_window`; helper methods like `should_compact_due_to_tokens` decide whether to summarize the conversation.",
          "tags": [
            "conversation",
            "workflow",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/compact.rs",
              "sha256": "2792e7c43c6b1d435d2af2a2ff544c452e285f235f3a32187ab2b28565dd2865"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-context-management-compaction-strategy",
          "sectionId": "section-context-management",
          "slug": "compaction-strategy",
          "name": "CompactionStrategy balances eviction modes",
          "description": "`CompactionStrategy` offers percentage (`Evict`) and preserve-last (`Retain`) policies, with `to_fixed` and `eviction_range` ensuring tool-call/result pairs stay intact when trimming assistant history.",
          "tags": [
            "conversation",
            "workflow",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/compaction_strategy.rs",
              "sha256": "07f80b31e132f720dff3edf7263983ab77de6a5394cd4d2d8d5ee0873802b2d3"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-context-management-compaction-metrics",
          "sectionId": "section-context-management",
          "slug": "compaction-metrics",
          "name": "CompactionResult reports token and message savings",
          "description": "`CompactionResult::token_reduction_percentage` and `message_reduction_percentage` quantify how much context was condensed, giving operators feedback on automatic summarisation runs.",
          "tags": [
            "conversation",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/compaction_result.rs",
              "sha256": "027a84ca3c29ed3b3456da3060afab6048daa3a5f2f3ebffbdc37dbd964f32ef"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-context-management-reasoning-aggregation",
          "sectionId": "section-context-management",
          "slug": "reasoning-aggregation",
          "name": "Reasoning aggregator stitches partial traces",
          "description": "`Reasoning::from_parts` zips streamed `ReasoningPart` slices into `ReasoningFull` records, concatenating text/signature pairs to rebuild cohesive thinking transcripts.",
          "tags": [
            "context",
            "conversation",
            "provider",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/reasoning.rs",
              "sha256": "db914290b4bd759a96df1c5f1ba3d64a9fbd8a02e259865a07a5b0fc4e4a846f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-context-management-image-handling-transformer",
          "sectionId": "section-context-management",
          "slug": "image-handling-transformer",
          "name": "ImageHandling converts tool images into attachments",
          "description": "The `ImageHandling` transformer replaces `ToolValue::Image` entries with textual placeholders and appends dedicated user image messages so downstream agents see both narrative and binary attachments.",
          "tags": [
            "transformers",
            "workflow",
            "tools",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/image_handling.rs",
              "sha256": "3a126f95d60187470783b974213262113a848e24e53b74b4856c7e7d64944ee2"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-context-management-tool-call-normalizer",
          "sectionId": "section-context-management",
          "slug": "tool-call-normalizer",
          "name": "TransformToolCalls adapts contexts for non-tool models",
          "description": "`TransformToolCalls::transform` strips tool call metadata from assistant messages and replays tool outputs as user content, clearing `context.tools` for models that cannot consume function calls.",
          "tags": [
            "transformers",
            "workflow",
            "tools",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/transform_tool_calls.rs",
              "sha256": "816bfc8929677f274ae9834714fbba7da607b8e9543d1d5859162af6dacfe10b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-context-management-drop-reasoning-details",
          "sectionId": "section-context-management",
          "slug": "drop-reasoning-details",
          "name": "DropReasoningDetails removes thinking payloads on demand",
          "description": "This transformer clears `TextMessage.reasoning_details` and resets the global `context.reasoning`, allowing degraded channels to ship minimal transcripts.",
          "tags": [
            "context",
            "transformers",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/drop_reasoning_details.rs",
              "sha256": "69e652faf3916a26ba02956bed8c4feca9c69a939ec4d8abc6b0e4bcf122767b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-context-management-reasoning-normalizer",
          "sectionId": "section-context-management",
          "slug": "reasoning-normalizer",
          "name": "ReasoningNormalizer enforces assistant consistency",
          "description": "`ReasoningNormalizer::transform` inspects the first assistant reply; if it lacks reasoning, the transformer strips reasoning details from later assistant messages and disables the reasoning config to maintain parity.",
          "tags": [
            "context",
            "transformers",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/reasoning_normalizer.rs",
              "sha256": "fd6b9abb4663ea4e8bc3866c7618205361c078d6a76947d78be076cd6720cbb3"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.56
        },
        {
          "id": "aspect-context-management-set-model-transformer",
          "sectionId": "section-context-management",
          "slug": "set-model-transformer",
          "name": "SetModel backfills user message model IDs",
          "description": "`SetModel::transform` iterates over user messages and assigns a default `ModelId` where missing so context merges retain provenance for follow-up turns.",
          "tags": [
            "transformers",
            "provider",
            "workflow",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/set_model.rs",
              "sha256": "dd71bb39507dc068150c1e96f903bf2a96fc765137daf324df98759d8b1578cd"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.58
        },
        {
          "id": "aspect-context-management-sort-tools-transformer",
          "sectionId": "section-context-management",
          "slug": "sort-tools-transformer",
          "name": "SortTools keeps tool definitions deterministic",
          "description": "`SortTools::transform` sorts `context.tools` by name, preventing nondeterministic ordering when multiple MCP tools are registered.",
          "tags": [
            "transformers",
            "tools",
            "workflow",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/sort_tools.rs",
              "sha256": "d99f593e398b55600c7390cb5a4a7b65b6a38aaee4dccee903793548ac4e4f3d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.52
        },
        {
          "id": "aspect-context-management-transformer-pipeline",
          "sectionId": "section-context-management",
          "slug": "transformer-pipeline",
          "name": "Transformer combinators compose context rewrites",
          "description": "`Transformers` define a simple trait with `Pipe` and `Cond` adapters so transformations such as `TransformToolCalls.pipe(ImageHandling)` can be chained or guarded without bespoke glue.",
          "tags": [
            "transformers",
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/transformer/mod.rs",
              "sha256": "963e9d856b2867cd3ae5800b76b33354afecba6ecc62e58eda5d9e3685546f91"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-context-management-xml-tool-tag-utils",
          "sectionId": "section-context-management",
          "slug": "xml-tool-tag-utils",
          "name": "XML utilities detect and scrub forge tags",
          "description": "`extract_tag_content` pulls payloads from `<forge_tool_call>` blocks while `remove_tag_with_prefix` strips forge-specific tags from transcripts before they reach providers that forbid custom XML.",
          "tags": [
            "context",
            "conversation",
            "provider",
            "tools",
            "validation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/xml.rs",
              "sha256": "2818f7a84ad607c976e8802e09e11e23a85580a0d4c1c18ab8e0b28e87952ebf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.57
        },
        {
          "sectionId": "section-context-management",
          "slug": "fetch-content-truncation",
          "name": "Fetch content truncation guard",
          "description": "`truncate_fetch_content` (`forge_app/src/truncation/truncate_fetch.rs`) bounds remote fetch bodies by character budget, trimming via `chars().take(limit)` when needed and returning a `TruncatedFetchOutput` wrapper so compaction and tool logging can note that only a prefix was preserved.",
          "tags": [
            "conversation",
            "workflow",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/truncation/truncate_fetch.rs",
              "sha256": "3c2c2a7544cf373a92f12bed5c6f5bba8c9092cfa336973ff8bff7b1e8f520ba"
            }
          ],
          "importance": 0.45,
          "id": "aspect-context-management-fetch-content-truncation",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-context-management-truncation-module",
          "sectionId": "section-context-management",
          "slug": "truncation-module",
          "name": "Truncation module centralises fetch/search/shell strategies",
          "description": "`forge_app/src/truncation/mod.rs` collects the fetch, search, and shell truncation functions under one module and re-exports them, keeping the orchestrator's truncation logic consistent no matter which operation produced oversized output.",
          "tags": [
            "context",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/truncation/mod.rs",
              "sha256": "2e1710e82cff7604422c2dd080bf3ef21e50758c02c09afb4c73c6f1459bb1e9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        }
      ]
    },
    {
      "id": "section-domain-foundation",
      "slug": "domain-foundation",
      "title": "Domain Foundations",
      "entries": [
        {
          "id": "aspect-domain-foundation-environment-structure",
          "sectionId": "section-domain-foundation",
          "slug": "environment-structure",
          "name": "Environment captures workspace defaults and paths",
          "description": "`forge_domain::Environment` stores OS metadata, retry config, HTTP settings, and workspace directories, exposing helpers such as `agent_cwd_path`, `cache_dir`, and `workspace_id` for consistent storage layout.",
          "tags": [
            "domain",
            "configuration",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/env.rs",
              "sha256": "902071287cb2365ae5002754dd2fc53fe7af795dd8b0b35095b1c4fcb23f2752"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.7
        },
        {
          "id": "aspect-domain-foundation-http-config",
          "sectionId": "section-domain-foundation",
          "slug": "http-config",
          "name": "HttpConfig tunes timeouts, TLS, and keep-alives",
          "description": "`HttpConfig` provides default connection/read timeouts, HTTP/2 keep-alive options, and optional TLS bounds (`min_tls_version`, `root_cert_paths`), all overrideable via `FORGE_HTTP_*` environment variables.",
          "tags": [
            "domain",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/http_config.rs",
              "sha256": "3be81928db24b8eda9de8aaaf1bf895493394e90df93edcfcccad5fe55547dad"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-domain-foundation-domain-error-catalog",
          "sectionId": "section-domain-foundation",
          "slug": "domain-error-catalog",
          "name": "Domain error catalog preserves parsing context",
          "description": "The `Error` enum distinguishes tool-call parsing (`ToolCallArgument`), missing agents, empty completions, and wraps retryable failures via `into_retryable`, avoiding generic anyhow conversions.",
          "tags": [
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/error.rs",
              "sha256": "a6da7b28023c3d5849f27008dae97895cde476da86b95be7062658297365ca3d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.68
        },
        {
          "id": "aspect-domain-foundation-model-metadata",
          "sectionId": "section-domain-foundation",
          "slug": "model-metadata",
          "name": "Model metadata tracks tool and reasoning support",
          "description": "`forge_domain::Model` stores optional names, context length, and capability flags (`tools_supported`, `supports_parallel_tool_calls`, `supports_reasoning`) keyed by `ModelId`.",
          "tags": [
            "domain",
            "configuration",
            "provider"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/model.rs",
              "sha256": "6344c1835b3845380ad5b1817380c07b85f00ae13da886e688cad2f1ccd9181c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-domain-foundation-vector-point",
          "sectionId": "section-domain-foundation",
          "slug": "vector-point",
          "name": "Vector Point wraps embeddings with content metadata",
          "description": "`Point::new` assigns UUID-backed `PointId`s and timestamps to embedding vectors while `Query` captures similarity limits, standardising semantic cache entries.",
          "tags": [
            "domain",
            "analytics",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/point.rs",
              "sha256": "20b562a2ec060e0343d0f4704efba99f2a0afc7c658fcd4fdf68d7c7500dd357"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-domain-foundation-line-numbering",
          "sectionId": "section-domain-foundation",
          "slug": "line-numbering",
          "name": "LineNumbers trait annotates text with offsets",
          "description": "The `LineNumbers` extension turns any `&str` into a numbered block via `numbered_from`, supporting read/search responses that need stable references.",
          "tags": [
            "domain",
            "context"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/line_numbers.rs",
              "sha256": "7d4e85b88d8f28c80cd1a3f6536d3d00b5b6da20538ff4204d9de3c61f981146"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-domain-foundation-merge-helpers",
          "sectionId": "section-domain-foundation",
          "slug": "merge-helpers",
          "name": "Domain merge helpers reconcile optional structures",
          "description": "The `merge` module supplies strategies like `option`, `std::overwrite`, and `vec::unify_by_key`, letting configs combine lists without duplicating idempotent entries.",
          "tags": [
            "domain",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/merge.rs",
              "sha256": "ec239583e7d2c6bd7dee73adb255838e99e6fcbacb848ee7e3b489988ca71c9e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.5
        },
        {
          "id": "aspect-domain-foundation-mcp-config",
          "sectionId": "section-domain-foundation",
          "slug": "mcp-config",
          "name": "McpConfig merges user and local server definitions",
          "description": "`McpConfig` stores scoped servers (`Scope::Local` vs `Scope::User`), offers `McpServerConfig::new_stdio/new_sse`, and computes a deterministic `cache_key` for caching MCP tool registrations.",
          "tags": [
            "domain",
            "configuration",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/mcp.rs",
              "sha256": "8f1f8cbad79258052d93d6087584d4297663fb818c2db306092bf47a84868979"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.66
        },
        {
          "id": "aspect-domain-foundation-domain-reexports",
          "sectionId": "section-domain-foundation",
          "slug": "domain-reexports",
          "name": "forge_domain re-exports consolidate core types",
          "description": "`lib.rs` publicly re-exports agent, context, tool, and transformer modules plus `LineNumbers` so application crates can depend on a single domain facade.",
          "tags": [
            "domain",
            "services",
            "registry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/lib.rs",
              "sha256": "0486ae78d944967a909dceefeda4f7d4e22f8d98db3bee907ffb79392234fa3f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.52
        },
        {
          "id": "aspect-domain-foundation-policy-rule-matcher",
          "sectionId": "section-domain-foundation",
          "slug": "policy-rule-matcher",
          "name": "Policy Rule matcher guards filesystem, command, and fetch access",
          "description": "`Rule::matches` in `policies/rule.rs` applies glob patterns (via `glob::Pattern`) against write/read paths, commands, or URLs and honours optional working directory scopes to approve or reject requested operations.",
          "tags": [
            "domain",
            "policy",
            "safety"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.64
        },
        {
          "id": "aspect-domain-foundation-policy-config",
          "sectionId": "section-domain-foundation",
          "slug": "policy-config",
          "name": "PolicyConfig aggregates policy sets and evaluation",
          "description": "`PolicyConfig::eval` iterates registered policies to surface `Permission` results while `find_rules` returns matching `Rule`s, enabling YAML-defined safelists to be audited at runtime.",
          "tags": [
            "domain",
            "policy",
            "configuration",
            "safety"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/config.rs",
              "sha256": "c7a51aaab2919197c398534abee2aa957727d6d640c38693b76dc61ad53c0a93"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "sectionId": "section-domain-foundation",
          "slug": "policy-permission-operations",
          "name": "Policy permission operations",
          "description": "`PermissionOperation` (`forge_domain/src/policies/operation.rs`) enumerates write, read, execute, and fetch operations with absolute paths or URLs, the working directory, and human-readable context so the policy engine can render accurate approval prompts.",
          "tags": [
            "domain",
            "policy",
            "safety"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/operation.rs",
              "sha256": "50c5b3fe8cfe52eda228810551757e2310bb616c979065af3999fa3116557dae"
            }
          ],
          "importance": 0.55,
          "id": "aspect-domain-foundation-policy-permission-operations",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain-foundation",
          "slug": "policy-permission-types",
          "name": "Policy permission labels",
          "description": "`Permission` (`forge_domain/src/policies/types.rs`) defines the `Allow`, `Deny`, and `Confirm` tri-state with camelCase serialization and `Display` output (`ALLOW`, `DENY`, `CONFIRM`), powering schemas and UI copy for safety decisions.",
          "tags": [
            "domain",
            "policy",
            "safety"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/types.rs",
              "sha256": "4a2584470ee2b53d78bbd0b1c46fa2062907cc3324c7caacc99dc090e5a3d25e"
            }
          ],
          "importance": 0.53,
          "id": "aspect-domain-foundation-policy-permission-types",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain-foundation",
          "slug": "command-output-struct",
          "name": "Command output domain struct",
          "description": "`CommandOutput` (`forge_domain/src/shell.rs`) records the executed command, stdout/stderr, and exit code, and exposes `success()` that treats missing exit codes as success, unifying how shell tools report results to the UI and policy checks.",
          "tags": [
            "domain",
            "context",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/shell.rs",
              "sha256": "5a2105247d9362de7238a35b06125d94c94a49b1a4d651b0d4028921383957d9"
            }
          ],
          "importance": 0.5,
          "id": "aspect-domain-foundation-command-output-struct",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain-foundation",
          "slug": "template-wrapper",
          "name": "Template wrapper type",
          "description": "`Template<V>` (`forge_domain/src/template.rs`) stores template strings with a phantom data marker and forwards `JsonSchema` derivation to `String`, keeping typed template slots available to both runtime rendering and JSON schema generation.",
          "tags": [
            "domain",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/template.rs",
              "sha256": "883ff93fd7939ea5358550c0a4ce9c411bc75e56b3d3a7dd3c3df6107f202eb7"
            }
          ],
          "importance": 0.48,
          "id": "aspect-domain-foundation-template-wrapper",
          "lastUpdated": "2025-10-22"
        },
        {
          "sectionId": "section-domain-foundation",
          "slug": "json-repair-errors",
          "name": "JSON repair error taxonomy",
          "description": "`JsonRepairError` (`forge_json_repair/src/error.rs`) classifies malformed JSON fragments (invalid characters, unexpected EOF, missing colons, unicode issues) and wraps `serde_json::Error`, giving tool repair logs precise failure reasons.",
          "tags": [
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/src/error.rs",
              "sha256": "263f92ff686fa5d8503b501838f534740e4b4aa9d963d93afc8c3b1a9977b331"
            }
          ],
          "importance": 0.52,
          "id": "aspect-domain-foundation-json-repair-errors",
          "lastUpdated": "2025-10-22"
        },
        {
          "id": "aspect-domain-foundation-policies-module",
          "sectionId": "section-domain-foundation",
          "slug": "policies-module",
          "name": "Policies module aggregates config, engine, and rule types",
          "description": "`forge_domain/src/policies/mod.rs` re-exports policy configuration, evaluation engine, operation descriptors, rule parsing, and shared types, giving services a single import for the permission system primitives.",
          "tags": [
            "domain",
            "policy",
            "registry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/mod.rs",
              "sha256": "a0a4322b3a3b752497c9fd7fdde9bbc6128cf3bdde2197fb24290d9117e7f2f6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-domain-foundation-json-repair-lib",
          "sectionId": "section-domain-foundation",
          "slug": "json-repair-lib",
          "name": "forge_json_repair exports parser and error umbrella",
          "description": "`forge_json_repair/src/lib.rs` exposes the `json_repair` function alongside `JsonRepairError` so higher layers can recover malformed tool payloads with a single dependency on the crate root.",
          "tags": [
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/src/lib.rs",
              "sha256": "483f93f73e5a4ba0c7a5b6d88d018da5bbb62b7b5723b785e0e508ac892350bd"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        }
      ]
    },
    {
      "id": "section-provider-pipeline",
      "slug": "provider-pipeline",
      "title": "Provider Pipeline",
      "entries": [
        {
          "id": "aspect-provider-pipeline-provider-service-cache",
          "sectionId": "section-provider-pipeline",
          "slug": "provider-service-cache",
          "name": "ForgeProviderService caches HTTP clients and model lists",
          "description": "`ForgeProviderService::client` memoises `ClientBuilder` instances per provider using timeout and retry settings from the environment, and `models()` caches responses to avoid repeated upstream calls.",
          "tags": [
            "services",
            "provider",
            "infrastructure",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/service.rs",
              "sha256": "62f00df60fd6ed0db35a2b1e38258d7dcbd47a661b079e64891643021c6023fa"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.7
        },
        {
          "id": "aspect-provider-pipeline-provider-event-stream",
          "sectionId": "section-provider-pipeline",
          "slug": "provider-event-stream",
          "name": "Event stream wrapper handles SSE edge cases",
          "description": "`into_chat_completion_message` filters `[DONE]` markers, retries JSON parsing with contextual errors, and maps HTTP failures to rich diagnostics using `format_http_context`.",
          "tags": [
            "provider",
            "llm",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/event.rs",
              "sha256": "c64d0db0c0f6d6079a296f0e1ce7c16274069236075ca40f42cf523d6270f19b"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.68
        },
        {
          "id": "aspect-provider-pipeline-provider-http-utils",
          "sectionId": "section-provider-pipeline",
          "slug": "provider-http-utils",
          "name": "Provider HTTP utilities redact sensitive headers",
          "description": "`sanitize_headers` clones `HeaderMap`s while redacting Authorization values, and `format_http_context` standardises status/method/url logging for error reporting.",
          "tags": [
            "provider",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/provider/utils.rs",
              "sha256": "568a5968c08ee561654bcad96586cb1c2d16211c72a8f30d69f21ed641940099"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.6
        },
        {
          "id": "aspect-provider-pipeline-openai-model-mapping",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-model-mapping",
          "name": "OpenAI model DTO normalizes pricing and capabilities",
          "description": "`dto/openai/model.rs` tolerates numeric or string pricing via `PriceValue`, translates `ListModelResponse` into domain `Model`s, and flags support for tools, parallel calls, and reasoning.",
          "tags": [
            "provider",
            "llm",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/model.rs",
              "sha256": "f710ae93dc76591d2f49489e53b7fc1e059a362dd391e5d885184caeeb97da67"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.64
        },
        {
          "id": "aspect-provider-pipeline-openai-tool-choice",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-tool-choice",
          "name": "ToolChoice bridges domain enums to OpenAI payloads",
          "description": "`ToolChoice` serialises call-by-name requests into the `{\"type\":\"function\"}` schema and converts back from `forge_domain::ToolChoice`, keeping provider payloads aligned with domain intent.",
          "tags": [
            "provider",
            "tools",
            "llm",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/tool_choice.rs",
              "sha256": "d27a037907014feb612c02edd6cd7279959fa89a8b606d2902dfbffa85bad602"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.6
        },
        {
          "id": "aspect-provider-pipeline-openai-when-model",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-when-model",
          "name": "when_model gates transformers by regex-matched ids",
          "description": "`when_model` compiles a regex at setup and returns a closure used by `Transformer::when`, letting providers target specific model prefixes when mutating requests.",
          "tags": [
            "provider",
            "transformers",
            "llm",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/when_model.rs",
              "sha256": "8f072eb096e0f5502bbe85bc786f504bb5c8fe167ce4e93b0563d0491501bfb4"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.56
        },
        {
          "sectionId": "section-provider-pipeline",
          "slug": "openai-reasoning-detail-dto",
          "name": "OpenAI reasoning detail DTO",
          "description": "`ReasoningDetail` (`forge_app/src/dto/openai/reasoning.rs`) captures OpenAI reasoning traces with type, optional text, and signature fields so the provider pipeline can forward structured thinking metadata alongside tool responses.",
          "tags": [
            "provider",
            "llm",
            "workflow",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/reasoning.rs",
              "sha256": "328d467f11bef88e23ab831d346d0f4ba278e832e49dcad06552a7a799d4944f"
            }
          ],
          "importance": 0.4,
          "id": "aspect-provider-pipeline-openai-reasoning-detail-dto",
          "lastUpdated": "2025-10-24"
        },
        {
          "id": "aspect-provider-dto-namespacing",
          "sectionId": "section-provider-pipeline",
          "slug": "provider-dto-namespacing",
          "name": "Forge DTO root keeps Anthropic and OpenAI types separated",
          "description": "`dto/mod.rs` documents why the crate exposes provider modules instead of prefixing types, re-exporting shared app config and provider summaries while preventing name collisions between Anthropic and OpenAI structures.",
          "tags": [
            "workflow",
            "provider",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/mod.rs",
              "sha256": "47b460676f9e063d02299e0e68bca590a2d2a230751516c307e39f6d5bc2fd1c"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.46
        },
        {
          "id": "aspect-provider-anthropic-module",
          "sectionId": "section-provider-pipeline",
          "slug": "anthropic-module",
          "name": "Anthropic DTO module re-exports transport, errors, and transforms",
          "description": "`dto/anthropic/mod.rs` serves as the crate's public surface for Anthropic payloads, fanning out request/response models and the transform pipeline that decorates tool calls before network dispatch.",
          "tags": [
            "provider",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/mod.rs",
              "sha256": "fc24b4d66e61eeb9fab0afbd487cb24b233d892d51927b3ebdae8cc06023b4a7"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.41
        },
        {
          "id": "aspect-provider-anthropic-transforms-registry",
          "sectionId": "section-provider-pipeline",
          "slug": "anthropic-transforms-registry",
          "name": "Anthropic transform registry wires drop-invalid, reasoning, and cache passes",
          "description": "`dto/anthropic/transforms/mod.rs` exposes the transform combinators used by the Anthropic pipeline—dropping malformed tool uses, promoting reasoning metadata, and setting cache hints—so callers compose them declaratively.",
          "tags": [
            "provider",
            "registry",
            "transformers",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/anthropic/transforms/mod.rs",
              "sha256": "900eba22acff36acac31285e6ada7ba7023adb737db40e3c8e535286a05d5549"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.42
        },
        {
          "id": "aspect-provider-openai-module",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-module",
          "name": "OpenAI DTO module surfaces request/response, model, and tool-choice APIs",
          "description": "`dto/openai/mod.rs` centralises OpenAI-specific DTOs—requests, responses, tool choice helpers, and model metadata—so upstream code pulls a cohesive namespace without re-export clashes.",
          "tags": [
            "provider",
            "registry",
            "services",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/mod.rs",
              "sha256": "bb2e7e11a5880ffa4105268cdc6b8c472e34e8fc1afa4a6fd2a6d89376798f01"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.45
        },
        {
          "id": "aspect-provider-openai-transformers-registry",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-transformers-registry",
          "name": "OpenAI transformer registry curates provider-specific preprocessors",
          "description": "`dto/openai/transformers/mod.rs` publishes the transformer set used by ProviderPipeline, including cache setters, tool schema normalisation, and OpenRouter/Cerebras/Z.AI compatibility toggles.",
          "tags": [
            "provider",
            "registry",
            "transformers",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/transformers/mod.rs",
              "sha256": "158e4ea7f5d84b0d22b06c799fe3864ddc4992a94cfc1beb8c7a617d772e5784"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.44
        },
        {
          "id": "aspect-provider-openai-error-corpus",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-error-corpus",
          "name": "OpenRouter error corpus enumerates provider-specific failure shapes",
          "description": "`responses.jsonl` captures streamed error payloads—from premature closes to Bedrock validation failures and OpenRouter rate limits—so retry and error-classification logic can be regression-tested against real responses.",
          "tags": [
            "provider",
            "errors",
            "tests"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/responses.jsonl",
              "sha256": "d57ca1256ed2c1e60f56aa0ba6d73b14dcc31c00cf839d904a8579b88cf10681"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.5
        },
        {
          "id": "aspect-provider-openai-pricing-fixtures",
          "sectionId": "section-provider-pipeline",
          "slug": "openai-pricing-fixtures",
          "name": "Pricing fixtures cover numeric, string, and missing cost metadata",
          "description": "The OpenAI fixtures (`model_*_pricing.json`, `chutes_api_response.json`, `zai_api*_response.json`) encode the pricing formats returned by vendors—numbers, strings, scientific notation, absent values—so the pricing normaliser can parse and warn consistently.",
          "tags": [
            "provider",
            "tests",
            "llm"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_numeric_pricing.json",
              "sha256": "35e911a5fee7853fdf4501eaae167ff9c2f9c981d930612185e6e083f77680ab"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_string_pricing.json",
              "sha256": "35fb56604292d46affec0f7c533f962fc1652777c2a638fcc0eb824a6806ab4c"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_scientific_notation.json",
              "sha256": "896391a04afa2c5755160b494bad2f49261f247c1d2bbdf0316c2774334b6a8e"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_no_pricing.json",
              "sha256": "b22c5342d4a9dbf494afd703eedc5bb116b5e9d9c7a2bdf6963d40c9bef61d34"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_mixed_pricing.json",
              "sha256": "24b3258310bccad02d40e6a9d4a35be13e858a4f3e0d27d07c01c33b213fb0c0"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/model_invalid_pricing.json",
              "sha256": "b0e8604f71facf3f58091733990abc7508553febd9b399d3641c68205d06e4b6"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/chutes_api_response.json",
              "sha256": "65838932762bf891ba508026b4fee15e8216487714e5408ccd36ee284de7a287"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/zai_api_response.json",
              "sha256": "d119476b3553d17c7fd94a293f94a4a214c29f7448629578542248421637990d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/dto/openai/fixtures/zai_api_delta_response.json",
              "sha256": "b0744113fb8935c1b37fec6fb0e16456b9973e8f5f1edfa8eab9725714a30e13"
            }
          ],
          "lastUpdated": "2025-10-24",
          "importance": 0.47
        }
      ]
    },
    {
      "id": "section-quality",
      "slug": "quality",
      "title": "Quality & Testing",
      "entries": [
        {
          "id": "aspect-quality-orch-system-prompt-snapshots",
          "sectionId": "section-quality",
          "slug": "orch-system-prompt-snapshots",
          "name": "Orchestrator system prompt tests lock workflow toggles",
          "description": "`orch_system_spec.rs` builds default and tool-supported workflows, runs the orchestrator test harness, and snapshots the resulting system messages so changes to file listings, `tool_supported`, or custom rules can't silently diverge from the recorded prompt contract.",
          "tags": [
            "tests",
            "snapshots",
            "validation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch_spec/orch_system_spec.rs",
              "sha256": "1b880cb5cb92da5857201306c305acdda2559f5a991af2be6f7d078524893b92"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.55
        },
        {
          "id": "aspect-quality-workflow-schema-guard",
          "sectionId": "section-quality",
          "slug": "workflow-schema-guard",
          "name": "Workflow schema test enforces `forge.schema.json` parity",
          "description": "`forge_domain/tests/workflow.rs` regenerates the `Workflow` schema with schemars, writes it locally during development, and asserts byte-for-byte equality on CI so API additions can't ship without updating the committed `forge.schema.json`.",
          "tags": [
            "tests",
            "validation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/tests/workflow.rs",
              "sha256": "813197b3a482933e4d985b89c7446166801ebfd4f8de4c1846549998732e0b7c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-quality-ci-workflow-regression",
          "sectionId": "section-quality",
          "slug": "ci-workflow-regression",
          "name": "CI regression tests rebuild GitHub workflows on demand",
          "description": "`forge_ci/tests/ci.rs` executes every workflow generator (`ci`, `release_drafter`, `release`, `labels`, `stale`) during unit tests, ensuring the templating library compiles and the emitted YAML stays valid before changes merge.",
          "tags": [
            "tests",
            "ci",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/tests/ci.rs",
              "sha256": "7abc565306a67c01653a731146d953593ace9155762504fac3a7f318c5a660e1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.5
        },
        {
          "id": "aspect-quality-json-repair-comments-unicode",
          "sectionId": "section-quality",
          "slug": "json-repair-comments-unicode",
          "name": "JSON repair fixtures cover comment stripping and unicode",
          "description": "`comments_unicode.rs` proves `json_repair` removes C- and C++-style comments surrounding objects, preserves comment markers embedded inside strings, and round-trips unicode literals and escaped codepoints without mangling them.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/comments_unicode.rs",
              "sha256": "3cbfee215e8b5ae173e2b6b17458b520f4ece14d752f6810b137496d313f40b5"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-quality-json-repair-complex-completions",
          "sectionId": "section-quality",
          "slug": "json-repair-complex-completions",
          "name": "Complex repair cases normalize newline dumps and missing commas",
          "description": "`complex_repairs.rs` feeds newline-delimited documents, comma-separated scalars, and arrays missing delimiters into `json_repair`, asserting they normalize into proper arrays and objects while tolerating redundant brackets and malformed numeric suffixes.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/complex_repairs.rs",
              "sha256": "811dd71c6f59393f110513a28f9be4cb76ae676fc616b423bee6d4d82ef5edf1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        },
        {
          "id": "aspect-quality-json-repair-error-classification",
          "sectionId": "section-quality",
          "slug": "json-repair-error-classification",
          "name": "Repair error cases assert hard failures stay explicit",
          "description": "`error_cases.rs` documents the boundary conditions `json_repair` refuses to coerce—empty payloads, missing colons, orphaned braces, and invalid unicode escapes—so calling code can distinguish fatal syntax errors from recoverable gaps.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/error_cases.rs",
              "sha256": "6038a5069c75b5cafffea7f500289c15afee9483beaedf19e11bcae1c36a8b34"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-quality-json-repair-escaping-coverage",
          "sectionId": "section-quality",
          "slug": "json-repair-escaping-coverage",
          "name": "Escaping tests prove repair rewrites stray quotes and control chars",
          "description": "`escaping.rs` demonstrates that single-quoted strings, mixed quote marks, and control characters (`\\n`, `\\t`, `\\r`) are rewritten into valid JSON sequences, keeping the intended payload while sanitising delimiters.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/escaping.rs",
              "sha256": "52fd2636f8bfb58903c11924ee3db3f150f11d5da296c74e1731a483678bf3e3"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-quality-json-repair-numeric-edge-cases",
          "sectionId": "section-quality",
          "slug": "json-repair-numeric-edge-cases",
          "name": "Numeric fixtures guard against mis-parsed IDs and leading zeros",
          "description": "`numbers.rs` locks behaviour that promotes malformed decimals, UUID-looking literals, and numbers with leading zeros into strings so request parsers don't reinterpret them, while still accepting arrays containing mixed numeric and symbolic tokens.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/numbers.rs",
              "sha256": "9d49977fecdb41340a4ca8280c33cff76eea4349dbba732963d0fed40e3ccf6b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-quality-json-repair-punctuation-heuristics",
          "sectionId": "section-quality",
          "slug": "json-repair-punctuation-heuristics",
          "name": "Punctuation heuristics add missing separators and trim extraneous commas",
          "description": "`punctuation.rs` verifies that `json_repair` inserts commas between object members, fixes missing colons, and trims leading or trailing commas in both arrays and objects without disturbing otherwise valid structures.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/punctuation.rs",
              "sha256": "f2c878e3b75b147fc5b6c5194b98e0b24406040476a34bb35816cfb8dc440b4f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.39
        },
        {
          "id": "aspect-quality-json-repair-quote-recovery",
          "sectionId": "section-quality",
          "slug": "json-repair-quote-recovery",
          "name": "Quote recovery covers unquoted keys, dangling delimiters, and single quotes",
          "description": "`quotes.rs` shows unquoted identifiers, half-open strings, and single-quoted documents are upgraded to canonical JSON while arrays and objects keep their intended shape—critical for LLM outputs that drop delimiters.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/quotes.rs",
              "sha256": "f05dda2a923a16e1ddf11fb3dc8d6701dc9db34eb36433a9ba6447ecd7c73cb7"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.41
        },
        {
          "id": "aspect-quality-json-repair-special-quotes",
          "sectionId": "section-quality",
          "slug": "json-repair-special-quotes",
          "name": "Special quote handling normalizes typographic quotes and odd whitespace",
          "description": "`special_quotes.rs` locks transformations that convert smart quotes, backticks, and exotic whitespace into standard JSON delimiters while leaving intentional characters inside strings untouched, covering multilingual transcript payloads.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/special_quotes.rs",
              "sha256": "ca224140064ab96e1f0f859726d79a62ebd397db0e5af64119dd48c9b799775a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-quality-json-repair-special-values",
          "sectionId": "section-quality",
          "slug": "json-repair-special-values",
          "name": "Special value fixtures prove booleans/null are respected during repair",
          "description": "`special_values.rs` asserts that a variety of literals—including `true`, `false`, `null`, `NaN`, and `Infinity`—convert to deterministic JSON representations so downstream tooling doesn't mis-handle language-specific sentinel values.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/special_values.rs",
              "sha256": "afa3b138d6b69e580ff26e437ac57af87f136af04ca444c92f87ab34cde7b747"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-quality-json-repair-string-rewrites",
          "sectionId": "section-quality",
          "slug": "json-repair-string-rewrites",
          "name": "String heuristics convert bare tokens and URLs into quoted JSON",
          "description": "`strings.rs` ensures bare words, sentences, and URLs promoted straight from LLM output are wrapped in JSON strings and that hybrid objects like `{foo: bar}` resolve to valid key/value pairs.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/strings.rs",
              "sha256": "ac07224aaafeaa29ef825e11e595643ba3fe07c903da176ff38949cc49a38786"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-quality-json-repair-truncation-safety",
          "sectionId": "section-quality",
          "slug": "json-repair-truncation-safety",
          "name": "Truncation coverage backfills missing brackets and ellipsis tokens",
          "description": "`truncation.rs` captures how truncated braces, dangling arrays, unfinished numbers, and ellipsis placeholders are repaired, guaranteeing the fixer returns minimally viable JSON rather than crashing compaction flows.",
          "tags": [
            "tools",
            "errors",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/truncation.rs",
              "sha256": "c10fb0628c9574f1e624492dac70f86431f22c7819648b311adf64130dbcb239"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.39
        },
        {
          "id": "aspect-quality-json-repair-valid-pass-through",
          "sectionId": "section-quality",
          "slug": "json-repair-valid-pass-through",
          "name": "Valid JSON regression ensures repair stays identity on compliant input",
          "description": "`valid_json.rs` snapshot-tests dozens of canonical objects, arrays, numbers, and strings to confirm `json_repair` is idempotent when the payload is already valid, preventing accidental mutations in the happy path.",
          "tags": [
            "tools",
            "tests",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/tests/valid_json.rs",
              "sha256": "d01ec039bb9a8bd3c1138056c32c7d4ae137d655504dc67bab8047c2c3ec4bb0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        },
        {
          "id": "aspect-quality-insta-config",
          "sectionId": "section-quality",
          "slug": "insta-snapshot-config",
          "name": "insta.yaml auto-accepts snapshot updates under nextest",
          "description": "`insta.yaml` enables snapshot refreshes by default and runs them through `cargo nextest`, ensuring UI and service snapshots stay current without manual review on each test run.",
          "tags": [
            "tests",
            "configuration",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/insta.yaml",
              "sha256": "855079c750db7f57b42b725862bfecafa72bbf605f72adf261c4fb6789c00de9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.28
        },
        {
          "id": "aspect-quality-orch-spec-module",
          "sectionId": "section-quality",
          "slug": "orch-spec-module",
          "name": "Orchestrator spec module exposes runner and setup helpers",
          "description": "`forge_app/src/orch_spec/mod.rs` re-exports the orchestrator test harness pieces—`orch_setup`, `orch_runner`, `orch_spec`, and `orch_system_spec`—so behavior tests can import a single module when spinning up end-to-end orchestration scenarios.",
          "tags": [
            "tests",
            "validation",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/orch_spec/mod.rs",
              "sha256": "52f99df6fca58c2334ff13c6b3794dc95438ab31e4e07294a4f349059a90cb48"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-quality-python-valid-fixture",
          "sectionId": "section-quality",
          "slug": "python-valid-fixture",
          "name": "Python valid fixture exercises syn parser capabilities",
          "description": "`tool_services/syn/lang/python/valid.py` covers functions, async defs, decorators, and class inheritance so the syntax highlighter verifies it can walk a representative Python AST without errors.",
          "tags": [
            "tests",
            "tools",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/lang/python/valid.py",
              "sha256": "bb54b951d587b2975b53bf547deb7ce6d32acf4a47dd99bcd4bbfbcde0dd828c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.3
        },
        {
          "id": "aspect-quality-python-invalid-fixture",
          "sectionId": "section-quality",
          "slug": "python-invalid-fixture",
          "name": "Python invalid fixture asserts parser error handling",
          "description": "`tool_services/syn/lang/python/invalid.py` intentionally omits the colon after a function signature, letting tests confirm the parser surfaces syntax errors cleanly.",
          "tags": [
            "tests",
            "tools",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/tool_services/syn/lang/python/invalid.py",
              "sha256": "7239563b3cbc85713b3720dec2afd14de5457da3b268ad4cc82401363b5fc8b7"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.28
        },
        {
          "id": "aspect-quality-policies-yaml-fixture",
          "sectionId": "section-quality",
          "slug": "policies-yaml-fixture",
          "name": "Policies fixture covers allow, confirm, and deny cases",
          "description": "`forge_domain/src/fixtures/policies_test.yml` defines representative allow, confirm, and deny rules for read, write, and dangerous command patterns so policy parsing tests validate each permission branch.",
          "tags": [
            "tests",
            "policy",
            "validation",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/fixtures/policies_test.yml",
              "sha256": "f4cca1c3c90684eb95bdbf972cdc75113ccf4979565824ec2c7beb639709ac7b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-quality-agent-fixture-advanced",
          "sectionId": "section-quality",
          "slug": "agent-fixture-advanced",
          "name": "Advanced agent fixture exercises full frontmatter",
          "description": "`fixtures/agents/advanced.md` supplies a fully populated agent definition with tools, reasoning settings, and sampling params to ensure parsing handles every configurable field.",
          "tags": [
            "tests",
            "agents",
            "validation",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/fixtures/agents/advanced.md",
              "sha256": "81da744e2579d79c2839a35c7a8a537da00a255101786e26f14d52c45fdbab8b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.3
        },
        {
          "id": "aspect-quality-agent-fixture-basic",
          "sectionId": "section-quality",
          "slug": "agent-fixture-basic",
          "name": "Basic agent fixture validates minimal metadata",
          "description": "`fixtures/agents/basic.md` keeps only id, title, description, and a simple system prompt so tests confirm the loader accepts lean agent definitions.",
          "tags": [
            "tests",
            "agents",
            "validation",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/fixtures/agents/basic.md",
              "sha256": "bf952ddfbc6191d2b41ddb38d67fb9ac5101747a0ce6485ddcf70b995ae130fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.28
        },
        {
          "id": "aspect-quality-agent-fixture-invalid",
          "sectionId": "section-quality",
          "slug": "agent-fixture-invalid",
          "name": "Invalid agent fixture ensures error reporting on bad frontmatter",
          "description": "`fixtures/agents/invalid.md` lacks YAML frontmatter, letting validation tests assert that malformed agent files raise the proper errors.",
          "tags": [
            "tests",
            "agents",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/fixtures/agents/invalid.md",
              "sha256": "76862baab6b7c24a0b3dc2d071e8158e3ea92154c56610a1c7b198768cf0bfdf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.27
        },
        {
          "id": "aspect-quality-agent-fixture-no-id",
          "sectionId": "section-quality",
          "slug": "agent-fixture-no-id",
          "name": "No-ID agent fixture exercises filename fallback",
          "description": "`fixtures/agents/no_id.md` omits an `id` field so loader tests can verify filenames provide default agent identifiers.",
          "tags": [
            "tests",
            "agents",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/src/fixtures/agents/no_id.md",
              "sha256": "4be03357f858df6815f8d0c547472ea45c7446e3c11cff2238b97019e5889d06"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.27
        },
        {
          "id": "aspect-quality-tool-call-fixture",
          "sectionId": "section-quality",
          "slug": "tool-call-fixture",
          "name": "Tool call fixture captures XML-heavy completion example",
          "description": "`forge_domain/src/fixtures/tool_call_01.md` stores a realistic `<forge_tool_call>` transcript describing manual XML construction risks, giving tests rich content to assert compaction and parsing behaviour.",
          "tags": [
            "tests",
            "tools",
            "workflow",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/fixtures/tool_call_01.md",
              "sha256": "dc27af746e8168f0ed0d22b2cdc621d56bf1135172dc60e6eab623f7492a5616"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        }
      ]
    },
    {
      "id": "section-developer-tooling",
      "slug": "developer-tooling",
      "title": "Developer Tooling",
      "entries": [
        {
          "id": "aspect-devtool-nextest-timeouts",
          "sectionId": "section-developer-tooling",
          "slug": "nextest-timeouts",
          "name": "Nextest config flags slow tests after one second",
          "description": "`.config/nextest.toml` applies a one-second slow-test threshold with a 30-attempt terminate window, giving flaky or hung tests quick feedback while keeping the rest of the suite green locally and on CI.",
          "tags": [
            "tests",
            "configuration",
            "ci",
            "developer"
          ],
          "sources": [
            {
              "path": "projects/forge/.config/nextest.toml",
              "sha256": "acabd6e3467bf0a063f2845eaac954efd55a486b64fab4b2aa036ec4b3788ace"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.32
        },
        {
          "id": "aspect-devtool-devcontainer-stack",
          "sectionId": "section-developer-tooling",
          "slug": "devcontainer-stack",
          "name": "Devcontainer image bakes Rust, Node, GitHub CLI, and zsh defaults",
          "description": "`.devcontainer/devcontainer.json` pins the Microsoft Rust image, installs Node LTS, git extras, and oh-my-zsh, sets `SHELL=/usr/bin/zsh`, and runs a post-create hook to install forge tooling (forgecode, cargo-insta, cargo-nextest) so codespaces mirror local expectations.",
          "tags": [
            "configuration",
            "automation",
            "ci",
            "developer",
            "environment"
          ],
          "sources": [
            {
              "path": "projects/forge/.devcontainer/devcontainer.json",
              "sha256": "f023d48f9701568a76973988bc1a18159eee673832036fe0f73e537a21f57fcc"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.43
        },
        {
          "id": "aspect-devtool-cross-env-pass-through",
          "sectionId": "section-developer-tooling",
          "slug": "cross-env-pass-through",
          "name": "Cross.toml forwards release secrets to cross-build shells",
          "description": "`Cross.toml` whitelists `APP_VERSION` and `POSTHOG_API_SECRET` for the cross tool so multi-target release jobs compile binaries with the same telemetry and version metadata as native builds.",
          "tags": [
            "automation",
            "configuration",
            "ci",
            "developer",
            "environment"
          ],
          "sources": [
            {
              "path": "projects/forge/Cross.toml",
              "sha256": "571b13a3ce44890196e2fa40790e2bf805a8cd9b3bfddb2c1bd3796c971c1576"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.35
        },
        {
          "id": "aspect-devtool-rust-toolchain-pin",
          "sectionId": "section-developer-tooling",
          "slug": "rust-toolchain-pin",
          "name": "Rust toolchain pinned to 1.89 for workspace stability",
          "description": "`rust-toolchain.toml` locks the workspace to Rust 1.89 on the default profile, keeping CI, devcontainers, and local installs aligned with the version the crates expect.",
          "tags": [
            "configuration",
            "ci",
            "developer",
            "environment"
          ],
          "sources": [
            {
              "path": "projects/forge/rust-toolchain.toml",
              "sha256": "8af984ad327d3438757caea51d340a2abeb31ae15dd8b416c3ebf35bcde8c3f3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.34
        },
        {
          "id": "aspect-devtool-rust-analyzer-tuning",
          "sectionId": "section-developer-tooling",
          "slug": "rust-analyzer-tuning",
          "name": "Rust-Analyzer config enables proc-macro expansion across workspace",
          "description": "`rust-analyzer.toml` turns on proc-macro support, enables workspace build scripts, raises macro expansion limits, and requests `cargo.allFeatures = true` so IDEs resolve Forge's macro-heavy crates without manual overrides.",
          "tags": [
            "configuration",
            "workflow",
            "developer",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/rust-analyzer.toml",
              "sha256": "b94edf6b86b878c1d9ab8a1383bbf95d4ac15744a07c7fd0b94a9facc72dc767"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.36
        },
        {
          "id": "aspect-devtool-dependabot-groups",
          "sectionId": "section-developer-tooling",
          "slug": "dependabot-groups",
          "name": "Dependabot batches cargo updates by semver group",
          "description": "`.github/dependabot.yml` schedules weekly cargo and GitHub Actions checks, grouping dependency bumps by major/minor/patch so reviewers can triage releases without drowning in single-package PRs.",
          "tags": [
            "automation",
            "configuration",
            "ci",
            "developer"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/dependabot.yml",
              "sha256": "5ab40e1094b91d7b241a0dd97cd6a704f0c566ca3e7b01d53bb5139253c0c65e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.38
        },
        {
          "id": "aspect-devtool-renovate-automerge",
          "sectionId": "section-developer-tooling",
          "slug": "renovate-dev-automerge",
          "name": "Renovate preset auto-merges trusted dev dependencies",
          "description": "`renovate.json` extends the recommended preset and enables `automerge` plus `platformAutomerge` so day-to-day dependency bumps land without human review once checks pass, keeping local tooling and devcontainers current for contributors.",
          "tags": [
            "automation",
            "configuration",
            "ci",
            "developer"
          ],
          "sources": [
            {
              "path": "projects/forge/renovate.json",
              "sha256": "a1670b86c192ab848d8f2b5ee408f0a33dcce8dfa2f55731dd530c0b28e7e16a"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.33
        },
        {
          "id": "aspect-developer-tooling-rustfmt-style",
          "sectionId": "section-developer-tooling",
          "slug": "rustfmt-style",
          "name": "Rustfmt config enforces wrapped comments and grouped imports",
          "description": "`.rustfmt.toml` enables unstable formatting features, wraps comments at 80 columns, sets struct literal width to 60, and groups imports by module so contributors keep consistent Rust style across crates.",
          "tags": [
            "developer",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/.rustfmt.toml",
              "sha256": "5a665ffe34ad61e25b2cb3dcdaf1648d10ad3cb3dcd9c1340e8352b3b2867a43"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        }
      ]
    },
    {
      "id": "section-operations",
      "slug": "operations",
      "title": "Operations & Workflows",
      "entries": [
        {
          "id": "aspect-operations-autofix-ci",
          "sectionId": "section-operations",
          "slug": "autofix-ci",
          "name": "Autofix workflow auto-formats and applies Clippy fixes",
          "description": "`.github/workflows/autofix.yml` installs nightly toolchains, runs `cargo fmt` and `cargo clippy --fix`, then delegates to `autofix-ci/action` under a concurrency group so lint patches land automatically on eligible branches.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/autofix.yml",
              "sha256": "c31ed7759ecc6463e92d2581772cf6edce5c7c6ffa44b81ed458156d258c3a53"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.5
        },
        {
          "id": "aspect-operations-ci-matrix",
          "sectionId": "section-operations",
          "slug": "ci-matrix",
          "name": "Primary CI workflow builds, lints, and seeds release artifacts",
          "description": "`.github/workflows/ci.yml` splits stable build/test and nightly lint jobs, drafts releases on `main`, prepares PR matrix builds when labelled, and exports release IDs for downstream publish jobs.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/ci.yml",
              "sha256": "4095602bbd56b8cac883d3a3f089278b936947a6dbdaf22829c371a074035725"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.6
        },
        {
          "id": "aspect-operations-release-publishing",
          "sectionId": "section-operations",
          "slug": "release-publishing",
          "name": "Release workflow fans out binaries and downstream packages",
          "description": "`.github/workflows/release.yml` builds every target triple, uploads artifacts to the GitHub release, then updates the npm and Homebrew distributions using repository-specific tokens once a release is published.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/release.yml",
              "sha256": "a377abdac2a960705a685c77c829603fde2c1da40a90c011696318b9eb5c2e43"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.62
        },
        {
          "id": "aspect-operations-release-drafter",
          "sectionId": "section-operations",
          "slug": "release-drafter",
          "name": "Release Drafter keeps notes fresh on pushes and PR events",
          "description": "`.github/workflows/release-drafter.yml` listens to `push` and `pull_request_target` events on `main`, running `release-drafter@v6` with write permissions so changelog drafts stay current.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/release-drafter.yml",
              "sha256": "92b7ea1f3df6bbebcd9b2d95374abe52de781aa1790a36a09a5766e7303fb433"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-operations-label-sync",
          "sectionId": "section-operations",
          "slug": "label-sync",
          "name": "Labels workflow syncs GitHub taxonomy from the repo",
          "description": "`.github/workflows/labels.yml` triggers on `main` pushes, installs `github-label-sync`, and rewrites repository labels from `.github/labels.json` so automation jobs can rely on consistent naming.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/labels.yml",
              "sha256": "586fdfe287f505ffdbddc20d03c923d08dbf2c1dd918926c04cd7de73842ed01"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-operations-stale-governance",
          "sectionId": "section-operations",
          "slug": "stale-governance",
          "name": "Stale bot policy closes inactive issues and PRs on an hourly cron",
          "description": "`.github/workflows/stale.yml` configures `actions/stale@v10` with separate windows for issues (30/7 days) and PRs (5/10 days) and applies the `state: inactive` label before closing, keeping the backlog trim.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/workflows/stale.yml",
              "sha256": "f60d78546cc1a3259ad96201cbc52ea5645e38934a07d5082b7ce1c61f9c152a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-operations-label-catalog",
          "sectionId": "section-operations",
          "slug": "label-catalog",
          "name": "Label catalog maps aliases for release and workflow automation",
          "description": "`.github/labels.json` enumerates release gating labels, `state:*` triage statuses, and work taxonomy with rich alias lists so the sync workflow and Release Drafter match legacy names users may apply.",
          "tags": [
            "automation",
            "ci",
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/.github/labels.json",
              "sha256": "4c63cb596e1a6b61bbb03defa1a0a305615c927ff75be65f9de953eb6480dbd9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.44
        },
        {
          "id": "aspect-operations-shell-plugin-readme",
          "sectionId": "section-operations",
          "slug": "shell-plugin-readme",
          "name": "Shell plugin README documents command syntax and dependencies",
          "description": "`shell-plugin/README.md` walks through installing fzf/fd, using colon-prefixed prompts, agent shortcuts, file tagging, and session management so operators can adopt the ZSH plugin confidently.",
          "tags": [
            "workflow",
            "operations",
            "automation"
          ],
          "sources": [
            {
              "path": "projects/forge/shell-plugin/README.md",
              "sha256": "0df8f6aa96985e2251d00f9135b64c05290f5d115bef2d7b9b8ae0ca539fe6e2"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-operations-forge-snaps-lib",
          "sectionId": "section-operations",
          "slug": "forge-snaps-lib",
          "name": "forge_snaps lib exports snapshot service and IDs",
          "description": "`forge_snaps/src/lib.rs` re-exports the snapshot service and `SnapshotId`/`Snapshot` types so operations and history features can depend on the crate root without reaching into internal modules.",
          "tags": [
            "operations",
            "snapshots"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_snaps/src/lib.rs",
              "sha256": "c61097ef8428c7c3e88153bbcf9ab69c4a27703308a117c17c7bc1a2daff268c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-operations-pages-config",
          "sectionId": "section-operations",
          "slug": "pages-config",
          "name": "GitHub Pages config pins the hacker theme remotely",
          "description": "`_config.yml` configures the documentation site to use the `pages-themes/hacker` remote theme via `jekyll-remote-theme`, meaning the Pages build relies only on GitHub-managed theme assets.",
          "tags": [
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/_config.yml",
              "sha256": "68ef7206722e2ee61a52c66da1bf5c5baed9a1b59c4f69482b1a48932a0656c3"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.28
        },
        {
          "id": "aspect-operations-readme-overview",
          "sectionId": "section-operations",
          "slug": "readme-overview",
          "name": "Repository README highlights quickstart and CLI surfaces",
          "description": "`README.md` showcases Forge's quickstart (`npx forgecode@latest`), usage examples across debugging and planning, full CLI option tables, and advanced configuration guidance for providers and workflows, orienting new operators.",
          "tags": [
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/README.md",
              "sha256": "b47ea3873951b9f80d5c34c9313a385e2b337eed5364cb6371bd53eea30eff09"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-operations-agents-handbook",
          "sectionId": "section-operations",
          "slug": "agents-handbook",
          "name": "AGENTS.md defines knowledge-base maintenance workflow",
          "description": "`AGENTS.md` describes the aspect discovery cycle, required validations (`query.py`, `audit.py`, `adi.py`), tagging rules, and commit hygiene so maintainers follow a reproducible process when updating Forge knowledge.",
          "tags": [
            "operations",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/AGENTS.md",
              "sha256": "d17c83e7bf217f5509188dc8d7e0413e235328d733e202d9fdfd55735e0ea9db"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        }
      ]
    },
    {
      "id": "section-planning",
      "slug": "planning",
      "title": "Strategic Planning",
      "entries": [
        {
          "id": "aspect-planning-dynamic-agent-commands",
          "sectionId": "section-planning",
          "slug": "dynamic-agent-commands",
          "name": "Plan establishes dynamic `/agent-*` command generation",
          "description": "`2025-09-13-dynamic-agent-slash-commands-v3.md` outlines adding an `AgentSwitch` command variant, registering commands per agent at UI init, sanitising IDs, and integrating shell plugin support so terminals can jump agents without interactive prompts.",
          "tags": [
            "workflow",
            "planning"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-13-dynamic-agent-slash-commands-v3.md",
              "sha256": "a1e45172ed272dbf08ce6b9417374cd7ecb758a810a189ed002b416124b619e4"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.52
        },
        {
          "id": "aspect-planning-shell-env-support",
          "sectionId": "section-planning",
          "slug": "shell-env-support",
          "name": "Shell env plan threads env var requests through services",
          "description": "`2025-09-07-shell-env-variable-support-v1.md` sequences updates from domain structs to infrastructure so shell tool calls can request named environment variables, including CommandInfra changes, executor handling, and test coverage.",
          "tags": [
            "workflow",
            "planning"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-07-shell-env-variable-support-v1.md",
              "sha256": "d5fdb5472b05277b00625e26e5c7b8a018486f96d4ffd2a6b596b2fae3751e63"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.49
        },
        {
          "id": "aspect-planning-explicit-conversation-ids",
          "sectionId": "section-planning",
          "slug": "explicit-conversation-ids",
          "name": "Conversation ID plan moves resume flows to explicit UUIDs",
          "description": "`2025-09-14-explicit-conversation-id-generation-v1.md` details adding CLI flags, UI handlers, and shell plugin support so sessions generate, persist, and validate conversation IDs instead of relying on implicit `--resume` behaviour.",
          "tags": [
            "workflow",
            "planning"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-14-explicit-conversation-id-generation-v1.md",
              "sha256": "16946982b44b6f22508ca7291c98ce83b57f34af839e93b0797e1c7409753cd3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.51
        },
        {
          "id": "aspect-planning-tool-service-migration",
          "sectionId": "section-planning",
          "slug": "tool-service-migration",
          "name": "Tool-to-service migration plan templates FS-read pattern",
          "description": "`2025-06-07-tool-service-migration-v1.md` maps a staged migration where each tool gets a dedicated service, Services trait integration, and documentation so FSRead becomes the template for refactoring the remaining tool implementations.",
          "tags": [
            "services",
            "planning"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-06-07-tool-service-migration-v1.md",
              "sha256": "9d82354742937a0b68a3436e7caeb95204c9162cb80aff1301247c0ab171064d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.5
        },
        {
          "id": "aspect-planning-context-compaction-config",
          "sectionId": "section-planning",
          "slug": "context-compaction-config",
          "name": "Plan introduces agent-level context compaction controls",
          "description": "`agent-context-compaction-2025-03-24*.md` lays out the `Compaction` struct with token/turn/message thresholds, wires the new `compact` option onto `Agent`, re-runs `Summarize` inside the orchestrator before requests, and deprecates `Transform::Assistant` while adding merge/tests coverage so automatic context trimming can ship safely.",
          "tags": [
            "planning",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/agent-context-compaction-2025-03-24.md",
              "sha256": "c1c3c882265a8c68da4e5cfd89b2d3bbcf83b37ec36a1ee7d2305b775db5af47"
            },
            {
              "path": "projects/forge/plans/agent-context-compaction-2025-03-24-concise.md",
              "sha256": "2e682169a5a23f422cb4c957af424653254bfc7959cd543b45db391a23428a2b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.47
        },
        {
          "id": "aspect-planning-context-compaction-sequences",
          "sectionId": "section-planning",
          "slug": "context-compaction-sequences",
          "name": "Follow-up plan targets assistant message sequences for compaction",
          "description": "`agent-context-compaction-2025-03-25*.md` pivots to scanning the conversation for contiguous assistant runs, summarising one sequence at a time via `generate_summary_for_sequence`, and rebuilding the context so compaction preserves system/user turns while still trimming verbose assistant chatter.",
          "tags": [
            "planning",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/agent-context-compaction-2025-03-25.md",
              "sha256": "c48c7ff1450c9b73a55a27abd21ec5722b2d35e6ce360b22cecc428dc345f1c6"
            },
            {
              "path": "projects/forge/plans/agent-context-compaction-2025-03-25-concise.md",
              "sha256": "9b6460440c6219f41d08427fc8427909a98e2d0a561fae2c368116749b437f6d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.45
        },
        {
          "id": "aspect-planning-system-context-dynamic-render",
          "sectionId": "section-planning",
          "slug": "system-context-dynamic-render",
          "name": "Dynamic system context plan re-renders prompts each turn",
          "description": "`2025-04-02-system-context-rendering-final.md` extends `TemplateService::render_system` with variables, has the orchestrator refresh the system message on every loop, and updates handlebars partials so current time, files, and workflow variables flow into each turn instead of the static bootstrap snapshot.",
          "tags": [
            "planning",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-02-system-context-rendering-final.md",
              "sha256": "61510266fa0887cc049cde60ffad75398395f4d4cf77ec20ecd728681e58dfb7"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.48
        },
        {
          "id": "aspect-planning-retry-config-migration",
          "sectionId": "section-planning",
          "slug": "retry-config-migration",
          "name": "Plan moves retry configuration into Environment service",
          "description": "`2025-04-06-retry-config-migration.md` migrates `RetryConfig` off workflows by adding it to `Environment`, parsing `FORGE_RETRY_*` vars in infra, and plumbing the provider client through environment-derived settings so retries can be tuned without touching YAML.",
          "tags": [
            "planning",
            "configuration",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-06-retry-config-migration.md",
              "sha256": "279a396d0b46b178a38399371f82831bd05c527ba7ab3f617a39e749eb3b9a2d"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.44
        },
        {
          "id": "aspect-planning-tool-call-context",
          "sectionId": "section-planning",
          "slug": "tool-call-context-plan",
          "name": "Tool call context plan adds explicit runtime context parameter",
          "description": "`2025-04-11-tool-call-context-implementation.md` introduces an empty `ToolCallContext`, threads it through `ExecutableTool::call`, adapters, and the service layer, and schedules broad test updates so future metadata can flow to every tool invocation consistently.",
          "tags": [
            "planning",
            "tools",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-11-tool-call-context-implementation.md",
              "sha256": "33bbdc1d4fb160e0bf6587a7b010c681bfd30f72e3ba054ef4c964f1aafea1c3"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.46
        },
        {
          "id": "aspect-planning-model-selection-command",
          "sectionId": "section-planning",
          "slug": "model-selection-command-plan",
          "name": "Plan lands `/model` command with inquire-powered selection",
          "description": "`2025-04-16-model-selection-command.md` specifies wiring `inquire` into the UI, fetching provider models, and updating the `standard_model` anchor in `forge.yaml` so users can swap models from the CLI with validation and error messaging.",
          "tags": [
            "planning",
            "cli",
            "provider"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-16-model-selection-command.md",
              "sha256": "456d8cc0eac9e551bd06adcb51cac46e250b172781e5c022f432c31797f2edb8"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.43
        },
        {
          "id": "aspect-planning-large-file-read-range-v3",
          "sectionId": "section-planning",
          "slug": "large-file-read-range-v3",
          "name": "Large file read plan adds byte ranges and UTF-8 safeguards",
          "description": "`2025-04-26-large-file-read-range-support-v3.md` calls for range-aware APIs across `FsReadService`, detecting binaries, aligning reads to UTF-8 boundaries, and returning range metadata so the FS read tool can handle huge text files safely.",
          "tags": [
            "planning",
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-26-large-file-read-range-support-v3.md",
              "sha256": "1c6ced7969c200f8d2a34e3ff133e70a92cf423be56102c4cddab9db0d65452e"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-planning-large-file-read-range-v4",
          "sectionId": "section-planning",
          "slug": "large-file-read-range-v4",
          "name": "Range read plan v4 folds in infer-based binary detection",
          "description": "`2025-04-27-large-file-read-range-support-v4.md` refines the range-reading design by adopting the `infer` crate for binary checks, documenting range metadata in responses, and expanding risk mitigations for UTF-8 trimming and platform quirks.",
          "tags": [
            "planning",
            "filesystem",
            "read"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-27-large-file-read-range-support-v4.md",
              "sha256": "dd74d7a90b53a15423f3f6e98d5e740b868ffb0657567f3e769fbf59bbbfb4bb"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.41
        },
        {
          "id": "aspect-planning-agent-loader-cwd",
          "sectionId": "section-planning",
          "slug": "agent-loader-cwd-plan",
          "name": "Agent loader plan merges global and project-local directories",
          "description": "`2025-09-08-agent-loader-cwd-extension-v1.md` expands `AgentLoaderService` to scan `.forge/agents/` in the workspace, defines precedence rules over HOME agents, and adds tests/documentation so project-scoped agents override globals without breaking defaults.",
          "tags": [
            "planning",
            "agents",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-08-agent-loader-cwd-extension-v1.md",
              "sha256": "12f7bf49226f21e003e5179db4cea88bd05b1cccca596d20581c5ddb3459adca"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.44
        },
        {
          "id": "aspect-planning-dump-autoopen-env",
          "sectionId": "section-planning",
          "slug": "dump-autoopen-env",
          "name": "Environment flag plan gates HTML dump auto-open",
          "description": "`2025-09-12-forge-dump-autoopen-env-var-v2.md` threads `FORGE_DUMP_AUTO_OPEN` through the environment service, toggles UI auto-opening, and adds tests/docs so WSL users can disable browser launches while keeping dumps discoverable.",
          "tags": [
            "planning",
            "cli",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-12-forge-dump-autoopen-env-var-v2.md",
              "sha256": "3ac353cf0ec4e61ffda2a4920edff0d2795a75da172f9b1172d52ab4cef0bb85"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-planning-history-file-env",
          "sectionId": "section-planning",
          "slug": "history-file-env",
          "name": "Plan adds FORGE_HISTORY_FILE overrides with path normalization",
          "description": "`2025-09-13-forge-history-file-env-var-v2.md` designs an env-driven history path, covering relative resolution, Windows UNC support, directory creation, and fallback messaging so projects can isolate prompt history safely.",
          "tags": [
            "planning",
            "cli",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-13-forge-history-file-env-var-v2.md",
              "sha256": "f77069b21384542793b6e678b2893f94e09653c6930a581e69f194b02af6a4e1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        },
        {
          "id": "aspect-planning-app-config-repository",
          "sectionId": "section-planning",
          "slug": "app-config-repository-plan",
          "name": "AppConfig repository plan aligns config with repository pattern",
          "description": "`2025-09-27-AppConfigRepository_Implementation-v1.md` charts creating an `AppConfigRepository`, wiring it through `ForgeInfra` and services, migrating callers, and backfilling tests so AppConfig follows the same async repository contract as conversations.",
          "tags": [
            "planning",
            "services",
            "configuration"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-09-27-AppConfigRepository_Implementation-v1.md",
              "sha256": "bd12bfb5d8f7656f1b164a1deb6664007217d2b9c948ce7c45fa870777e37049"
            }
          ],
          "lastUpdated": "2025-10-20",
          "importance": 0.45
        },
        {
          "id": "aspect-planning-system-context-rendering-v1",
          "sectionId": "section-planning",
          "slug": "system-context-rendering-v1",
          "name": "Plan v1 re-renders system context each turn with variables",
          "description": "`plans/2025-04-02-system-context-rendering-v1.md` proposes extending `TemplateService::render_system` to accept variable maps, re-render per conversation turn, and update templates/tests so system prompts reflect current time and workflow state.",
          "tags": [
            "planning",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-02-system-context-rendering-v1.md",
              "sha256": "cec21f6c7f4412d6ea60dd3f4e87ec46e6691166de6f3a2771a3480e3875b508"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-planning-system-context-rendering-v2",
          "sectionId": "section-planning",
          "slug": "system-context-rendering-v2",
          "name": "Plan v2 details walker depth and context struct changes",
          "description": "`plans/2025-04-02-system-context-rendering-v2.md` refines the system-context plan by sorting walker results, defaulting depth, expanding `SystemContext` defaults, and showing orchestrator loop updates that fetch variables before each render.",
          "tags": [
            "planning",
            "workflow"
          ],
          "sources": [
            {
              "path": "projects/forge/plans/2025-04-02-system-context-rendering-v2.md",
              "sha256": "cab45b2278e98b282ffe95553e172554bb7317c54beae7fd51f6898a673e1172"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        }
      ]
    },
    {
      "id": "section-behavior-tests",
      "slug": "behavior-tests",
      "title": "Behavior Tests",
      "entries": [
        {
          "id": "aspect-behavior-tests-fs-read-basic",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-read-basic",
          "name": "FsRead basic snapshot preserves range metadata",
          "description": "`test_fs_read_basic` renders `<file_content>` with path `/home/user/test.txt`, `display_lines=\"1-2\"`, and the untouched two-line body so readers see that `ToolOperation::FsRead` forwards range metadata and plain text without rewriting it.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_read_basic.snap",
              "sha256": "4341865854714cdc384fd4518e0ce853cdd5453cc1b4593794333466c7d707f9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-behavior-tests-fs-read-special-chars",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-read-special-chars",
          "name": "FsRead snapshot keeps special characters via CDATA",
          "description": "`test_fs_read_basic_special_chars` proves the XML payload escapes Rust generics safely by wrapping `struct Foo<T>{ name: T }` inside CDATA while still reporting `display_lines=\"1-1\"` and the total line count.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_read_basic_special_chars.snap",
              "sha256": "f5b26637c2bbd69f5083d682bb48874c8701bc4b10b43ca750b63d1abe896f32"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-read-explicit-range",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-read-explicit-range",
          "name": "FsRead honours explicit start and end lines",
          "description": "`test_fs_read_with_explicit_range` snapshots `display_lines=\"2-3\"` for a five-line fixture, confirming range-limited reads surface the requested window while still embedding the surrounding content for context.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_read_with_explicit_range.snap",
              "sha256": "0c7ee2ee1c52359c71280f47bdbd93f38aeb82a9f0e3a06daa5da7ba33d47bcd"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-read-truncation",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-read-truncation",
          "name": "FsRead truncated output signals large ranges",
          "description": "`test_fs_read_with_truncation_path` records `display_lines=\"1-100\"` against `total_lines=\"1\"` for a shortened body, showing that truncated reads still advertise the requested span even when the rendered content is compressed.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_read_with_truncation_path.snap",
              "sha256": "cca485defc4088871438121e028c937d4a019c3e7d9ec15eaa48d6389bc5e532"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-behavior-tests-fs-create-basic",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-create-basic",
          "name": "FsCreate basic response highlights path",
          "description": "`test_fs_create_basic` emits `<file_created>` with the new path and total line count, demonstrating that successful creations omit warnings and avoid diff noise.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_create_basic.snap",
              "sha256": "5607a854c551126d03db90468c4d380cb25e3defa487672c0b29d8b464f86361"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-behavior-tests-fs-create-overwrite",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-create-overwrite",
          "name": "FsCreate overwrite returns inline diff",
          "description": "`test_fs_create_overwrite` shows `<file_overwritten>` embedding a unified diff between `Old content` and the replacement text so the UI can review what changed during overwrite operations.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_create_overwrite.snap",
              "sha256": "36eddbb18b339c0dad9184140e3530d70599cccff0162b67fba059de85520c7b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-create-warning",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-create-warning",
          "name": "FsCreate warning surfaces non-standard location",
          "description": "`test_fs_create_with_warning` proves warning strings travel with the XML payload—the snapshot carries `<warning>File created in non-standard location</warning>` under `<file_created>`.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_create_with_warning.snap",
              "sha256": "9955cb63a6fd66bffef77be9a72402b9f2159c24e93749439f80e2ebb56dfc43"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-patch-basic",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-patch-basic",
          "name": "FsPatch diff frames replacements",
          "description": "`test_fs_patch_basic` serialises `<file_diff>` with side-by-side removal/addition markers, validating that replace operations emit diff hunks with aligned line numbers.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_patch_basic.snap",
              "sha256": "158c3ac848d5cfae424df9a81fa9eb5fe076cf4d265aaa3845df00fa915cd876"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-patch-warning",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-patch-warning",
          "name": "FsPatch warning accompanies diff output",
          "description": "`test_fs_patch_with_warning` combines the diff hunk with `<warning>Large file modification</warning>`, showing patch responses can simultaneously present changes and safety warnings.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_patch_with_warning.snap",
              "sha256": "0909a7711b50fee0cfe588237aaeef8cc2525736c654cce4b5c3dc2c7dd92727"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-remove",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-remove",
          "name": "FsRemove marks completed deletions",
          "description": "`test_fs_remove_success` reduces deletion output to `<file_removed status=\"completed\">`, confirming successful removes use a concise status flag instead of echoing file contents.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_remove_success.snap",
              "sha256": "ee6d86d914f6d50ebc3266489998b4086ad145c955a7f23c8715259b1a2f81b6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        },
        {
          "id": "aspect-behavior-tests-fs-search-window",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-search-window",
          "name": "FsSearch truncates to environment line window",
          "description": "`test_fs_search_output` demonstrates the default environment cap—results show lines 6-30 and a reason that the 25-line limit truncated the 50-match result set.",
          "tags": [
            "filesystem",
            "search",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_search_output.snap",
              "sha256": "6931175582810508fb59cc017336c671b0595ecb1db8bf1ca8020c7e46fd925b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-behavior-tests-fs-search-max-lines",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-search-max-lines",
          "name": "FsSearch respects lowered max_search_lines",
          "description": "`test_fs_search_max_output` overrides `env.max_search_lines` to 10 and the snapshot exposes only 10 entries with an updated truncation reason, verifying dynamic tuning works.",
          "tags": [
            "filesystem",
            "search",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_search_max_output.snap",
              "sha256": "070284f5551c97503554a8299b764b14e784bee262cad61674b39fed7807d650"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-fs-search-byte-limit",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-search-byte-limit",
          "name": "FsSearch applies byte ceilings for long matches",
          "description": "`test_fs_search_min_lines_but_max_line_length` sets a 1049-byte ceiling and the snapshot logs a truncation reason tied to bytes rather than line count, proving oversized lines still cap the response.",
          "tags": [
            "filesystem",
            "search",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_search_min_lines_but_max_line_length.snap",
              "sha256": "c2bd4edf84b5ae07a2bf62cd99ad8f5d80007284beb60716d5d4ed8a37c3bf13"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-behavior-tests-fs-search-single-long-match",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-search-single-long-match",
          "name": "FsSearch hides oversized single-line matches",
          "description": "`test_fs_search_very_lengthy_one_line_match` yields an empty `<search_results>` body with a byte-limit warning, covering the case where a solitary match exceeds the transport budget.",
          "tags": [
            "filesystem",
            "search",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_search_very_lengthy_one_line_match.snap",
              "sha256": "6ca1e397315e27f9079b2d1414dfafc52e3434eaae7b1c980ef1f18dab6261f6"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-behavior-tests-fs-search-no-results",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-search-no-results",
          "name": "FsSearch reports empty frames for misses",
          "description": "`test_fs_search_no_results` collapses the payload to `<search_results>` with only the path and regex attributes, showing the renderer does not inject placeholder text when nothing matches.",
          "tags": [
            "filesystem",
            "search",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_search_no_results.snap",
              "sha256": "4344b404d5ef009dd5e34b3854d2c38d3d79e319827af08be3df2f594f1bac87"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-behavior-tests-fs-undo-no-changes",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-undo-no-changes",
          "name": "FsUndo no-op marks status without body",
          "description": "`test_fs_undo_no_changes` snapshot emits `<file_undo status=\"no_changes\">` with no CDATA, illustrating how unchanged histories are communicated to the UI.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_undo_no_changes.snap",
              "sha256": "8373cb7bfa17f80e7761f8e90fbb4ccab70d7496ecaf262e20ea8f2620eb4404"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        },
        {
          "id": "aspect-behavior-tests-fs-undo-created",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-undo-created",
          "name": "FsUndo created restores captured contents",
          "description": "`test_fs_undo_file_created` shows the `created` status plus the three-line payload that was removed, confirming undo operations replay the created body when rolling back.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_undo_file_created.snap",
              "sha256": "db60e28a14ddb503a1578821d20de11dc64185b5b6d2abd385c917db6cd35529"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-behavior-tests-fs-undo-removed",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-undo-removed",
          "name": "FsUndo removed exposes original text",
          "description": "`test_fs_undo_file_removed` records the pre-deletion lines under `status=\"removed\"`, ensuring users can preview what was lost when a file is restored from history.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_undo_file_removed.snap",
              "sha256": "81071827d91e188557ada894f71f5e4e51eb86a14fb4c74a802519c9a38c3e8c"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-behavior-tests-fs-undo-restored",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-fs-undo-restored",
          "name": "FsUndo restored renders before/after diff",
          "description": "`test_fs_undo_file_restored` serialises a diff within `<file_undo status=\"restored\">`, which highlights how undo compares prior content to the reinstated version.",
          "tags": [
            "tests",
            "tools",
            "filesystem"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__fs_undo_file_restored.snap",
              "sha256": "665748a2cb5e1202f1fcaf262a0bcbc93334b08b6ec8f9cdd0b9399d4e06b97e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-net-fetch-success",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-net-fetch-success",
          "name": "NetFetch success frames status and slice",
          "description": "`test_net_fetch_success` proves HTTP responses include status code, content-type, and character bounds (`start_char`/`end_char`) before embedding the Markdown body.",
          "tags": [
            "infrastructure",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__net_fetch_success.snap",
              "sha256": "becc33a265694b2916dae9a167daec4db96d00cec3eeb9e517fc88a25b104363"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-behavior-tests-net-fetch-truncated",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-net-fetch-truncated",
          "name": "NetFetch truncated points to spill file",
          "description": "`test_net_fetch_truncated` shows a 55-character preview with `<truncated>` messaging that references `/tmp/forge_fetch_abc123.txt`, validating long responses stream to disk and advertise where to read the remainder.",
          "tags": [
            "infrastructure",
            "tests",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__net_fetch_truncated.snap",
              "sha256": "a17f1041d0f53fbbe54e6d67a1c4caec2098eae81cafea22823934378295376e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-behavior-tests-shell-basic",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-shell-basic",
          "name": "Shell output carries command metadata",
          "description": "`test_shell_output_no_truncation` emits `<shell_output>` with the command, shell path, exit code, and a two-line `<stdout>` block, capturing the happy-path formatting for short executions.",
          "tags": [
            "tests",
            "tools",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__shell_output_no_truncation.snap",
              "sha256": "e826398f41126a43f9a4748b40e9f479b110156c1fbc3220c7968ef258b1506b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-behavior-tests-shell-stdout-truncated",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-shell-stdout-truncated",
          "name": "Shell stdout truncation splits head and tail",
          "description": "`test_shell_output_stdout_truncation_only` populates `<head>` and `<tail>` segments with line ranges plus a `full_output` path, demonstrating how long stdout streams are summarised without losing the full log.",
          "tags": [
            "tests",
            "tools",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__shell_output_stdout_truncation_only.snap",
              "sha256": "5c6b52b48c7d11ad6d059053f83e1bbc309bd3b6272ec1e468863fd42edca436"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-behavior-tests-shell-stderr-truncated",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-shell-stderr-truncated",
          "name": "Shell stderr truncation mirrors stdout handling",
          "description": "`test_shell_output_stderr_truncation_only` mirrors the head/tail truncation strategy for stderr, including the persisted file path and 10-line windows for review.",
          "tags": [
            "tests",
            "tools",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__shell_output_stderr_truncation_only.snap",
              "sha256": "bb4429428a4dfd9528104a49fb56f45fcf69092417b7d190b41b8ed910a72bec"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-behavior-tests-shell-line-numbers",
          "sectionId": "section-behavior-tests",
          "slug": "behavior-shell-line-numbers",
          "name": "Shell line counters expose full stream lengths",
          "description": "`test_shell_output_line_number_calculation` records `total_lines` for both stdout and stderr alongside the cached file paths, confirming the renderer keeps accurate counts even when truncation kicks in.",
          "tags": [
            "tests",
            "tools",
            "shell"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/src/operation.rs",
              "sha256": "c6aeacedfed8e13ba32f695710c6912e17382b981f560cea1e39036eb10f2f9d"
            },
            {
              "path": "projects/forge/crates/forge_app/src/snapshots/forge_app__operation__tests__shell_output_line_number_calculation.snap",
              "sha256": "abc9e644b28c9ef5d640f0ef34b358f48d8392742576ba322e8f75a522b8db8d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        }
      ]
    },
    {
      "id": "section-domain-tests",
      "slug": "domain-tests",
      "title": "Domain Tests",
      "entries": [
        {
          "id": "aspect-domain-tests-domain-rule-write-glob",
          "sectionId": "section-domain-tests",
          "slug": "domain-rule-write-glob",
          "name": "Policy rule matches write globs",
          "description": "`test_rule_matches_write_operation` confirms a `Rule::Write` with pattern `src/**/*.rs` returns `true` when evaluated against a write op targeting `src/main.rs`, validating glob semantics for file writes.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-rule-patch-alias",
          "sectionId": "section-domain-tests",
          "slug": "domain-rule-patch-alias",
          "name": "Write rules also cover patch operations",
          "description": "`test_rule_matches_write_operation_with_patch_scenario` exercises the same write rule against a patch operation and still yields `true`, proving patch edits inherit write permissions in the policy engine.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-domain-tests-domain-rule-exec-dir-match",
          "sectionId": "section-domain-tests",
          "slug": "domain-rule-exec-dir-match",
          "name": "Execute rules honour working directory scopes",
          "description": "`test_execute_working_directory_pattern_match` verifies adding `dir: /home/user/*` lets `cargo build` execute, demonstrating directory scoping gates command permissions.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-rule-exec-dir-miss",
          "sectionId": "section-domain-tests",
          "slug": "domain-rule-exec-dir-miss",
          "name": "Execute rules reject mismatched directories",
          "description": "`test_execute_working_directory_pattern_no_match` asserts the same command fails when the directory glob is `/different/path/*`, highlighting that cwd scoping is enforced.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-domain-tests-domain-rule-fetch-url",
          "sectionId": "section-domain-tests",
          "slug": "domain-rule-fetch-url",
          "name": "Fetch rules support URL wildcards",
          "description": "`test_net_fetch_url_pattern_match` proves `Rule::Fetch` with `https://api.example.com/*` matches the request URL, so remote fetches can be whitelisted with prefix globs.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/rule.rs",
              "sha256": "c2b741c0abfe4edd015c3a608dfdab98bd421291fe011f315d1eb9d6e2dd94fa"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-domain-tests-domain-engine-allow-read",
          "sectionId": "section-domain-tests",
          "slug": "domain-engine-allow-read",
          "name": "Policy engine allows configured reads",
          "description": "`test_policy_engine_can_perform_read` loads a workflow with an allow rule and asserts `PolicyEngine::can_perform` returns `Permission::Allow` for matching reads.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-engine-deny-write",
          "sectionId": "section-domain-tests",
          "slug": "domain-engine-deny-write",
          "name": "Policy engine denies write by default",
          "description": "`test_policy_engine_can_perform_write` demonstrates that a deny policy yields `Permission::Deny` for write attempts, ensuring destructive actions stay blocked without overrides.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-engine-confirm-write",
          "sectionId": "section-domain-tests",
          "slug": "domain-engine-confirm-write",
          "name": "Policy engine can request confirmation",
          "description": "`test_policy_engine_can_perform_write_with_confirm` seeds a confirm rule and observes `Permission::Confirm`, covering interactive approval flows for writes.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-engine-allow-exec",
          "sectionId": "section-domain-tests",
          "slug": "domain-engine-allow-exec",
          "name": "Policy engine permits allowed commands",
          "description": "`test_policy_engine_can_perform_execute` validates that whitelisted execute rules yield `Permission::Allow`, cementing command permission coverage.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-domain-tests-domain-engine-allow-fetch",
          "sectionId": "section-domain-tests",
          "slug": "domain-engine-allow-fetch",
          "name": "Policy engine allows configured fetches",
          "description": "`test_policy_engine_can_perform_net_fetch` checks remote fetch operations hit the allow rule and return `Permission::Allow` for the whitelisted host.",
          "tags": [
            "tests",
            "policy",
            "domain"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/policies/engine.rs",
              "sha256": "8d53b6866ad811da7f08fdc07dd58aab848481b638aba0fa8b0aa8cc4a88f0cf"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-domain-tests-domain-temperature-new",
          "sectionId": "section-domain-tests",
          "slug": "domain-temperature-new",
          "name": "Temperature range enforcement passes and fails correctly",
          "description": "`test_temperature_creation` loops over valid and invalid floats to ensure `Temperature::new` accepts 0.0–2.0 and returns helpful errors outside that window.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/temperature.rs",
              "sha256": "4510b37263ed218316ff6085c64f4975b526c20219c634a997c3766a0bc91efc"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-temperature-serialize",
          "sectionId": "section-domain-tests",
          "slug": "domain-temperature-serialize",
          "name": "Temperature serialization preserves precision",
          "description": "`test_temperature_serialization` serialises 0.7 to JSON and asserts the float stays within 0.001 tolerance, covering JSON round-tripping behaviour.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/temperature.rs",
              "sha256": "4510b37263ed218316ff6085c64f4975b526c20219c634a997c3766a0bc91efc"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-domain-tests-domain-temperature-deserialize",
          "sectionId": "section-domain-tests",
          "slug": "domain-temperature-deserialize",
          "name": "Temperature deserialization enforces range",
          "description": "`test_temperature_deserialization` confirms serde rejects values outside 0.0–2.0 with the same error string used by manual construction.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/temperature.rs",
              "sha256": "4510b37263ed218316ff6085c64f4975b526c20219c634a997c3766a0bc91efc"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-temperature-struct",
          "sectionId": "section-domain-tests",
          "slug": "domain-temperature-struct",
          "name": "Temperature validates inside structs",
          "description": "`test_temperature_in_struct` embeds `Temperature` in a serde struct, showing valid payloads parse while `temp: 2.5` triggers the range error path.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/temperature.rs",
              "sha256": "4510b37263ed218316ff6085c64f4975b526c20219c634a997c3766a0bc91efc"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-max-tokens-new",
          "sectionId": "section-domain-tests",
          "slug": "domain-max-tokens-new",
          "name": "MaxTokens builder enforces 1–100000",
          "description": "`test_max_tokens_creation` walks valid and invalid integer lists to prove `MaxTokens::new` clamps to the documented bounds.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/max_tokens.rs",
              "sha256": "92cd76c11f08004dec06ff778b936c2bfdd10037557ec9833b51987abc0ec6b1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-domain-tests-domain-max-tokens-serialize",
          "sectionId": "section-domain-tests",
          "slug": "domain-max-tokens-serialize",
          "name": "MaxTokens serializes to numeric JSON",
          "description": "`test_max_tokens_serialization` ensures serde emits a plain integer (4000) rather than a string, aligning with schema expectations.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/max_tokens.rs",
              "sha256": "92cd76c11f08004dec06ff778b936c2bfdd10037557ec9833b51987abc0ec6b1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-domain-tests-domain-max-tokens-deserialize",
          "sectionId": "section-domain-tests",
          "slug": "domain-max-tokens-deserialize",
          "name": "MaxTokens deserialization carries range errors",
          "description": "`test_max_tokens_deserialization` mirrors the creation bounds during serde parsing, raising clear errors for 0 or >100000.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/max_tokens.rs",
              "sha256": "92cd76c11f08004dec06ff778b936c2bfdd10037557ec9833b51987abc0ec6b1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-max-tokens-struct",
          "sectionId": "section-domain-tests",
          "slug": "domain-max-tokens-struct",
          "name": "MaxTokens validates when nested in structs",
          "description": "`test_max_tokens_in_struct` shows struct deserialization succeeds for 4000 but rejects 200000, ensuring downstream configs inherit the guardrails.",
          "tags": [
            "tests",
            "domain",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/max_tokens.rs",
              "sha256": "92cd76c11f08004dec06ff778b936c2bfdd10037557ec9833b51987abc0ec6b1"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-tool-name-special-chars",
          "sectionId": "section-domain-tests",
          "slug": "domain-tool-name-special-chars",
          "name": "ToolName sanitizes special characters",
          "description": "`test_sanitize_special_characters` converts `tool-name@with#special$chars` into `tool_name_with_special_chars`, documenting how punctuation becomes underscores.",
          "tags": [
            "tests",
            "domain",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-tool-name-whitespace",
          "sectionId": "section-domain-tests",
          "slug": "domain-tool-name-whitespace",
          "name": "ToolName replaces spaces with underscores",
          "description": "`test_sanitize_whitespace` demonstrates multi-word names collapse to snake_case, e.g. `tool name with spaces` → `tool_name_with_spaces`.",
          "tags": [
            "tests",
            "domain",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-tool-name-consecutive",
          "sectionId": "section-domain-tests",
          "slug": "domain-tool-name-consecutive",
          "name": "ToolName de-duplicates special separators",
          "description": "`test_sanitize_consecutive_special_chars` shows repeated dashes and underscores coalesce into single underscores, preventing double markers in generated slugs.",
          "tags": [
            "tests",
            "domain",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-domain-tests-domain-tool-name-camel",
          "sectionId": "section-domain-tests",
          "slug": "domain-tool-name-camel",
          "name": "ToolName lowers camelCase identifiers",
          "description": "`test_sanitize_camel_case` proves camelCase names are lowercased without inserting separators, yielding `camelcase` for prompt tooling.",
          "tags": [
            "tests",
            "domain",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-domain-tests-domain-tool-name-dots",
          "sectionId": "section-domain-tests",
          "slug": "domain-tool-name-dots",
          "name": "ToolName normalizes dots and slashes",
          "description": "`test_sanitize_dots_and_slashes` turns `tool.name/with.dots` into `tool_name_with_dots`, highlighting how path-like names are flattened.",
          "tags": [
            "tests",
            "domain",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/tool_name.rs",
              "sha256": "6dddea76a96b3c4d02388527d34847b92887f1950156c7e20be3aa6efd5a070f"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-domain-tests-domain-retry-defaults",
          "sectionId": "section-domain-tests",
          "slug": "domain-retry-defaults",
          "name": "RetryConfig default documents base backoff",
          "description": "`test_retry_config_default` asserts the default initial backoff (200ms), minimum delay (1s), max attempts (8), status codes, and `suppress_retry_errors` flag, serving as canonical defaults.",
          "tags": [
            "tests",
            "domain",
            "retry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/retry_config.rs",
              "sha256": "db9c3e6959af70e9f0adccb8fb35c967767da8e9579b53627e06ae37a8c37f87"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        },
        {
          "id": "aspect-domain-tests-domain-retry-setters",
          "sectionId": "section-domain-tests",
          "slug": "domain-retry-setters",
          "name": "RetryConfig builder overrides fields fluently",
          "description": "`test_retry_config_setters` chains setter methods to customise delays, factors, status codes, and the suppress flag, proving the builder-style API mutates copies as intended.",
          "tags": [
            "tests",
            "domain",
            "retry"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/src/retry_config.rs",
              "sha256": "db9c3e6959af70e9f0adccb8fb35c967767da8e9579b53627e06ae37a8c37f87"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.35
        }
      ]
    },
    {
      "id": "section-crate-metadata",
      "slug": "crate-metadata",
      "title": "Crate Metadata",
      "entries": [
        {
          "id": "aspect-crate-metadata-workspace-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "workspace-manifest",
          "name": "Workspace manifest centralises versions and release profile",
          "description": "`Cargo.toml` pins shared dependencies under `[workspace.dependencies]`, sets `resolver = 2`, enables release LTO with single codegen unit, and lists every internal crate (including the staged `forge_inte` slot) so all packages inherit consistent versions and build settings.",
          "tags": [
            "configuration",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/Cargo.toml",
              "sha256": "2f42958e58a0c66b7082dd22336c5e8da36d4d76119a1f1dfc72b324c636a48a"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.42
        },
        {
          "id": "aspect-crate-metadata-forge-api-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-api-manifest",
          "name": "forge_api manifest binds app, services, and infra crates",
          "description": "`crates/forge_api/Cargo.toml` keeps the API crate lean, depending only on `forge_domain`, `forge_stream`, `forge_services`, `forge_infra`, and `forge_app` so the public facade can stitch infrastructure, services, and orchestration without extra third-party baggage.",
          "tags": [
            "manifest",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_api/Cargo.toml",
              "sha256": "e105dd0ce3dc016b4ee4b1c1b0441f9f908c1f795c4de8d0ce9b2eff02f1dec9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-crate-metadata-forge-app-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-app-manifest",
          "name": "forge_app manifest pulls orchestration and provider stacks",
          "description": "`crates/forge_app/Cargo.toml` draws in domain models, streaming, template rendering, display formatting, HTTP clients, schema generation, and retry/backoff utilities, reflecting how the orchestrator coordinates services, templates, and provider adapters.",
          "tags": [
            "runtime",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_app/Cargo.toml",
              "sha256": "98d87ff3529057ff8636866365ce2989f8700decd75676dae1b13f7201c805bc"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-crate-metadata-forge-ci-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-ci-manifest",
          "name": "forge_ci manifest embeds workflow templating stack",
          "description": "`crates/forge_ci/Cargo.toml` limits dependencies to `gh-workflow`, `serde`, `serde_json`, `indexmap`, and `derive_setters`, underscoring that the crate's job is to render GitHub workflow YAML from strongly typed Rust builders.",
          "tags": [
            "manifest",
            "tools"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_ci/Cargo.toml",
              "sha256": "81436ac7042034207120e3b9c276ab8e7c24b1f0916fa4c46c38e1b143639cf9"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.34
        },
        {
          "id": "aspect-crate-metadata-forge-display-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-display-manifest",
          "name": "forge_display manifest focuses on terminal rendering deps",
          "description": "`crates/forge_display/Cargo.toml` pulls in `termimad`, `console`, `regex`, and `similar` with snapshot testing defaults, highlighting that the crate owns rich diff, markdown, and grep presentation.",
          "tags": [
            "manifest",
            "rendering"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_display/Cargo.toml",
              "sha256": "e277c1edc57bf84cbfa894f59793b95e61bdd2a671ad7cc2a9180520da600e1d"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-crate-metadata-forge-domain-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-domain-manifest",
          "name": "forge_domain manifest wires schema, parsing, and macro helpers",
          "description": "`crates/forge_domain/Cargo.toml` unifies serde/schemars, async traits, UUIDs, regex, YAML parsing, custom derive macros, and the `forge_tool_macros` plus `forge_json_repair` crates, mirroring how the domain layer validates tool calls and workflow definitions.",
          "tags": [
            "manifest",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_domain/Cargo.toml",
              "sha256": "ee56fe6c77c389bb27d34416eb3418cca755eac5ff0c7fd6597b9073595ee378"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-crate-metadata-forge-fs-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-fs-manifest",
          "name": "forge_fs manifest adds infer for binary detection",
          "description": "`crates/forge_fs/Cargo.toml` stays minimal—`tokio`, `anyhow`, and `infer` for binary sniffing—showing the filesystem layer's focus on async IO with optional test helpers via `tempfile`.",
          "tags": [
            "filesystem",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_fs/Cargo.toml",
              "sha256": "7bfb09f4d82a4ddffafa4dd58dc3fe9a0e6cd197c4214368255c5f1a767adc94"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        },
        {
          "id": "aspect-crate-metadata-forge-infra-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-infra-manifest",
          "name": "forge_infra manifest couples storage, cache, and HTTP clients",
          "description": "`crates/forge_infra/Cargo.toml` layers diesel with bundled SQLite, `cacache` for content-addressable storage, reqwest plus eventsource, RMCP IPC, and the snaps/fs/select crates, reflecting how infrastructure glues persistence, cache, and runtime IO.",
          "tags": [
            "infrastructure",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_infra/Cargo.toml",
              "sha256": "fb4cdcb9785acd43456d6d442027fc808c934cce5c24d9f747b87f550a01f4ff"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.37
        },
        {
          "id": "aspect-crate-metadata-forge-json-repair-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-json-repair-manifest",
          "name": "forge_json_repair manifest keeps regex-based fixups lightweight",
          "description": "`crates/forge_json_repair/Cargo.toml` depends only on serde/serde_json, regex, and thiserror, emphasising that the crate is a focused utility for repairing malformed JSON blobs.",
          "tags": [
            "validation",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_json_repair/Cargo.toml",
              "sha256": "a792a891037798db405f6240b943d33572de12d75bb21e0b4b5ee26422029c84"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-crate-metadata-forge-main-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-main-manifest",
          "name": "forge_main manifest assembles CLI, UI, and updater deps",
          "description": "`crates/forge_main/Cargo.toml` brings together clap, Reedline, nucleo fuzzy matching, the spinner/select/display crates, update-informer for npm release checks, and open/humantime utilities, showing how the CLI binary coordinates runtime UX and updates.",
          "tags": [
            "cli",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_main/Cargo.toml",
              "sha256": "9afd2ff14812beab096d24bb474df61d350935309606a7ab4f504c093f4dbe3e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.38
        },
        {
          "id": "aspect-crate-metadata-forge-select-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-select-manifest",
          "name": "forge_select manifest isolates dialoguer dependency",
          "description": "`crates/forge_select/Cargo.toml` pins `dialoguer` alongside `anyhow` and `console`, underscoring the crate's role as the sole owner of interactive prompt dependencies.",
          "tags": [
            "cli",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_select/Cargo.toml",
              "sha256": "b412d7a7729a024f9451ec00eba27e4c1e94e6ed4689cf3bd9aa4345c0e6520e"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-crate-metadata-forge-services-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-services-manifest",
          "name": "forge_services manifest spans HTTP, tree-sitter, and template stacks",
          "description": "`crates/forge_services/Cargo.toml` mixes async traits, reqwest, event streams, tree-sitter grammars, grep-searcher, gray-matter markdown parsing, and rust-embed assets, detailing the service layer's breadth from tool execution to template rendering.",
          "tags": [
            "services",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_services/Cargo.toml",
              "sha256": "fc5f06dac7b1a73a96ca40aa421aac975c513e9a209f01993ba91d959c26e4c3"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.4
        },
        {
          "id": "aspect-crate-metadata-forge-snaps-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-snaps-manifest",
          "name": "forge_snaps manifest combines chrono, uuid, and fnv hashing",
          "description": "`crates/forge_snaps/Cargo.toml` depends on chrono, UUIDs, `fnv_rs`, and `forge_fs`, showing how snapshot IDs mix timestamps, hashing, and async filesystem writes.",
          "tags": [
            "manifest",
            "validation"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_snaps/Cargo.toml",
              "sha256": "906570bdd168be9542c7b168459a41dddc861c4fe1f0d533d2244b16b663aea0"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.32
        },
        {
          "id": "aspect-crate-metadata-forge-spinner-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-spinner-manifest",
          "name": "forge_spinner manifest pulls indicatif and rand",
          "description": "`crates/forge_spinner/Cargo.toml` layers `indicatif` progress spinners over tokio timers and random verb selection, highlighting the crate's focus on async user feedback.",
          "tags": [
            "runtime",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_spinner/Cargo.toml",
              "sha256": "0cfe5f9a6787fa14b53a71ccb72a92355a177f6ef694ec21a1a6d386ee97e260"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        },
        {
          "id": "aspect-crate-metadata-forge-stream-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-stream-manifest",
          "name": "forge_stream manifest stays limited to futures and tokio",
          "description": "`crates/forge_stream/Cargo.toml` keeps only `futures` and `tokio` dependencies, underscoring that the crate exists purely to expose a utility stream adapter.",
          "tags": [
            "runtime",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_stream/Cargo.toml",
              "sha256": "c4a6eaf3ac31858dd346fc55450abf7bff18358cca89588a85d4feacbe2c4f9b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        },
        {
          "id": "aspect-crate-metadata-forge-template-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-template-manifest",
          "name": "forge_template manifest relies solely on html-escape",
          "description": "`crates/forge_template/Cargo.toml` depends only on `html-escape`, keeping the templating crate focused on safe markup construction with minimal surface area.",
          "tags": [
            "rendering",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_template/Cargo.toml",
              "sha256": "c1bb8b3b887bf481f09d2eeae53fb73513bafe2768832cf8b66285194b26c069"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.31
        },
        {
          "id": "aspect-crate-metadata-forge-tool-macros-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-tool-macros-manifest",
          "name": "forge_tool_macros manifest defines the proc-macro surface",
          "description": "`crates/forge_tool_macros/Cargo.toml` marks the crate as `proc-macro` and depends on `syn`, `quote`, and `proc-macro2`, confirming it only provides compile-time doc-string extraction helpers.",
          "tags": [
            "tools",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tool_macros/Cargo.toml",
              "sha256": "803c0d97a39567ba592ec75376379f9596884542b7384a8e021f6965dc1bf627"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        },
        {
          "id": "aspect-crate-metadata-forge-tracker-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-tracker-manifest",
          "name": "forge_tracker manifest couples telemetry and tracing stacks",
          "description": "`crates/forge_tracker/Cargo.toml` pulls PostHog, systinfo, tracing subscriber/appender, HTTP primitives, and machine identity helpers, reflecting how telemetry collection needs system metadata and async HTTP clients.",
          "tags": [
            "manifest",
            "services"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_tracker/Cargo.toml",
              "sha256": "e071119b6647869f79d35572109ec448bce013171cb7be8198398a1e38dd8f2b"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.36
        },
        {
          "id": "aspect-crate-metadata-forge-walker-manifest",
          "sectionId": "section-crate-metadata",
          "slug": "forge-walker-manifest",
          "name": "forge_walker manifest centres on ignore-based traversal",
          "description": "`crates/forge_walker/Cargo.toml` depends on `ignore`, tokio, and derive setters, highlighting the crate's job of walking repositories with gitignore semantics.",
          "tags": [
            "filesystem",
            "manifest"
          ],
          "sources": [
            {
              "path": "projects/forge/crates/forge_walker/Cargo.toml",
              "sha256": "e7ad3e7680840399e8cb2f581fc6b01ee5429e503e9cbb5f708e1ac443c74901"
            }
          ],
          "lastUpdated": "2025-10-22",
          "importance": 0.33
        }
      ]
    }
  ]
}
